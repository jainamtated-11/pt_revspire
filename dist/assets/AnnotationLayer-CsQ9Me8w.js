const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BIqdkLuE-lI_fVCha.js","assets/url-Dkx9cvHv-D965TLM6.js","assets/index-b9OYvAdP.js","assets/index-Cy2W1OK4.css","assets/index-DFn6bF3J-ClYEa7OM.js"])))=>i.map(i=>d[i]);
import{G as xt,r as I,j as N,s as br,_ as Ph}from"./index-b9OYvAdP.js";function Ij(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},child:[]}]})(n)}function Dj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M13.05 9.79 10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69A7.941 7.941 0 0 1 11 4.07zM5.69 7.1 4.26 5.68A9.949 9.949 0 0 0 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43A7.868 7.868 0 0 1 4.07 13zm1.61 6.74A9.981 9.981 0 0 0 11 21.95v-2.02a7.941 7.941 0 0 1-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"},child:[]}]})(n)}function Oj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function Fj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"},child:[]}]})(n)}function Nj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"},child:[]}]})(n)}function jj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M13.05 9.79 10 7.5v9l3.05-2.29L16 12l-2.95-2.21zm0 0L10 7.5v9l3.05-2.29L16 12l-2.95-2.21zm0 0L10 7.5v9l3.05-2.29L16 12l-2.95-2.21zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69A7.941 7.941 0 0 1 11 4.07zM5.69 7.1 4.26 5.68A9.949 9.949 0 0 0 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43A7.868 7.868 0 0 1 4.07 13zm1.61 6.74A9.981 9.981 0 0 0 11 21.95v-2.02a7.941 7.941 0 0 1-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"},child:[]}]})(n)}function Bj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function Wj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21v-2z"},child:[]}]})(n)}function Vj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"},child:[]}]})(n)}function Uj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l4 -4l4 4m-4 -4v14"},child:[]},{tag:"path",attr:{d:"M21 15l-4 4l-4 -4m4 4v-14"},child:[]}]})(n)}function Hj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 14l2 2l4 -4"},child:[]}]})(n)}function zj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]}]})(n)}function $j(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"},child:[]},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"},child:[]},{tag:"path",attr:{d:"M16 5l3 3"},child:[]}]})(n)}function Gj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"},child:[]},{tag:"path",attr:{d:"M2 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z"},child:[]},{tag:"path",attr:{d:"M17 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1 -3 0v-3a1.5 1.5 0 0 1 1.5 -1.5z"},child:[]},{tag:"path",attr:{d:"M19.5 15l3 6"},child:[]},{tag:"path",attr:{d:"M19.5 21l3 -6"},child:[]}]})(n)}function qj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M4 13m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 4m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]}]})(n)}function Kj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 12h.01"},child:[]},{tag:"path",attr:{d:"M4 6h.01"},child:[]},{tag:"path",attr:{d:"M4 18h.01"},child:[]},{tag:"path",attr:{d:"M8 18h2"},child:[]},{tag:"path",attr:{d:"M8 12h2"},child:[]},{tag:"path",attr:{d:"M8 6h2"},child:[]},{tag:"path",attr:{d:"M14 6h6"},child:[]},{tag:"path",attr:{d:"M14 12h6"},child:[]},{tag:"path",attr:{d:"M14 18h6"},child:[]}]})(n)}function Yj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 7l5 5l-5 5"},child:[]},{tag:"path",attr:{d:"M13 17l6 0"},child:[]}]})(n)}function Xj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6l7 0"},child:[]},{tag:"path",attr:{d:"M4 12l7 0"},child:[]},{tag:"path",attr:{d:"M4 18l9 0"},child:[]},{tag:"path",attr:{d:"M15 9l3 -3l3 3"},child:[]},{tag:"path",attr:{d:"M18 6l0 12"},child:[]}]})(n)}function Zj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6l9 0"},child:[]},{tag:"path",attr:{d:"M4 12l7 0"},child:[]},{tag:"path",attr:{d:"M4 18l7 0"},child:[]},{tag:"path",attr:{d:"M15 15l3 3l3 -3"},child:[]},{tag:"path",attr:{d:"M18 6l0 12"},child:[]}]})(n)}function Qj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z"},child:[]},{tag:"path",attr:{d:"M10 10h11"},child:[]},{tag:"path",attr:{d:"M10 3v18"},child:[]},{tag:"path",attr:{d:"M9 3l-6 6"},child:[]},{tag:"path",attr:{d:"M10 7l-7 7"},child:[]},{tag:"path",attr:{d:"M10 12l-7 7"},child:[]},{tag:"path",attr:{d:"M10 17l-4 4"},child:[]}]})(n)}function Jj(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7l16 0"},child:[]},{tag:"path",attr:{d:"M10 11l0 6"},child:[]},{tag:"path",attr:{d:"M14 11l0 6"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]}]})(n)}/*! js-cookie v3.0.5 | MIT */function Rh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)n[i]=e[i]}return n}var KE={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ug(n,t){function e(s,r,a){if(!(typeof document>"u")){a=Rh({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,a[l]!==!0&&(o+="="+a[l].split(";")[0]));return document.cookie=s+"="+n.write(r,s)+o}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var r=document.cookie?document.cookie.split("; "):[],a={},o=0;o<r.length;o++){var l=r[o].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(a[c]=n.read(u,c),s===c)break}catch{}}return s?a[s]:a}}return Object.create({set:e,get:i,remove:function(s,r){e(s,"",Rh({},r,{expires:-1}))},withAttributes:function(s){return ug(this.converter,Rh({},this.attributes,s))},withConverter:function(s){return ug(Rh({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(n)}})}var tB=ug(KE,{path:"/"});/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jb=(...n)=>n.filter((t,e,i)=>!!t&&i.indexOf(t)===e).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=I.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...o},l)=>I.createElement("svg",{ref:l,...XE,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:jb("lucide",s),...o},[...a.map(([u,c])=>I.createElement(u,c)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=(n,t)=>{const e=I.forwardRef(({className:i,...s},r)=>I.createElement(ZE,{ref:r,iconNode:t,className:jb(`lucide-${YE(n)}`,i),...s}));return e.displayName=`${n}`,e};function nB(n){return xt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(n)}function iB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"},child:[]}]})(n)}function sB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"},child:[]}]})(n)}function rB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"},child:[]}]})(n)}function aB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 464l48 0 0 48-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 304l-48 0 0-144-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"},child:[]}]})(n)}function oB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(n)}function lB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"44",d:"M416 128 192 384l-96-96"},child:[]}]})(n)}function hB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M432 112V96a48.14 48.14 0 0 0-48-48H64a48.14 48.14 0 0 0-48 48v256a48.14 48.14 0 0 0 48 48h16"},child:[]},{tag:"rect",attr:{width:"400",height:"336",x:"96",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"45.99",ry:"45.99"},child:[]},{tag:"ellipse",attr:{cx:"372.92",cy:"219.64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"30.77",ry:"30.55"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M342.15 372.17 255 285.78a30.93 30.93 0 0 0-42.18-1.21L96 387.64M265.23 464l118.59-117.73a31 31 0 0 1 41.46-1.87L496 402.91"},child:[]}]})(n)}function cB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"36",d:"M208 352h-64a96 96 0 0 1 0-192h64m96 0h64a96 96 0 0 1 0 192h-64m-140.71-96h187.42"},child:[]}]})(n)}function uB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"48",d:"M200.66 352H144a96 96 0 0 1 0-192h55.41m113.18 0H368a96 96 0 0 1 0 192h-56.66m-142.27-96h175.86"},child:[]}]})(n)}function dB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(n)}function fB(n){return xt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 192h40a40 40 0 0 1 40 40v192a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V232a40 40 0 0 1 40-40h40m160-64-80-80-80 80m80 193V48"},child:[]}]})(n)}function pB(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M4.99787498,8.99999999 L4.99787498,0.999999992 L19.4999998,0.999999992 L22.9999998,4.50000005 L23,23 L4,23 M18,1 L18,6 L23,6 M4,12 L4.24999995,12 L5.49999995,12 C7.5,12 9,12.5 8.99999995,14.25 C8.9999999,16 7.5,16.5 5.49999995,16.5 L4.24999995,16.5 L4.24999995,19 L4,18.9999999 L4,12 Z"},child:[]}]})(n)}function gB(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M6,16 L16,16 L6,16 L6,16 Z M6,12 L18,12 L6,12 L6,12 Z M6,8 L11,8 L6,8 L6,8 Z M14,1 L14,8 L21,8 M3,23 L3,1 L15,1 L21,7 L21,23 L3,23 Z"},child:[]}]})(n)}function mB(n){return xt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,22 C12,22 2.99999999,18 3,11 L3,5 L12,2 L21,5 C21,5 21,11 21,11 C21,18 12,22 12,22 Z M12,14 C13.6568542,14 15,12.6568542 15,11 C15,9.34314575 13.6568542,8 12,8 C10.3431458,8 9,9.34314575 9,11 C9,12.6568542 10.3431458,14 12,14 Z M12,8 L12,5 M12,17 L12,14 M6,11 L9,11 M15,11 L18,11 M8,7 L10,9 M14,13 L16,15 M16,7 L14,9 M10,13 L8,15"},child:[]}]})(n)}const Ev=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Sf=I.createContext({}),Ef=I.createContext(null),kv=typeof window<"u",Bb=kv?I.useLayoutEffect:I.useEffect,Wb=I.createContext({strict:!1}),kf=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QE="framerAppearId",Vb="data-"+kf(QE),JE={skipAnimations:!1,useManualTiming:!1};function tk(n){let t=new Set,e=new Set,i=!1,s=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){r.has(u)&&(l.schedule(u),n()),u(a)}const l={schedule:(u,c=!1,d=!1)=>{const g=d&&i?t:e;return c&&r.add(u),g.has(u)||g.add(u),u},cancel:u=>{e.delete(u),r.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[t,e]=[e,t],e.clear(),t.forEach(o),i=!1,s&&(s=!1,l.process(u))}};return l}const Lh=["read","resolveKeyframes","update","preRender","render","postRender"],ek=40;function Ub(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,a=Lh.reduce((E,k)=>(E[k]=tk(r),E),{}),{read:o,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:p}=a,g=()=>{const E=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(E-s.timestamp,ek),1),s.timestamp=E,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),c.process(s),d.process(s),p.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(g))},y=()=>{e=!0,i=!0,s.isProcessing||n(g)};return{schedule:Lh.reduce((E,k)=>{const C=a[k];return E[k]=(P,R=!1,O=!1)=>(e||y(),C.schedule(P,R,O)),E},{}),cancel:E=>{for(let k=0;k<Lh.length;k++)a[Lh[k]].cancel(E)},state:s,steps:a}}const{schedule:_v,cancel:vB}=Ub(queueMicrotask,!1);function Aa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}const Hb=I.createContext({});let Fy=!1;function nk(n,t,e,i,s){var r;const{visualElement:a}=I.useContext(Sf),o=I.useContext(Wb),l=I.useContext(Ef),u=I.useContext(Ev).reducedMotion,c=I.useRef();i=i||o.renderer,!c.current&&i&&(c.current=i(n,{visualState:t,parent:a,props:e,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const d=c.current,p=I.useContext(Hb);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&sk(c.current,e,s,p),I.useInsertionEffect(()=>{d&&d.update(e,l)});const g=e[Vb],y=I.useRef(!!g&&!window.MotionHandoffIsComplete&&((r=window.MotionHasOptimisedAnimation)===null||r===void 0?void 0:r.call(window,g)));return Bb(()=>{d&&(d.updateFeatures(),_v.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),I.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current=!1,Fy||(Fy=!0,queueMicrotask(ik)))}),d}function ik(){window.MotionHandoffIsComplete=!0}function sk(n,t,e,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:zb(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&Aa(o),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:u})}function zb(n){if(n)return n.options.allowProjection!==!1?n.projection:zb(n.parent)}function rk(n,t,e){return I.useCallback(i=>{i&&n.mount&&n.mount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Aa(e)&&(e.current=i))},[t])}function hh(n){return typeof n=="string"||Array.isArray(n)}function ch(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tv=["initial",...Cv];function _f(n){return ch(n.animate)||Tv.some(t=>hh(n[t]))}function $b(n){return!!(_f(n)||n.variants)}function ak(n,t){if(_f(n)){const{initial:e,animate:i}=n;return{initial:e===!1||hh(e)?e:void 0,animate:hh(i)?i:void 0}}return n.inherit!==!1?t:{}}function ok(n){const{initial:t,animate:e}=ak(n,I.useContext(Sf));return I.useMemo(()=>({initial:t,animate:e}),[Ny(t),Ny(e)])}function Ny(n){return Array.isArray(n)?n.join(" "):n}const jy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},no={};for(const n in jy)no[n]={isEnabled:t=>jy[n].some(e=>!!t[e])};function lk(n){for(const t in n)no[t]={...no[t],...n[t]}}const Mv=I.createContext({}),hk=Symbol.for("motionComponentSymbol"),Oe=n=>n;let dg=Oe;function ck({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&lk(n);function r(o,l){let u;const c={...I.useContext(Ev),...o,layoutId:uk(o)},{isStatic:d}=c,p=ok(o),g=i(o,d);if(!d&&kv){dk();const y=fk(c);u=y.MeasureLayout,p.visualElement=nk(s,g,c,t,y.ProjectionNode)}return N.jsxs(Sf.Provider,{value:p,children:[u&&p.visualElement?N.jsx(u,{visualElement:p.visualElement,...c}):null,e(s,o,rk(g,p.visualElement,l),g,d,p.visualElement)]})}const a=I.forwardRef(r);return a[hk]=s,a}function uk({layoutId:n}){const t=I.useContext(Mv).id;return t&&n!==void 0?t+"-"+n:n}function dk(n,t){I.useContext(Wb).strict}function fk(n){const{drag:t,layout:e}=no;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function pk(n){function t(i,s={}){return ck(n(i,s))}if(typeof Proxy>"u")return t;const e=new Map;return new Proxy(t,{get:(i,s)=>(e.has(s)||e.set(s,t(s)),e.get(s))})}const gk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pv(n){return typeof n!="string"||n.includes("-")?!1:!!(gk.indexOf(n)>-1||/[A-Z]/u.test(n))}const vd={};function mk(n){Object.assign(vd,n)}const yh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bs=new Set(yh);function Gb(n,{layout:t,layoutId:e}){return bs.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!vd[n]||n==="opacity")}const Le=n=>!!(n&&n.getVelocity),qb=(n,t)=>t&&typeof n=="number"?t.transform(n):n,vs=(n,t,e)=>e>t?t:e<n?n:e,uo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ll={...uo,transform:n=>vs(0,1,n)},Ih={...uo,default:1},Il=n=>Math.round(n*1e5)/1e5,Rv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,vk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,yk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function wh(n){return typeof n=="string"}function wk(n){return n==null}const bh=n=>({test:t=>wh(t)&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ji=bh("deg"),qn=bh("%"),rt=bh("px"),bk=bh("vh"),Ak=bh("vw"),By={...qn,parse:n=>qn.parse(n)/100,transform:n=>qn.transform(n*100)},Wy={...uo,transform:Math.round},Lv={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,size:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:ji,skewX:ji,skewY:ji,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Ll,originX:By,originY:By,originZ:rt,zIndex:Wy,backgroundPositionX:rt,backgroundPositionY:rt,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:Wy},xk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sk=yh.length;function Ek(n,t,e){let i="",s=!0;for(let r=0;r<Sk;r++){const a=yh[r],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||e){const u=qb(o,Lv[a]);if(!l){s=!1;const c=xk[a]||a;i+=`${c}(${u}) `}e&&(t[a]=u)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}const Kb=n=>t=>typeof t=="string"&&t.startsWith(n),Yb=Kb("--"),kk=Kb("var(--"),Iv=n=>kk(n)?_k.test(n.split("/*")[0].trim()):!1,_k=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Dv(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let a=!1,o=!1;for(const l in t){const u=t[l];if(bs.has(l)){a=!0;continue}else if(Yb(l)){s[l]=u;continue}else{const c=qb(u,Lv[l]);l.startsWith("origin")?(o=!0,r[l]=c):i[l]=c}}if(t.transform||(a||e?i.transform=Ek(t,n.transform,e):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=r;i.transformOrigin=`${l} ${u} ${c}`}}const Ov=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xb(n,t,e){for(const i in t)!Le(t[i])&&!Gb(i,e)&&(n[i]=t[i])}function Ck({transformTemplate:n},t){return I.useMemo(()=>{const e=Ov();return Dv(e,t,n),Object.assign({},e.vars,e.style)},[t])}function Tk(n,t){const e=n.style||{},i={};return Xb(i,e,n),Object.assign(i,Ck(n,t)),i}function Mk(n,t){const e={},i=Tk(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const Pk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Pk.has(n)}let Zb=n=>!yd(n);function Rk(n){n&&(Zb=t=>t.startsWith("on")?!yd(t):n(t))}try{Rk(require("@emotion/is-prop-valid").default)}catch{}function Lk(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(Zb(s)||e===!0&&yd(s)||!t&&!yd(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function Vy(n,t,e){return typeof n=="string"?n:rt.transform(t+e*n)}function Ik(n,t,e){const i=Vy(t,n.x,n.width),s=Vy(e,n.y,n.height);return`${i} ${s}`}const Dk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ok={offset:"strokeDashoffset",array:"strokeDasharray"};function Fk(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?Dk:Ok;n[r.offset]=rt.transform(-i);const a=rt.transform(t),o=rt.transform(e);n[r.array]=`${a} ${o}`}function Fv(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:r,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,d){if(Dv(n,u,d),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g,dimensions:y}=n;p.transform&&(y&&(g.transform=p.transform),delete p.transform),y&&(s!==void 0||r!==void 0||g.transform)&&(g.transformOrigin=Ik(y,s!==void 0?s:.5,r!==void 0?r:.5)),t!==void 0&&(p.x=t),e!==void 0&&(p.y=e),i!==void 0&&(p.scale=i),a!==void 0&&Fk(p,a,o,l,!1)}const Qb=()=>({...Ov(),attrs:{}}),Nv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Nk(n,t,e,i){const s=I.useMemo(()=>{const r=Qb();return Fv(r,t,Nv(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};Xb(r,n.style,n),s.style={...r,...s.style}}return s}function jk(n=!1){return(e,i,s,{latestValues:r},a)=>{const l=(Pv(e)?Nk:Mk)(i,r,a,e),u=Lk(i,typeof e=="string",n),c=e!==I.Fragment?{...u,...l,ref:s}:{},{children:d}=i,p=I.useMemo(()=>Le(d)?d.get():d,[d]);return I.createElement(e,{...c,children:p})}}function Jb(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const r in e)n.style.setProperty(r,e[r])}const tA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eA(n,t,e,i){Jb(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(tA.has(s)?s:kf(s),t.attrs[s])}function jv(n,t,e){var i;const{style:s}=n,r={};for(const a in s)(Le(s[a])||t.style&&Le(t.style[a])||Gb(a,n)||((i=e==null?void 0:e.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return e&&s&&typeof s.willChange=="string"&&(e.applyWillChange=!1),r}function nA(n,t,e){const i=jv(n,t,e);for(const s in n)if(Le(n[s])||Le(t[s])){const r=yh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}function Uy(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Bv(n,t,e,i){if(typeof t=="function"){const[s,r]=Uy(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=Uy(i);t=t(e!==void 0?e:n.custom,s,r)}return t}function Wv(n){const t=I.useRef(null);return t.current===null&&(t.current=n()),t.current}const fg=n=>Array.isArray(n),Bk=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Wk=n=>fg(n)?n[n.length-1]||0:n;function uc(n){const t=Le(n)?n.get():n;return Bk(t)?t.toValue():t}const iA=new Set(["opacity","clipPath","filter","transform"]);function sA(n){if(bs.has(n))return"transform";if(iA.has(n))return kf(n)}function Cf(n,t){n.indexOf(t)===-1&&n.push(t)}function Tf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Vk({applyWillChange:n=!1,scrapeMotionValuesFromProps:t,createRenderState:e,onMount:i},s,r,a,o){const l={latestValues:Hk(s,r,a,o?!1:n,t),renderState:e()};return i&&(l.mount=u=>i(s,u,l)),l}const rA=n=>(t,e)=>{const i=I.useContext(Sf),s=I.useContext(Ef),r=()=>Vk(n,t,i,s,e);return e?r():Wv(r)};function Uk(n,t){const e=sA(t);e&&Cf(n,e)}function Hy(n,t,e){const i=Array.isArray(t)?t:[t];for(let s=0;s<i.length;s++){const r=Bv(n,i[s]);if(r){const{transitionEnd:a,transition:o,...l}=r;e(l,a)}}}function Hk(n,t,e,i,s){var r;const a={},o=[],l=i&&((r=n.style)===null||r===void 0?void 0:r.willChange)===void 0,u=s(n,{});for(const A in u)a[A]=uc(u[A]);let{initial:c,animate:d}=n;const p=_f(n),g=$b(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const b=y?d:c;return b&&typeof b!="boolean"&&!ch(b)&&Hy(n,b,(A,E)=>{for(const k in A){let C=A[k];if(Array.isArray(C)){const P=y?C.length-1:0;C=C[P]}C!==null&&(a[k]=C)}for(const k in E)a[k]=E[k]}),l&&(d&&c!==!1&&!ch(d)&&Hy(n,d,A=>{for(const E in A)Uk(o,E)}),o.length&&(a.willChange=o.join(","))),a}const{schedule:It,cancel:Li,state:ye,steps:lp}=Ub(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oe,!0),zk={useVisualState:rA({scrapeMotionValuesFromProps:nA,createRenderState:Qb,onMount:(n,t,{renderState:e,latestValues:i})=>{It.read(()=>{try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}),It.render(()=>{Fv(e,i,Nv(t.tagName),n.transformTemplate),eA(t,e)})}})},$k={useVisualState:rA({applyWillChange:!0,scrapeMotionValuesFromProps:jv,createRenderState:Ov})};function Gk(n,{forwardMotionProps:t=!1},e,i){return{...Pv(n)?zk:$k,preloadedFeatures:e,useRender:jk(t),createVisualElement:i,Component:n}}function Si(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const aA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Mf(n,t="page"){return{point:{x:n[`${t}X`],y:n[`${t}Y`]}}}const qk=n=>t=>aA(t)&&n(t,Mf(t));function _i(n,t,e,i){return Si(n,t,qk(e),i)}const Kk=(n,t)=>e=>t(n(e)),Ci=(...n)=>n.reduce(Kk);function oA(n){let t=null;return()=>{const e=()=>{t=null};return t===null?(t=n,e):!1}}const zy=oA("dragHorizontal"),$y=oA("dragVertical");function lA(n){let t=!1;if(n==="y")t=$y();else if(n==="x")t=zy();else{const e=zy(),i=$y();e&&i?t=()=>{e(),i()}:(e&&e(),i&&i())}return t}function hA(){const n=lA(!0);return n?(n(),!1):!0}class As{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Gy(n,t){const e=t?"pointerenter":"pointerleave",i=t?"onHoverStart":"onHoverEnd",s=(r,a)=>{if(r.pointerType==="touch"||hA())return;const o=n.getProps();n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",t);const l=o[i];l&&It.postRender(()=>l(r,a))};return _i(n.current,e,s,{passive:!n.getProps()[i]})}class Yk extends As{mount(){this.unmount=Ci(Gy(this.node,!0),Gy(this.node,!1))}unmount(){}}class Xk extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ci(Si(this.node.current,"focus",()=>this.onFocus()),Si(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const cA=(n,t)=>t?n===t?!0:cA(n,t.parentElement):!1;function hp(n,t){if(!t)return;const e=new PointerEvent("pointer"+n);t(e,Mf(e))}class Zk extends As{constructor(){super(...arguments),this.removeStartListeners=Oe,this.removeEndListeners=Oe,this.removeAccessibleListeners=Oe,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),r=_i(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps(),p=!d&&!cA(this.node.current,o.target)?c:u;p&&It.update(()=>p(o,l))},{passive:!(i.onTap||i.onPointerUp)}),a=_i(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ci(r,a),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=r=>{if(r.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||hp("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&It.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Si(this.node.current,"keyup",a),hp("down",(o,l)=>{this.startPress(o,l)})},e=Si(this.node.current,"keydown",t),i=()=>{this.isPressing&&hp("cancel",(r,a)=>this.cancelPress(r,a))},s=Si(this.node.current,"blur",i);this.removeAccessibleListeners=Ci(e,s)}}startPress(t,e){this.isPressing=!0;const{onTapStart:i,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&It.postRender(()=>i(t,e))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hA()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&It.postRender(()=>i(t,e))}mount(){const t=this.node.getProps(),e=_i(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),i=Si(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ci(e,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pg=new WeakMap,cp=new WeakMap,Qk=n=>{const t=pg.get(n.target);t&&t(n)},Jk=n=>{n.forEach(Qk)};function t_({root:n,...t}){const e=n||document;cp.has(e)||cp.set(e,{});const i=cp.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Jk,{root:n,...t})),i[s]}function e_(n,t,e){const i=t_(t);return pg.set(n,e),i.observe(n),()=>{pg.delete(n),i.unobserve(n)}}const n_={some:0,all:1};class i_ extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,a={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:n_[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),p=u?c:d;p&&p(l)};return e_(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(s_(t,e))&&this.startObserver()}unmount(){}}function s_({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const r_={inView:{Feature:i_},tap:{Feature:Zk},focus:{Feature:Xk},hover:{Feature:Yk}};function uA(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}function Pf(n,t,e){const i=n.getProps();return Bv(i,t,e!==void 0?e:i.custom,n)}const Ti=n=>n*1e3,Mi=n=>n/1e3,a_={type:"spring",stiffness:500,damping:25,restSpeed:10},o_=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),l_={type:"keyframes",duration:.8},h_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c_=(n,{keyframes:t})=>t.length>2?l_:bs.has(n)?n.startsWith("scale")?o_(t[1]):a_:h_;function u_({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Vv(n,t){return n[t]||n.default||n}const d_=n=>n!==null;function Rf(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(d_),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const dA=n=>/^0[^.\s]+$/u.test(n);function f_(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||dA(n):!0}const fA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),p_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g_(n){const t=p_.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function pA(n,t,e=1){const[i,s]=g_(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const a=r.trim();return fA(a)?parseFloat(a):a}return Iv(s)?pA(s,t,e+1):s}const m_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qy=n=>n===uo||n===rt,Ky=(n,t)=>parseFloat(n.split(", ")[t]),Yy=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Ky(s[1],t);{const r=i.match(/^matrix\((.+)\)$/u);return r?Ky(r[1],n):0}},v_=new Set(["x","y","z"]),y_=yh.filter(n=>!v_.has(n));function w_(n){const t=[];return y_.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const io={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:Yy(4,13),y:Yy(5,14)};io.translateX=io.x;io.translateY=io.y;const gA=n=>t=>t.test(n),b_={test:n=>n==="auto",parse:n=>n},mA=[uo,rt,qn,ji,Ak,bk,b_],Xy=n=>mA.find(gA(n)),vr=new Set;let gg=!1,mg=!1;function vA(){if(mg){const n=Array.from(vr).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=w_(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))===null||o===void 0||o.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}mg=!1,gg=!1,vr.forEach(n=>n.complete()),vr.clear()}function yA(){vr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(mg=!0)})}function A_(){yA(),vA()}class Uv{constructor(t,e,i,s,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vr.add(this),gg||(gg=!0,It.read(yA),It.resolveKeyframes(vA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const l=i.readValue(e,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Hv=(n,t)=>e=>!!(wh(e)&&yk.test(e)&&e.startsWith(n)||t&&!wk(e)&&Object.prototype.hasOwnProperty.call(e,t)),wA=(n,t,e)=>i=>{if(!wh(i))return i;const[s,r,a,o]=i.match(Rv);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},x_=n=>vs(0,255,n),up={...uo,transform:n=>Math.round(x_(n))},ar={test:Hv("rgb","red"),parse:wA("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+up.transform(n)+", "+up.transform(t)+", "+up.transform(e)+", "+Il(Ll.transform(i))+")"};function S_(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const vg={test:Hv("#"),parse:S_,transform:ar.transform},xa={test:Hv("hsl","hue"),parse:wA("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+qn.transform(Il(t))+", "+qn.transform(Il(e))+", "+Il(Ll.transform(i))+")"},Te={test:n=>ar.test(n)||vg.test(n)||xa.test(n),parse:n=>ar.test(n)?ar.parse(n):xa.test(n)?xa.parse(n):vg.parse(n),transform:n=>wh(n)?n:n.hasOwnProperty("red")?ar.transform(n):xa.transform(n)};function E_(n){var t,e;return isNaN(n)&&wh(n)&&(((t=n.match(Rv))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(vk))===null||e===void 0?void 0:e.length)||0)>0}const bA="number",AA="color",k_="var",__="var(",Zy="${}",C_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=t.replace(C_,l=>(Te.test(l)?(i.color.push(r),s.push(AA),e.push(Te.parse(l))):l.startsWith(__)?(i.var.push(r),s.push(k_),e.push(l)):(i.number.push(r),s.push(bA),e.push(parseFloat(l))),++r,Zy)).split(Zy);return{values:e,split:o,indexes:i,types:s}}function xA(n){return uh(n).values}function SA(n){const{split:t,types:e}=uh(n),i=t.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],s[a]!==void 0){const o=e[a];o===bA?r+=Il(s[a]):o===AA?r+=Te.transform(s[a]):r+=s[a]}return r}}const T_=n=>typeof n=="number"?0:n;function M_(n){const t=xA(n);return SA(n)(t.map(T_))}const ys={test:E_,parse:xA,createTransformer:SA,getAnimatableNone:M_},P_=new Set(["brightness","contrast","saturate","opacity"]);function R_(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Rv)||[];if(!i)return n;const s=e.replace(i,"");let r=P_.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const L_=/\b([a-z-]*)\(.*?\)/gu,yg={...ys,getAnimatableNone:n=>{const t=n.match(L_);return t?t.map(R_).join(" "):n}},I_={...Lv,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:yg,WebkitFilter:yg},zv=n=>I_[n];function EA(n,t){let e=zv(n);return e!==yg&&(e=ys),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const D_=new Set(["auto","none","0"]);function O_(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!D_.has(r)&&uh(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=EA(e,s)}class kA extends Uv{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Iv(u))){const c=pA(u,e.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!m_.has(i)||t.length!==2)return;const[s,r]=t,a=Xy(s),o=Xy(r);if(a!==o)if(qy(a)&&qy(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)f_(t[s])&&i.push(s);i.length&&O_(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=io[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=io[i](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function _A(n){let t;return()=>(t===void 0&&(t=n()),t)}let dc;function F_(){dc=void 0}const Pi={now:()=>(dc===void 0&&Pi.set(ye.isProcessing||JE.useManualTiming?ye.timestamp:performance.now()),dc),set:n=>{dc=n,queueMicrotask(F_)}},Qy=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ys.test(n)||n==="0")&&!n.startsWith("url("));function N_(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function j_(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],a=Qy(s,t),o=Qy(r,t);return!a||!o?!1:N_(n)||e==="spring"&&i}const B_=40;class CA{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Pi.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>B_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&A_(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Pi.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!j_(t,i,s,r))if(a)this.options.duration=0;else{l==null||l(Rf(t,this.options,e)),o==null||o(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,e);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function TA(n,t){return t?n*(1e3/t):0}const W_=5;function MA(n,t,e){const i=Math.max(t-W_,0);return TA(e-n(i),t-i)}const dp=.001,V_=.01,U_=10,H_=.05,z_=1;function $_({duration:n=800,bounce:t=.25,velocity:e=0,mass:i=1}){let s,r,a=1-t;a=vs(H_,z_,a),n=vs(V_,U_,Mi(n)),a<1?(s=u=>{const c=u*a,d=c*n,p=c-e,g=wg(u,a),y=Math.exp(-d);return dp-p/g*y},r=u=>{const d=u*a*n,p=d*e+e,g=Math.pow(a,2)*Math.pow(u,2)*n,y=Math.exp(-d),b=wg(Math.pow(u,2),a);return(-s(u)+dp>0?-1:1)*((p-g)*y)/b}):(s=u=>{const c=Math.exp(-u*n),d=(u-e)*n+1;return-dp+c*d},r=u=>{const c=Math.exp(-u*n),d=(e-u)*(n*n);return c*d});const o=5/n,l=q_(s,r,o);if(n=Ti(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:n}}}const G_=12;function q_(n,t,e){let i=e;for(let s=1;s<G_;s++)i=i-n(i)/t(i);return i}function wg(n,t){return n*Math.sqrt(1-t*t)}const K_=["duration","bounce"],Y_=["stiffness","damping","mass"];function Jy(n,t){return t.some(e=>n[e]!==void 0)}function X_(n){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Jy(n,Y_)&&Jy(n,K_)){const e=$_(n);t={...t,...e,mass:1},t.isResolvedFromDuration=!0}return t}function PA({keyframes:n,restDelta:t,restSpeed:e,...i}){const s=n[0],r=n[n.length-1],a={done:!1,value:s},{stiffness:o,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:p}=X_({...i,velocity:-Mi(i.velocity||0)}),g=d||0,y=l/(2*Math.sqrt(o*u)),b=r-s,A=Mi(Math.sqrt(o/u)),E=Math.abs(b)<5;e||(e=E?.01:2),t||(t=E?.005:.5);let k;if(y<1){const C=wg(A,y);k=P=>{const R=Math.exp(-y*A*P);return r-R*((g+y*A*b)/C*Math.sin(C*P)+b*Math.cos(C*P))}}else if(y===1)k=C=>r-Math.exp(-A*C)*(b+(g+A*b)*C);else{const C=A*Math.sqrt(y*y-1);k=P=>{const R=Math.exp(-y*A*P),O=Math.min(C*P,300);return r-R*((g+y*A*b)*Math.sinh(O)+C*b*Math.cosh(O))/C}}return{calculatedDuration:p&&c||null,next:C=>{const P=k(C);if(p)a.done=C>=c;else{let R=0;y<1&&(R=C===0?Ti(g):MA(k,C,P));const O=Math.abs(R)<=e,D=Math.abs(r-P)<=t;a.done=O&&D}return a.value=a.done?r:P,a}}}function t1({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=n[0],p={done:!1,value:d},g=_=>o!==void 0&&_<o||l!==void 0&&_>l,y=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let b=e*t;const A=d+b,E=a===void 0?A:a(A);E!==A&&(b=E-d);const k=_=>-b*Math.exp(-_/i),C=_=>E+k(_),P=_=>{const T=k(_),F=C(_);p.done=Math.abs(T)<=u,p.value=p.done?E:F};let R,O;const D=_=>{g(p.value)&&(R=_,O=PA({keyframes:[p.value,y(p.value)],velocity:MA(C,_,p.value),damping:s,stiffness:r,restDelta:u,restSpeed:c}))};return D(0),{calculatedDuration:null,next:_=>{let T=!1;return!O&&R===void 0&&(T=!0,P(_),D(_)),R!==void 0&&_>=R?O.next(_-R):(!T&&P(_),p)}}}const RA=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,Z_=1e-7,Q_=12;function J_(n,t,e,i,s){let r,a,o=0;do a=t+(e-t)/2,r=RA(a,i,s)-n,r>0?e=a:t=a;while(Math.abs(r)>Z_&&++o<Q_);return a}function Ah(n,t,e,i){if(n===t&&e===i)return Oe;const s=r=>J_(r,0,1,n,e);return r=>r===0||r===1?r:RA(s(r),t,i)}const tC=Ah(.42,0,1,1),eC=Ah(0,0,.58,1),LA=Ah(.42,0,.58,1),nC=n=>Array.isArray(n)&&typeof n[0]!="number",IA=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,DA=n=>t=>1-n(1-t),$v=n=>1-Math.sin(Math.acos(n)),OA=DA($v),iC=IA($v),FA=Ah(.33,1.53,.69,.99),Gv=DA(FA),sC=IA(Gv),rC=n=>(n*=2)<1?.5*Gv(n):.5*(2-Math.pow(2,-10*(n-1))),e1={linear:Oe,easeIn:tC,easeInOut:LA,easeOut:eC,circIn:$v,circInOut:iC,circOut:OA,backIn:Gv,backInOut:sC,backOut:FA,anticipate:rC},n1=n=>{if(Array.isArray(n)){dg(n.length===4);const[t,e,i,s]=n;return Ah(t,e,i,s)}else if(typeof n=="string")return dg(e1[n]!==void 0),e1[n];return n},dh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},Ht=(n,t,e)=>n+(t-n)*e;function fp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function aC({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,a=0;if(!t)s=r=a=e;else{const o=e<.5?e*(1+t):e+t-e*t,l=2*e-o;s=fp(l,o,n+1/3),r=fp(l,o,n),a=fp(l,o,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function wd(n,t){return e=>e>0?t:n}const pp=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},oC=[vg,ar,xa],lC=n=>oC.find(t=>t.test(n));function i1(n){const t=lC(n);if(!t)return!1;let e=t.parse(n);return t===xa&&(e=aC(e)),e}const s1=(n,t)=>{const e=i1(n),i=i1(t);if(!e||!i)return wd(n,t);const s={...e};return r=>(s.red=pp(e.red,i.red,r),s.green=pp(e.green,i.green,r),s.blue=pp(e.blue,i.blue,r),s.alpha=Ht(e.alpha,i.alpha,r),ar.transform(s))},bg=new Set(["none","hidden"]);function hC(n,t){return bg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function cC(n,t){return e=>Ht(n,t,e)}function qv(n){return typeof n=="number"?cC:typeof n=="string"?Iv(n)?wd:Te.test(n)?s1:fC:Array.isArray(n)?NA:typeof n=="object"?Te.test(n)?s1:uC:wd}function NA(n,t){const e=[...n],i=e.length,s=n.map((r,a)=>qv(r)(r,t[a]));return r=>{for(let a=0;a<i;a++)e[a]=s[a](r);return e}}function uC(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=qv(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function dC(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],o=n.indexes[a][s[a]],l=(e=n.values[o])!==null&&e!==void 0?e:0;i[r]=l,s[a]++}return i}const fC=(n,t)=>{const e=ys.createTransformer(t),i=uh(n),s=uh(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?bg.has(n)&&!s.values.length||bg.has(t)&&!i.values.length?hC(n,t):Ci(NA(dC(i,s),s.values),e):wd(n,t)};function jA(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Ht(n,t,e):qv(n)(n,t)}function pC(n,t,e){const i=[],s=e||jA,r=n.length-1;for(let a=0;a<r;a++){let o=s(n[a],n[a+1]);if(t){const l=Array.isArray(t)?t[a]||Oe:t;o=Ci(l,o)}i.push(o)}return i}function gC(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(dg(r===t.length),r===1)return()=>t[0];if(r===2&&n[0]===n[1])return()=>t[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const a=pC(t,i,s),o=a.length,l=u=>{let c=0;if(o>1)for(;c<n.length-2&&!(u<n[c+1]);c++);const d=dh(n[c],n[c+1],u);return a[c](d)};return e?u=>l(vs(n[0],n[r-1],u)):l}function mC(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=dh(0,t,i);n.push(Ht(e,1,s))}}function vC(n){const t=[0];return mC(t,n.length-1),t}function yC(n,t){return n.map(e=>e*t)}function wC(n,t){return n.map(()=>t||LA).splice(0,n.length-1)}function bd({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=nC(i)?i.map(n1):n1(i),r={done:!1,value:t[0]},a=yC(e&&e.length===t.length?e:vC(t),n),o=gC(a,t,{ease:Array.isArray(s)?s:wC(t,s)});return{calculatedDuration:n,next:l=>(r.value=o(l),r.done=l>=n,r)}}const r1=2e4;function bC(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<r1;)t+=e,i=n.next(t);return t>=r1?1/0:t}const AC=n=>{const t=({timestamp:e})=>n(e);return{start:()=>It.update(t,!0),stop:()=>Li(t),now:()=>ye.isProcessing?ye.timestamp:Pi.now()}},xC={decay:t1,inertia:t1,tween:bd,keyframes:bd,spring:PA},SC=n=>n/100;class Kv extends CA{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:e,motionValue:i,element:s,keyframes:r}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Uv,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(r,o,e,i,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=this.options,o=xC[e]||bd;let l,u;o!==bd&&typeof t[0]!="number"&&(l=Ci(SC,jA(t[0],t[1])),t=[0,100]);const c=o({...this.options,keyframes:t});r==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=bC(c));const{calculatedDuration:d}=c,p=d+s,g=p*(i+1)-s;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=i;if(this.startTime===null)return r.next(0);const{delay:p,repeat:g,repeatType:y,repeatDelay:b,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const E=this.currentTime-p*(this.speed>=0?1:-1),k=this.speed>=0?E<0:E>c;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let C=this.currentTime,P=r;if(g){const _=Math.min(this.currentTime,c)/d;let T=Math.floor(_),F=_%1;!F&&_>=1&&(F=1),F===1&&T--,T=Math.min(T,g+1),!!(T%2)&&(y==="reverse"?(F=1-F,b&&(F-=b/d)):y==="mirror"&&(P=a)),C=vs(0,1,F)*d}const R=k?{done:!1,value:l[0]}:P.next(C);o&&(R.value=o(R.value));let{done:O}=R;!k&&u!==null&&(O=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return D&&s!==void 0&&(R.value=Rf(l,this.options,s)),A&&A(R.value),D&&this.finish(),R}get duration(){const{resolved:t}=this;return t?Mi(t.calculatedDuration):0}get time(){return Mi(this.currentTime)}set time(t){t=Ti(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Mi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=AC,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const BA=n=>Array.isArray(n)&&typeof n[0]=="number";function WA(n){return!!(!n||typeof n=="string"&&n in Yv||BA(n)||Array.isArray(n)&&n.every(WA))}const Lo=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,Yv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lo([0,.65,.55,1]),circOut:Lo([.55,0,1,.45]),backIn:Lo([.31,.01,.66,-.59]),backOut:Lo([.33,1.53,.69,.99])};function EC(n){return VA(n)||Yv.easeOut}function VA(n){if(n)return BA(n)?Lo(n):Array.isArray(n)?n.map(EC):Yv[n]}function kC(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o,times:l}={}){const u={[t]:e};l&&(u.offset=l);const c=VA(o);return Array.isArray(c)&&(u.easing=c),n.animate(u,{delay:i,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}const _C=_A(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ad=10,CC=2e4;function TC(n){return n.type==="spring"||!WA(n.ease)}function MC(n,t){const e=new Kv({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<CC;)i=e.sample(r),s.push(i.value),r+=Ad;return{times:void 0,keyframes:s,duration:r-Ad,ease:"linear"}}class a1 extends CA{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new kA(r,(a,o)=>this.onKeyframesResolved(a,o),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){var i;let{duration:s=300,times:r,ease:a,type:o,motionValue:l,name:u,startTime:c}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(TC(this.options)){const{onComplete:p,onUpdate:g,motionValue:y,element:b,...A}=this.options,E=MC(t,A);t=E.keyframes,t.length===1&&(t[1]=t[0]),s=E.duration,r=E.times,a=E.ease,o="keyframes"}const d=kC(l.owner.current,u,t,{...this.options,duration:s,times:r,ease:a});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(Rf(t,this.options,e)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Mi(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Mi(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=Ti(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return Oe;const{animation:i}=e;i.timeline=t,i.onfinish=null}return Oe}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:r,ease:a,times:o}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:p,...g}=this.options,y=new Kv({...g,keyframes:i,duration:s,type:r,ease:a,times:o,isGenerator:!0}),b=Ti(this.time);u.setWithVelocity(y.sample(b-Ad).value,y.sample(b).value,Ad)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:r,damping:a,type:o}=t;return _C()&&i&&iA.has(i)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}}function PC(n,t){let e;const i=()=>{const{currentTime:s}=t,a=(s===null?0:s.value)/100;e!==a&&n(a),e=a};return It.update(i,!0),()=>Li(i)}const RC=_A(()=>window.ScrollTimeline!==void 0);class LC{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t){const e=this.animations.map(i=>{if(RC()&&i.attachTimeline)i.attachTimeline(t);else return i.pause(),PC(s=>{i.time=i.duration*s},t)});return()=>{e.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Xv=(n,t,e,i={},s,r,a)=>o=>{const l=Vv(i,n)||{},u=l.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ti(u);let d={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete(),a&&a()},onStop:a,name:n,motionValue:t,element:r?void 0:s};u_(l)||(d={...d,...c_(n,d)}),d.duration&&(d.duration=Ti(d.duration)),d.repeatDelay&&(d.repeatDelay=Ti(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!r&&t.get()!==void 0){const g=Rf(d.keyframes,l);if(g!==void 0)return It.update(()=>{d.onUpdate(g),d.onComplete()}),new LC([])}return!r&&a1.supports(d)?new a1(d):new Kv(d)};class Zv{constructor(){this.subscriptions=[]}add(t){return Cf(this.subscriptions,t),()=>Tf(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const o1=30,IC=n=>!isNaN(parseFloat(n));class UA{constructor(t,e={}){this.version="11.3.29",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=Pi.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Zv);const i=this.events[t].add(e);return t==="change"?()=>{i(),It.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>o1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,o1);return TA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fh(n,t){return new UA(n,t)}function DC(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,fh(e))}function OC(n,t){const e=Pf(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const a in r){const o=Wk(r[a]);DC(n,a,o)}}function HA(n){return n.getProps()[Vb]}class FC extends UA{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){const e=sA(t);if(!e)return;const i=this.counts.get(e)||0;this.counts.set(e,i+1),i===0&&(this.output.push(e),this.update());let s=!1;return()=>{if(s)return;s=!0;const r=this.counts.get(e)-1;this.counts.set(e,r),r===0&&(Tf(this.output,e),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function NC(n){return!!(Le(n)&&n.add)}function Ag(n,t){var e;if(!n.applyWillChange)return;let i=n.getValue("willChange");if(!i&&!(!((e=n.props.style)===null||e===void 0)&&e.willChange)&&(i=new FC("auto"),n.addValue("willChange",i)),NC(i))return i.add(t)}function jC({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function zA(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var r;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=t;i&&(a=i);const u=[],c=s&&n.animationState&&n.animationState.getState()[s];for(const d in l){const p=n.getValue(d,(r=n.latestValues[d])!==null&&r!==void 0?r:null),g=l[d];if(g===void 0||c&&jC(c,d))continue;const y={delay:e,...Vv(a||{},d)};let b=!1;if(window.MotionHandoffAnimation){const E=HA(n);if(E){const k=window.MotionHandoffAnimation(E,d,It);k!==null&&(y.startTime=k,b=!0)}}p.start(Xv(d,p,g,n.shouldReduceMotion&&bs.has(d)?{type:!1}:y,n,b,Ag(n,d)));const A=p.animation;A&&u.push(A)}return o&&Promise.all(u).then(()=>{It.update(()=>{o&&OC(n,o)})}),u}function xg(n,t,e={}){var i;const s=Pf(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(r=e.transitionOverride);const a=s?()=>Promise.all(zA(n,s,e)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:p}=r;return BC(n,t,c+u,d,p,e)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,c]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>c())}else return Promise.all([a(),o(e.delay)])}function BC(n,t,e=0,i=0,s=1,r){const a=[],o=(n.variantChildren.size-1)*i,l=s===1?(u=0)=>u*i:(u=0)=>o-u*i;return Array.from(n.variantChildren).sort(WC).forEach((u,c)=>{u.notify("AnimationStart",t),a.push(xg(u,t,{...r,delay:e+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function WC(n,t){return n.sortNodePosition(t)}function VC(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>xg(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=xg(n,t,e);else{const s=typeof t=="function"?Pf(n,t,e.custom):t;i=Promise.all(zA(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const UC=[...Cv].reverse(),HC=Cv.length;function zC(n){return t=>Promise.all(t.map(({animation:e,options:i})=>VC(n,e,i)))}function $C(n){let t=zC(n),e=l1(),i=!0;const s=l=>(u,c)=>{var d;const p=Pf(n,c,l==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:y,...b}=p;u={...u,...b,...y}}return u};function r(l){t=l(n)}function a(l){const u=n.getProps(),c=n.getVariantContext(!0)||{},d=[],p=new Set;let g={},y=1/0;for(let A=0;A<HC;A++){const E=UC[A],k=e[E],C=u[E]!==void 0?u[E]:c[E],P=hh(C),R=E===l?k.isActive:null;R===!1&&(y=A);let O=C===c[E]&&C!==u[E]&&P;if(O&&i&&n.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...g},!k.isActive&&R===null||!C&&!k.prevProp||ch(C)||typeof C=="boolean")continue;let _=GC(k.prevProp,C)||E===l&&k.isActive&&!O&&P||A>y&&P,T=!1;const F=Array.isArray(C)?C:[C];let j=F.reduce(s(E),{});R===!1&&(j={});const{prevResolvedValues:V={}}=k,U={...V,...j},Y=G=>{_=!0,p.has(G)&&(T=!0,p.delete(G)),k.needsAnimating[G]=!0;const H=n.getValue(G);H&&(H.liveStyle=!1)};for(const G in U){const H=j[G],B=V[G];if(g.hasOwnProperty(G))continue;let it=!1;fg(H)&&fg(B)?it=!uA(H,B):it=H!==B,it?H!=null?Y(G):p.add(G):H!==void 0&&p.has(G)?Y(G):k.protectedKeys[G]=!0}k.prevProp=C,k.prevResolvedValues=j,k.isActive&&(g={...g,...j}),i&&n.blockInitialAnimation&&(_=!1),_&&(!O||T)&&d.push(...F.map(G=>({animation:G,options:{type:E}})))}if(p.size){const A={};p.forEach(E=>{const k=n.getBaseTarget(E),C=n.getValue(E);C&&(C.liveStyle=!0),A[E]=k??null}),d.push({animation:A})}let b=!!d.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(b=!1),i=!1,b?t(d):Promise.resolve()}function o(l,u){var c;if(e[l].isActive===u)return Promise.resolve();(c=n.variantChildren)===null||c===void 0||c.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),e[l].isActive=u;const d=a(l);for(const p in e)e[p].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>e,reset:()=>{e=l1(),i=!0}}}function GC(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!uA(t,n):!1}function ks(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l1(){return{animate:ks(!0),whileInView:ks(),whileHover:ks(),whileTap:ks(),whileDrag:ks(),whileFocus:ks(),exit:ks()}}class qC extends As{constructor(t){super(t),t.animationState||(t.animationState=$C(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ch(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let KC=0;class YC extends As{constructor(){super(...arguments),this.id=KC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>e(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const XC={animation:{Feature:qC},exit:{Feature:YC}},h1=(n,t)=>Math.abs(n-t);function ZC(n,t){const e=h1(n.x,t.x),i=h1(n.y,t.y);return Math.sqrt(e**2+i**2)}class $A{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=mp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=ZC(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:y}=d,{timestamp:b}=ye;this.history.push({...y,timestamp:b});const{onStart:A,onMove:E}=this.handlers;p||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=gp(p,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=mp(d.type==="pointercancel"?this.lastMoveEventInfo:gp(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,A),y&&y(d,A)},!aA(t))return;this.dragSnapToOrigin=r,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const a=Mf(t),o=gp(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=ye;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=e;c&&c(t,mp(o,this.history)),this.removeListeners=Ci(_i(this.contextWindow,"pointermove",this.handlePointerMove),_i(this.contextWindow,"pointerup",this.handlePointerUp),_i(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Li(this.updatePoint)}}function gp(n,t){return t?{point:t(n.point)}:n}function c1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function mp({point:n},t){return{point:n,delta:c1(n,GA(t)),offset:c1(n,QC(t)),velocity:JC(t,.1)}}function QC(n){return n[0]}function GA(n){return n[n.length-1]}function JC(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=GA(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Ti(t)));)e--;if(!i)return{x:0,y:0};const r=Mi(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const qA=1e-4,tT=1-qA,eT=1+qA,KA=.01,nT=0-KA,iT=0+KA;function nn(n){return n.max-n.min}function sT(n,t,e){return Math.abs(n-t)<=e}function u1(n,t,e,i=.5){n.origin=i,n.originPoint=Ht(t.min,t.max,n.origin),n.scale=nn(e)/nn(t),n.translate=Ht(e.min,e.max,n.origin)-n.originPoint,(n.scale>=tT&&n.scale<=eT||isNaN(n.scale))&&(n.scale=1),(n.translate>=nT&&n.translate<=iT||isNaN(n.translate))&&(n.translate=0)}function Dl(n,t,e,i){u1(n.x,t.x,e.x,i?i.originX:void 0),u1(n.y,t.y,e.y,i?i.originY:void 0)}function d1(n,t,e){n.min=e.min+t.min,n.max=n.min+nn(t)}function rT(n,t,e){d1(n.x,t.x,e.x),d1(n.y,t.y,e.y)}function f1(n,t,e){n.min=t.min-e.min,n.max=n.min+nn(t)}function Ol(n,t,e){f1(n.x,t.x,e.x),f1(n.y,t.y,e.y)}function aT(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Ht(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Ht(e,n,i.max):Math.min(n,e)),n}function p1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function oT(n,{top:t,left:e,bottom:i,right:s}){return{x:p1(n.x,e,s),y:p1(n.y,t,i)}}function g1(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function lT(n,t){return{x:g1(n.x,t.x),y:g1(n.y,t.y)}}function hT(n,t){let e=.5;const i=nn(n),s=nn(t);return s>i?e=dh(t.min,t.max-i,n.min):i>s&&(e=dh(n.min,n.max-s,t.min)),vs(0,1,e)}function cT(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Sg=.35;function uT(n=Sg){return n===!1?n=0:n===!0&&(n=Sg),{x:m1(n,"left","right"),y:m1(n,"top","bottom")}}function m1(n,t,e){return{min:v1(n,t),max:v1(n,e)}}function v1(n,t){return typeof n=="number"?n:n[t]||0}const y1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sa=()=>({x:y1(),y:y1()}),w1=()=>({min:0,max:0}),qt=()=>({x:w1(),y:w1()});function dn(n){return[n("x"),n("y")]}function YA({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function dT({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function fT(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function vp(n){return n===void 0||n===1}function Eg({scale:n,scaleX:t,scaleY:e}){return!vp(n)||!vp(t)||!vp(e)}function Ls(n){return Eg(n)||XA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function XA(n){return b1(n.x)||b1(n.y)}function b1(n){return n&&n!=="0%"}function xd(n,t,e){const i=n-e,s=t*i;return e+s}function A1(n,t,e,i,s){return s!==void 0&&(n=xd(n,s,i)),xd(n,e,i)+t}function kg(n,t=0,e=1,i,s){n.min=A1(n.min,t,e,i,s),n.max=A1(n.max,t,e,i,s)}function ZA(n,{x:t,y:e}){kg(n.x,t.translate,t.scale,t.originPoint),kg(n.y,e.translate,e.scale,e.originPoint)}const x1=.999999999999,S1=1.0000000000001;function pT(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,a;for(let o=0;o<s;o++){r=e[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ka(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ZA(n,a)),i&&Ls(r.latestValues)&&ka(n,r.latestValues))}t.x<S1&&t.x>x1&&(t.x=1),t.y<S1&&t.y>x1&&(t.y=1)}function Ea(n,t){n.min=n.min+t,n.max=n.max+t}function E1(n,t,e,i,s=.5){const r=Ht(n.min,n.max,s);kg(n,t,e,r,i)}function ka(n,t){E1(n.x,t.x,t.scaleX,t.scale,t.originX),E1(n.y,t.y,t.scaleY,t.scale,t.originY)}function QA(n,t){return YA(fT(n.getBoundingClientRect(),t))}function gT(n,t,e){const i=QA(n,e),{scroll:s}=t;return s&&(Ea(i.x,s.offset.x),Ea(i.y,s.offset.y)),i}const JA=({current:n})=>n?n.ownerDocument.defaultView:null,mT=new WeakMap;class vT{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Mf(c,"page").point)},r=(c,d)=>{var p;const{drag:g,dragPropagation:y,onDragStart:b}=this.getProps();if(g&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=lA(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(E=>{let k=this.getAxisMotionValue(E).get()||0;if(qn.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[E];P&&(k=nn(P)*(parseFloat(k)/100))}}this.originPoint[E]=k}),b&&It.postRender(()=>b(c,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=Ag(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},a=(c,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:b}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=d;if(g&&this.currentDirection===null){this.currentDirection=yT(A),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),b&&b(c,d)},o=(c,d)=>this.stop(c,d),l=()=>dn(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $A(t,{onSessionStart:s,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:JA(this.visualElement)})}stop(t,e){var i;(i=this.removeWillChange)===null||i===void 0||i.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&It.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Dh(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=aT(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;e&&Aa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=oT(s.layoutBox,e):this.constraints=!1,this.elastic=uT(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=cT(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Aa(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=gT(i,s.root,this.visualElement.getTransformPagePoint());let a=lT(s.layout.layoutBox,r);if(e){const o=e(dT(a));this.hasMutatedConstraints=!!o,o&&(a=YA(o))}return a}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=dn(c=>{if(!Dh(c,e,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,y={type:"inertia",velocity:i?t[c]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(o)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return i.start(Xv(t,i,0,e,this.visualElement,!1,Ag(this.visualElement,t)))}stopAnimation(){dn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){dn(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){dn(e=>{const{drag:i}=this.getProps();if(!Dh(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[e];r.set(t[e]-Ht(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Aa(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=hT({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dn(a=>{if(!Dh(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Ht(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;mT.set(this.visualElement,this);const t=this.visualElement.current,e=_i(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Aa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),It.read(i);const a=Si(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(dn(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=Sg,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function Dh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function yT(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class wT extends As{constructor(t){super(t),this.removeGroupControls=Oe,this.removeListeners=Oe,this.controls=new vT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oe}unmount(){this.removeGroupControls(),this.removeListeners()}}const k1=n=>(t,e)=>{n&&It.postRender(()=>n(t,e))};class bT extends As{constructor(){super(...arguments),this.removePointerDownListener=Oe}onPointerDown(t){this.session=new $A(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:k1(t),onStart:k1(e),onMove:i,onEnd:(r,a)=>{delete this.session,s&&It.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=_i(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function AT(){const n=I.useContext(Ef);if(n===null)return[!0,null];const{isPresent:t,onExitComplete:e,register:i}=n,s=I.useId();I.useEffect(()=>i(s),[]);const r=I.useCallback(()=>e&&e(s),[s,e]);return!t&&e?[!1,r]:[!0]}const fc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const mo={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(rt.test(n))n=parseFloat(n);else return n;const e=_1(n,t.target.x),i=_1(n,t.target.y);return`${e}% ${i}%`}},xT={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=ys.parse(n);if(s.length>5)return i;const r=ys.createTransformer(n),a=typeof s[0]!="number"?1:0,o=e.x.scale*t.x,l=e.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const u=Ht(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),r(s)}};class ST extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;mk(ET),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),fc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,a=i.projection;return a&&(a.isPresent=r,s||t.layoutDependency!==e||e===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||It.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_v.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tx(n){const[t,e]=AT(),i=I.useContext(Mv);return N.jsx(ST,{...n,layoutGroup:i,switchLayoutGroup:I.useContext(Hb),isPresent:t,safeToRemove:e})}const ET={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:xT},ex=["TopLeft","TopRight","BottomLeft","BottomRight"],kT=ex.length,C1=n=>typeof n=="string"?parseFloat(n):n,T1=n=>typeof n=="number"||rt.test(n);function _T(n,t,e,i,s,r){s?(n.opacity=Ht(0,e.opacity!==void 0?e.opacity:1,CT(i)),n.opacityExit=Ht(t.opacity!==void 0?t.opacity:1,0,TT(i))):r&&(n.opacity=Ht(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let a=0;a<kT;a++){const o=`border${ex[a]}Radius`;let l=M1(t,o),u=M1(e,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||T1(l)===T1(u)?(n[o]=Math.max(Ht(C1(l),C1(u),i),0),(qn.test(u)||qn.test(l))&&(n[o]+="%")):n[o]=u}(t.rotate||e.rotate)&&(n.rotate=Ht(t.rotate||0,e.rotate||0,i))}function M1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const CT=nx(0,.5,OA),TT=nx(.5,.95,Oe);function nx(n,t,e){return i=>i<n?0:i>t?1:e(dh(n,t,i))}function P1(n,t){n.min=t.min,n.max=t.max}function an(n,t){P1(n.x,t.x),P1(n.y,t.y)}function R1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function L1(n,t,e,i,s){return n-=t,n=xd(n,1/e,i),s!==void 0&&(n=xd(n,1/s,i)),n}function MT(n,t=0,e=1,i=.5,s,r=n,a=n){if(qn.test(t)&&(t=parseFloat(t),t=Ht(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Ht(r.min,r.max,i);n===r&&(o-=t),n.min=L1(n.min,t,e,o,s),n.max=L1(n.max,t,e,o,s)}function I1(n,t,[e,i,s],r,a){MT(n,t[e],t[i],t[s],t.scale,r,a)}const PT=["x","scaleX","originX"],RT=["y","scaleY","originY"];function D1(n,t,e,i){I1(n.x,t,PT,e?e.x:void 0,i?i.x:void 0),I1(n.y,t,RT,e?e.y:void 0,i?i.y:void 0)}function O1(n){return n.translate===0&&n.scale===1}function ix(n){return O1(n.x)&&O1(n.y)}function F1(n,t){return n.min===t.min&&n.max===t.max}function LT(n,t){return F1(n.x,t.x)&&F1(n.y,t.y)}function N1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function sx(n,t){return N1(n.x,t.x)&&N1(n.y,t.y)}function j1(n){return nn(n.x)/nn(n.y)}function B1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class IT{constructor(){this.members=[]}add(t){Cf(this.members,t),t.scheduleRender()}remove(t){if(Tf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DT(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,a=(e==null?void 0:e.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:p,skewX:g,skewY:y}=e;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),d&&(i+=`rotateX(${d}deg) `),p&&(i+=`rotateY(${p}deg) `),g&&(i+=`skewX(${g}deg) `),y&&(i+=`skewY(${y}deg) `)}const o=n.x.scale*t.x,l=n.y.scale*t.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const OT=(n,t)=>n.depth-t.depth;class FT{constructor(){this.children=[],this.isDirty=!1}add(t){Cf(this.children,t),this.isDirty=!0}remove(t){Tf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(OT),this.isDirty=!1,this.children.forEach(t)}}function NT(n,t){const e=Pi.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(Li(i),n(r-t))};return It.read(i,!0),()=>Li(i)}function jT(n){return n instanceof SVGElement&&n.tagName!=="svg"}function BT(n,t,e){const i=Le(n)?n:fh(n);return i.start(Xv("",i,t,e)),i.animation}const Is={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Io=typeof window<"u"&&window.MotionDebug!==void 0,yp=["","X","Y","Z"],WT={visibility:"hidden"},W1=1e3;let VT=0;function wp(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function rx(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=HA(t);window.MotionHasOptimisedTransformAnimation(e)&&window.MotionCancelOptimisedTransform(e);const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&rx(i)}function ax({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=VT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Io&&(Is.totalNodes=Is.resolvedTargetDeltas=Is.recalculatedProjection=0),this.nodes.forEach(zT),this.nodes.forEach(YT),this.nodes.forEach(XT),this.nodes.forEach($T),Io&&window.MotionDebug.record(Is)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new FT)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Zv),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jT(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=NT(p,250),fc.hasAnimatedSinceResize&&(fc.hasAnimatedSinceResize=!1,this.nodes.forEach(U1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||eM,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=c.getProps(),k=!this.targetLayout||!sx(this.targetLayout,y)||g,C=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const P={...Vv(b,"layout"),onPlay:A,onComplete:E};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||U1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZT),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedTransform&&!this.hasCheckedOptimisedAppear&&rx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V1);return}this.isUpdating||this.nodes.forEach(qT),this.isUpdating=!1,this.nodes.forEach(KT),this.nodes.forEach(UT),this.nodes.forEach(HT),this.clearAllSnapshots();const o=Pi.now();ye.delta=vs(0,1e3/60,o-ye.timestamp),ye.timestamp=o,ye.isProcessing=!0,lp.update.process(ye),lp.preRender.process(ye),lp.render.process(ye),ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_v.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GT),this.sharedNodes.forEach(QT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!ix(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(o||Ls(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),nM(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return qt();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(iM))){const{scroll:c}=this.root;c&&(Ea(l.x,c.offset.x),Ea(l.y,c.offset.y))}return l}removeElementScroll(a){var o;const l=qt();if(an(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:p}=c;c!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&an(l,a),Ea(l.x,d.offset.x),Ea(l.y,d.offset.y))}return l}applyTransform(a,o=!1){const l=qt();an(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ka(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ls(c.latestValues)&&ka(l,c.latestValues)}return Ls(this.latestValues)&&ka(l,this.latestValues),l}removeTransform(a){const o=qt();an(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ls(u.latestValues))continue;Eg(u.latestValues)&&u.updateSnapshot();const c=qt(),d=u.measurePageBox();an(c,d),D1(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ls(this.latestValues)&&D1(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ye.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Ol(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),ZA(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Ol(this.relativeTargetOrigin,this.target,g.target),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Io&&Is.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Eg(this.parent.latestValues)||XA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ye.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;an(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;pT(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qt());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R1(this.prevProjectionDelta.x,this.projectionDelta.x),R1(this.prevProjectionDelta.y,this.projectionDelta.y)),Dl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!B1(this.projectionDelta.x,this.prevProjectionDelta.x)||!B1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Io&&Is.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sa(),this.projectionDelta=Sa(),this.projectionDeltaWithTransform=Sa()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=qt(),g=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=g!==y,A=this.getStack(),E=!A||A.members.length<=1,k=!!(b&&!E&&this.options.crossfade===!0&&!this.path.some(tM));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const R=P/1e3;H1(d.x,a.x,R),H1(d.y,a.y,R),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ol(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JT(this.relativeTarget,this.relativeTargetOrigin,p,R),C&&LT(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=qt()),an(C,this.relativeTarget)),b&&(this.animationValues=c,_T(c,u,this.latestValues,R,k,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{fc.hasAnimatedSinceResize=!0,this.currentAnimation=BT(0,W1,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(W1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&ox(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||qt();const d=nn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const p=nn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}an(o,l),ka(o,c),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IT),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&wp("z",a,u,this.animationValues);for(let c=0;c<yp.length;c++)wp(`rotate${yp[c]}`,a,u,this.animationValues),wp(`skew${yp[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WT;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uc(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=uc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(b.transform=c?c({},""):"none",this.hasProjected=!1),b}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=DT(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in vd){if(p[b]===void 0)continue;const{correct:A,applyTo:E}=vd[b],k=u.transform==="none"?p[b]:A(p[b],d);if(E){const C=E.length;for(let P=0;P<C;P++)u[E[P]]=k}else u[b]=k}return this.options.layoutId&&(u.pointerEvents=d===this?uc(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(V1),this.root.sharedNodes.clear()}}}function UT(n){n.updateLayout()}function HT(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?dn(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],g=nn(p);p.min=i[d].min,p.max=p.min+g}):ox(r,e.layoutBox,i)&&dn(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],g=nn(i[d]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+g)});const o=Sa();Dl(o,i,e.layoutBox);const l=Sa();a?Dl(l,n.applyTransform(s,!0),e.measuredBox):Dl(l,i,e.layoutBox);const u=!ix(o);let c=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const y=qt();Ol(y,e.layoutBox,p.layoutBox);const b=qt();Ol(b,i,g.layoutBox),sx(y,b)||(c=!0),d.options.layoutRoot&&(n.relativeTarget=b,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function zT(n){Io&&Is.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function $T(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function GT(n){n.clearSnapshot()}function V1(n){n.clearMeasurements()}function qT(n){n.isLayoutDirty=!1}function KT(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function U1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function YT(n){n.resolveTargetDelta()}function XT(n){n.calcProjection()}function ZT(n){n.resetSkewAndRotation()}function QT(n){n.removeLeadSnapshot()}function H1(n,t,e){n.translate=Ht(t.translate,0,e),n.scale=Ht(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function z1(n,t,e,i){n.min=Ht(t.min,e.min,i),n.max=Ht(t.max,e.max,i)}function JT(n,t,e,i){z1(n.x,t.x,e.x,i),z1(n.y,t.y,e.y,i)}function tM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const eM={duration:.45,ease:[.4,0,.1,1]},$1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),G1=$1("applewebkit/")&&!$1("chrome/")?Math.round:Oe;function q1(n){n.min=G1(n.min),n.max=G1(n.max)}function nM(n){q1(n.x),q1(n.y)}function ox(n,t,e){return n==="position"||n==="preserve-aspect"&&!sT(j1(t),j1(e),.2)}function iM(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const sM=ax({attachResizeListener:(n,t)=>Si(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bp={current:void 0},lx=ax({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bp.current){const n=new sM({});n.mount(window),n.setOptions({layoutScroll:!0}),bp.current=n}return bp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),rM={pan:{Feature:bT},drag:{Feature:wT,ProjectionNode:lx,MeasureLayout:tx}},_g={current:null},hx={current:!1};function aM(){if(hx.current=!0,!!kv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>_g.current=n.matches;n.addListener(t),t()}else _g.current=!1}function oM(n,t,e){for(const i in t){const s=t[i],r=e[i];if(Le(s))n.addValue(i,s);else if(Le(r))n.addValue(i,fh(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,fh(a!==void 0?a:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const K1=new WeakMap,lM=[...mA,Te,ys],hM=n=>lM.find(gA(n)),Y1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],cM=Tv.length;class uM{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,It.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=e.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=_f(e),this.isVariantNode=$b(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(e,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&Le(g)&&g.set(l[p],!1)}}mount(t){this.current=t,K1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),hx.current||aM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_g.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K1.delete(this.current),this.projection&&this.projection.unmount(),Li(this.notifyUpdate),Li(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){const i=bs.has(t),s=e.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&It.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),r(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in no){const e=no[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<Y1.length;i++){const s=Y1[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=t[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=oM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const e={};for(let i=0;i<cM;i++){const s=Tv[i],r=this.props[s];(hh(r)||r===!1)&&(e[s]=r)}return e}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=fh(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(fA(s)||dA(s))?s=parseFloat(s):!hM(s)&&ys.test(e)&&(s=EA(t,e)),this.setBaseTarget(t,Le(s)?s.get():s)),Le(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const a=Bv(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);a&&(s=a[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Le(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Zv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class cx extends uM{constructor(){super(...arguments),this.KeyframeResolver=kA}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}}function dM(n){return window.getComputedStyle(n)}class fM extends cx{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Jb}readValueFromInstance(t,e){if(bs.has(e)){const i=zv(e);return i&&i.default||0}else{const i=dM(t),s=(Yb(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return QA(t,e)}build(t,e,i){Dv(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return jv(t,e,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Le(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class pM extends cx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(bs.has(e)){const i=zv(e);return i&&i.default||0}return e=tA.has(e)?e:kf(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return nA(t,e,i)}build(t,e,i){Fv(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){eA(t,e,i,s)}mount(t){this.isSVGTag=Nv(t.tagName),super.mount(t)}}const gM=(n,t)=>Pv(n)?new pM(t):new fM(t,{allowProjection:n!==I.Fragment}),mM={layout:{ProjectionNode:lx,MeasureLayout:tx}},vM={...XC,...r_,...rM,...mM},wB=pk((n,t)=>Gk(n,t,vM,gM));class yM extends I.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=e.offsetHeight||0,i.width=e.offsetWidth||0,i.top=e.offsetTop,i.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wM({children:n,isPresent:t}){const e=I.useId(),i=I.useRef(null),s=I.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=I.useContext(Ev);return I.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=s.current;if(t||!i.current||!a||!o)return;i.current.dataset.motionPopId=e;const c=document.createElement("style");return r&&(c.nonce=r),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),N.jsx(yM,{isPresent:t,childRef:i,sizeRef:s,children:I.cloneElement(n,{ref:i})})}const bM=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a})=>{const o=Wv(AM),l=I.useId(),u=I.useMemo(()=>({id:l,initial:t,isPresent:e,custom:s,onExitComplete:c=>{o.set(c,!0);for(const d of o.values())if(!d)return;i&&i()},register:c=>(o.set(c,!1),()=>o.delete(c))}),r?[Math.random()]:[e]);return I.useMemo(()=>{o.forEach((c,d)=>o.set(d,!1))},[e]),I.useEffect(()=>{!e&&!o.size&&i&&i()},[e]),a==="popLayout"&&(n=N.jsx(wM,{isPresent:e,children:n})),N.jsx(Ef.Provider,{value:u,children:n})};function AM(){return new Map}const Oh=n=>n.key||"";function X1(n){const t=[];return I.Children.forEach(n,e=>{I.isValidElement(e)&&t.push(e)}),t}const bB=({children:n,exitBeforeEnter:t,custom:e,initial:i=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync"})=>{const o=I.useMemo(()=>X1(n),[n]),l=o.map(Oh),u=I.useRef(!0),c=I.useRef(o),d=Wv(()=>new Map),[p,g]=I.useState(o),[y,b]=I.useState(o);Bb(()=>{u.current=!1,c.current=o;for(let k=0;k<y.length;k++){const C=Oh(y[k]);l.includes(C)?d.delete(C):d.get(C)!==!0&&d.set(C,!1)}},[y,l.length,l.join("-")]);const A=[];if(o!==p){let k=[...o];for(let C=0;C<y.length;C++){const P=y[C],R=Oh(P);l.includes(R)||(k.splice(C,0,P),A.push(P))}a==="wait"&&A.length&&(k=A),b(X1(k)),g(o);return}const{forceRender:E}=I.useContext(Mv);return N.jsx(N.Fragment,{children:y.map(k=>{const C=Oh(k),P=o===y||l.includes(C),R=()=>{if(d.has(C))d.set(C,!0);else return;let O=!0;d.forEach(D=>{D||(O=!1)}),O&&(E==null||E(),b(c.current),s&&s())};return N.jsx(bM,{isPresent:P,initial:!u.current||i?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:r,mode:a,onExitComplete:P?void 0:R,children:k},C)})})};var xM=Object.defineProperty,SM=(n,t,e)=>t in n?xM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,pt=(n,t,e)=>(SM(n,typeof t!="symbol"?t+"":t,e),e),Qv=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)},h=(n,t,e)=>(Qv(n,t,"read from private field"),e?e.call(n):t.get(n)),v=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},S=(n,t,e,i)=>(Qv(n,t,"write to private field"),t.set(n,e),e),wn=(n,t,e,i)=>({set _(s){S(n,t,s)},get _(){return h(n,t,i)}}),x=(n,t,e)=>(Qv(n,t,"access private method"),e),Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ux(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function AB(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),e}var vo=function(n){return n&&n.Math===Math&&n},Yn=vo(typeof globalThis=="object"&&globalThis)||vo(typeof window=="object"&&window)||vo(typeof self=="object"&&self)||vo(typeof Do=="object"&&Do)||vo(typeof Do=="object"&&Do)||function(){return this}()||Function("return this")(),Jv={},xs=function(n){try{return!!n()}catch{return!0}},EM=xs,Cr=!EM(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),kM=xs,dx=!kM(function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")}),_M=dx,Fh=Function.prototype.call,ty=_M?Fh.bind(Fh):function(){return Fh.apply(Fh,arguments)},fx={},px={}.propertyIsEnumerable,gx=Object.getOwnPropertyDescriptor,CM=gx&&!px.call({1:2},1);fx.f=CM?function(n){var t=gx(this,n);return!!t&&t.enumerable}:px;var mx=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}},vx=dx,yx=Function.prototype,Cg=yx.call,TM=vx&&yx.bind.bind(Cg,Cg),Oi=vx?TM:function(n){return function(){return Cg.apply(n,arguments)}},wx=Oi,MM=wx({}.toString),PM=wx("".slice),RM=function(n){return PM(MM(n),8,-1)},LM=Oi,IM=xs,DM=RM,Ap=Object,OM=LM("".split),FM=IM(function(){return!Ap("z").propertyIsEnumerable(0)})?function(n){return DM(n)==="String"?OM(n,""):Ap(n)}:Ap,bx=function(n){return n==null},NM=bx,jM=TypeError,Ax=function(n){if(NM(n))throw new jM("Can't call method on "+n);return n},BM=FM,WM=Ax,ey=function(n){return BM(WM(n))},xp=typeof document=="object"&&document.all,Xn=typeof xp>"u"&&xp!==void 0?function(n){return typeof n=="function"||n===xp}:function(n){return typeof n=="function"},VM=Xn,xh=function(n){return typeof n=="object"?n!==null:VM(n)},Sp=Yn,UM=Xn,HM=function(n){return UM(n)?n:void 0},xx=function(n,t){return arguments.length<2?HM(Sp[n]):Sp[n]&&Sp[n][t]},zM=Oi,$M=zM({}.isPrototypeOf),GM=typeof navigator<"u"&&String(navigator.userAgent)||"",Sx=Yn,Ep=GM,Z1=Sx.process,Q1=Sx.Deno,J1=Z1&&Z1.versions||Q1&&Q1.version,tw=J1&&J1.v8,_n,Sd;tw&&(_n=tw.split("."),Sd=_n[0]>0&&_n[0]<4?1:+(_n[0]+_n[1]));!Sd&&Ep&&(_n=Ep.match(/Edge\/(\d+)/),(!_n||_n[1]>=74)&&(_n=Ep.match(/Chrome\/(\d+)/),_n&&(Sd=+_n[1])));var qM=Sd,ew=qM,KM=xs,YM=Yn,XM=YM.String,Ex=!!Object.getOwnPropertySymbols&&!KM(function(){var n=Symbol("symbol detection");return!XM(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&ew&&ew<41}),ZM=Ex,kx=ZM&&!Symbol.sham&&typeof Symbol.iterator=="symbol",QM=xx,JM=Xn,tP=$M,eP=kx,nP=Object,_x=eP?function(n){return typeof n=="symbol"}:function(n){var t=QM("Symbol");return JM(t)&&tP(t.prototype,nP(n))},iP=String,sP=function(n){try{return iP(n)}catch{return"Object"}},rP=Xn,aP=sP,oP=TypeError,Cx=function(n){if(rP(n))return n;throw new oP(aP(n)+" is not a function")},lP=Cx,hP=bx,cP=function(n,t){var e=n[t];return hP(e)?void 0:lP(e)},kp=ty,_p=Xn,Cp=xh,uP=TypeError,dP=function(n,t){var e,i;if(t==="string"&&_p(e=n.toString)&&!Cp(i=kp(e,n))||_p(e=n.valueOf)&&!Cp(i=kp(e,n))||t!=="string"&&_p(e=n.toString)&&!Cp(i=kp(e,n)))return i;throw new uP("Can't convert object to primitive value")},Tx={exports:{}},nw=Yn,fP=Object.defineProperty,ny=function(n,t){try{fP(nw,n,{value:t,configurable:!0,writable:!0})}catch{nw[n]=t}return t},pP=Yn,gP=ny,iw="__core-js_shared__",sw=Tx.exports=pP[iw]||gP(iw,{});(sw.versions||(sw.versions=[])).push({version:"3.37.1",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var iy=Tx.exports,rw=iy,Mx=function(n,t){return rw[n]||(rw[n]=t||{})},mP=Ax,vP=Object,yP=function(n){return vP(mP(n))},wP=Oi,bP=yP,AP=wP({}.hasOwnProperty),Tr=Object.hasOwn||function(n,t){return AP(bP(n),t)},xP=Oi,SP=0,EP=Math.random(),kP=xP(1 .toString),Px=function(n){return"Symbol("+(n===void 0?"":n)+")_"+kP(++SP+EP,36)},_P=Yn,CP=Mx,aw=Tr,TP=Px,MP=Ex,PP=kx,_a=_P.Symbol,Tp=CP("wks"),RP=PP?_a.for||_a:_a&&_a.withoutSetter||TP,LP=function(n){return aw(Tp,n)||(Tp[n]=MP&&aw(_a,n)?_a[n]:RP("Symbol."+n)),Tp[n]},IP=ty,ow=xh,lw=_x,DP=cP,OP=dP,FP=LP,NP=TypeError,jP=FP("toPrimitive"),BP=function(n,t){if(!ow(n)||lw(n))return n;var e=DP(n,jP),i;if(e){if(t===void 0&&(t="default"),i=IP(e,n,t),!ow(i)||lw(i))return i;throw new NP("Can't convert object to primitive value")}return t===void 0&&(t="number"),OP(n,t)},WP=BP,VP=_x,Rx=function(n){var t=WP(n,"string");return VP(t)?t:t+""},UP=Yn,hw=xh,Tg=UP.document,HP=hw(Tg)&&hw(Tg.createElement),zP=function(n){return HP?Tg.createElement(n):{}},$P=Cr,GP=xs,qP=zP,Lx=!$P&&!GP(function(){return Object.defineProperty(qP("div"),"a",{get:function(){return 7}}).a!==7}),KP=Cr,YP=ty,XP=fx,ZP=mx,QP=ey,JP=Rx,tR=Tr,eR=Lx,cw=Object.getOwnPropertyDescriptor;Jv.f=KP?cw:function(n,t){if(n=QP(n),t=JP(t),eR)try{return cw(n,t)}catch{}if(tR(n,t))return ZP(!YP(XP.f,n,t),n[t])};var Lf={},nR=Cr,iR=xs,sR=nR&&iR(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),rR=xh,aR=String,oR=TypeError,Ix=function(n){if(rR(n))return n;throw new oR(aR(n)+" is not an object")},lR=Cr,hR=Lx,cR=sR,Nh=Ix,uw=Rx,uR=TypeError,Mp=Object.defineProperty,dR=Object.getOwnPropertyDescriptor,Pp="enumerable",Rp="configurable",Lp="writable";Lf.f=lR?cR?function(n,t,e){if(Nh(n),t=uw(t),Nh(e),typeof n=="function"&&t==="prototype"&&"value"in e&&Lp in e&&!e[Lp]){var i=dR(n,t);i&&i[Lp]&&(n[t]=e.value,e={configurable:Rp in e?e[Rp]:i[Rp],enumerable:Pp in e?e[Pp]:i[Pp],writable:!1})}return Mp(n,t,e)}:Mp:function(n,t,e){if(Nh(n),t=uw(t),Nh(e),hR)try{return Mp(n,t,e)}catch{}if("get"in e||"set"in e)throw new uR("Accessors not supported");return"value"in e&&(n[t]=e.value),n};var fR=Cr,pR=Lf,gR=mx,Dx=fR?function(n,t,e){return pR.f(n,t,gR(1,e))}:function(n,t,e){return n[t]=e,n},Ox={exports:{}},Mg=Cr,mR=Tr,Fx=Function.prototype,vR=Mg&&Object.getOwnPropertyDescriptor,sy=mR(Fx,"name"),yR=sy&&(function(){}).name==="something",wR=sy&&(!Mg||Mg&&vR(Fx,"name").configurable),bR={EXISTS:sy,PROPER:yR,CONFIGURABLE:wR},AR=Oi,xR=Xn,Pg=iy,SR=AR(Function.toString);xR(Pg.inspectSource)||(Pg.inspectSource=function(n){return SR(n)});var ER=Pg.inspectSource,kR=Yn,_R=Xn,dw=kR.WeakMap,CR=_R(dw)&&/native code/.test(String(dw)),TR=Mx,MR=Px,fw=TR("keys"),PR=function(n){return fw[n]||(fw[n]=MR(n))},Nx={},RR=CR,jx=Yn,LR=xh,IR=Dx,Ip=Tr,Dp=iy,DR=PR,OR=Nx,pw="Object already initialized",Rg=jx.TypeError,FR=jx.WeakMap,Ed,ph,kd,NR=function(n){return kd(n)?ph(n):Ed(n,{})},jR=function(n){return function(t){var e;if(!LR(t)||(e=ph(t)).type!==n)throw new Rg("Incompatible receiver, "+n+" required");return e}};if(RR||Dp.state){var Tn=Dp.state||(Dp.state=new FR);Tn.get=Tn.get,Tn.has=Tn.has,Tn.set=Tn.set,Ed=function(n,t){if(Tn.has(n))throw new Rg(pw);return t.facade=n,Tn.set(n,t),t},ph=function(n){return Tn.get(n)||{}},kd=function(n){return Tn.has(n)}}else{var Ir=DR("state");OR[Ir]=!0,Ed=function(n,t){if(Ip(n,Ir))throw new Rg(pw);return t.facade=n,IR(n,Ir,t),t},ph=function(n){return Ip(n,Ir)?n[Ir]:{}},kd=function(n){return Ip(n,Ir)}}var BR={set:Ed,get:ph,has:kd,enforce:NR,getterFor:jR},ry=Oi,WR=xs,VR=Xn,jh=Tr,Lg=Cr,UR=bR.CONFIGURABLE,HR=ER,Bx=BR,zR=Bx.enforce,$R=Bx.get,gw=String,pc=Object.defineProperty,GR=ry("".slice),qR=ry("".replace),KR=ry([].join),YR=Lg&&!WR(function(){return pc(function(){},"length",{value:8}).length!==8}),XR=String(String).split("String"),ZR=Ox.exports=function(n,t,e){GR(gw(t),0,7)==="Symbol("&&(t="["+qR(gw(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),e&&e.getter&&(t="get "+t),e&&e.setter&&(t="set "+t),(!jh(n,"name")||UR&&n.name!==t)&&(Lg?pc(n,"name",{value:t,configurable:!0}):n.name=t),YR&&e&&jh(e,"arity")&&n.length!==e.arity&&pc(n,"length",{value:e.arity});try{e&&jh(e,"constructor")&&e.constructor?Lg&&pc(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch{}var i=zR(n);return jh(i,"source")||(i.source=KR(XR,typeof t=="string"?t:"")),n};Function.prototype.toString=ZR(function(){return VR(this)&&$R(this).source||HR(this)},"toString");var QR=Ox.exports,JR=Xn,tL=Lf,eL=QR,nL=ny,iL=function(n,t,e,i){i||(i={});var s=i.enumerable,r=i.name!==void 0?i.name:t;if(JR(e)&&eL(e,r,i),i.global)s?n[t]=e:nL(t,e);else{try{i.unsafe?n[t]&&(s=!0):delete n[t]}catch{}s?n[t]=e:tL.f(n,t,{value:e,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return n},Wx={},sL=Math.ceil,rL=Math.floor,aL=Math.trunc||function(n){var t=+n;return(t>0?rL:sL)(t)},oL=aL,Vx=function(n){var t=+n;return t!==t||t===0?0:oL(t)},lL=Vx,hL=Math.max,cL=Math.min,uL=function(n,t){var e=lL(n);return e<0?hL(e+t,0):cL(e,t)},dL=Vx,fL=Math.min,pL=function(n){var t=dL(n);return t>0?fL(t,9007199254740991):0},gL=pL,mL=function(n){return gL(n.length)},vL=ey,yL=uL,wL=mL,mw=function(n){return function(t,e,i){var s=vL(t),r=wL(s);if(r===0)return!n&&-1;var a=yL(i,r),o;if(n&&e!==e){for(;r>a;)if(o=s[a++],o!==o)return!0}else for(;r>a;a++)if((n||a in s)&&s[a]===e)return n||a||0;return!n&&-1}},bL={includes:mw(!0),indexOf:mw(!1)},AL=Oi,Op=Tr,xL=ey,SL=bL.indexOf,EL=Nx,vw=AL([].push),kL=function(n,t){var e=xL(n),i=0,s=[],r;for(r in e)!Op(EL,r)&&Op(e,r)&&vw(s,r);for(;t.length>i;)Op(e,r=t[i++])&&(~SL(s,r)||vw(s,r));return s},_L=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],CL=kL,TL=_L,ML=TL.concat("length","prototype");Wx.f=Object.getOwnPropertyNames||function(n){return CL(n,ML)};var Ux={};Ux.f=Object.getOwnPropertySymbols;var PL=xx,RL=Oi,LL=Wx,IL=Ux,DL=Ix,OL=RL([].concat),FL=PL("Reflect","ownKeys")||function(n){var t=LL.f(DL(n)),e=IL.f;return e?OL(t,e(n)):t},yw=Tr,NL=FL,jL=Jv,BL=Lf,WL=function(n,t,e){for(var i=NL(t),s=BL.f,r=jL.f,a=0;a<i.length;a++){var o=i[a];!yw(n,o)&&!(e&&yw(e,o))&&s(n,o,r(t,o))}},VL=xs,UL=Xn,HL=/#|\.prototype\./,Sh=function(n,t){var e=$L[zL(n)];return e===qL?!0:e===GL?!1:UL(t)?VL(t):!!t},zL=Sh.normalize=function(n){return String(n).replace(HL,".").toLowerCase()},$L=Sh.data={},GL=Sh.NATIVE="N",qL=Sh.POLYFILL="P",KL=Sh,Bh=Yn,YL=Jv.f,XL=Dx,ZL=iL,QL=ny,JL=WL,tI=KL,eI=function(n,t){var e=n.target,i=n.global,s=n.stat,r,a,o,l,u,c;if(i?a=Bh:s?a=Bh[e]||QL(e,{}):a=Bh[e]&&Bh[e].prototype,a)for(o in t){if(u=t[o],n.dontCallGetSet?(c=YL(a,o),l=c&&c.value):l=a[o],r=tI(i?o:e+(s?".":"#")+o,n.forced),!r&&l!==void 0){if(typeof u==typeof l)continue;JL(u,l)}(n.sham||l&&l.sham)&&XL(u,"sham",!0),ZL(a,o,u,n)}},Hx={},ww=Cx,nI=TypeError,iI=function(n){var t,e;this.promise=new n(function(i,s){if(t!==void 0||e!==void 0)throw new nI("Bad Promise constructor");t=i,e=s}),this.resolve=ww(t),this.reject=ww(e)};Hx.f=function(n){return new iI(n)};var sI=eI,rI=Hx;sI({target:"Promise",stat:!0},{withResolvers:function(){var n=rI.f(this);return{promise:n.promise,resolve:n.resolve,reject:n.reject}}});function aI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zx={exports:{}},Yt=zx.exports={},jn,Bn;function Ig(){throw new Error("setTimeout has not been defined")}function Dg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?jn=setTimeout:jn=Ig}catch{jn=Ig}try{typeof clearTimeout=="function"?Bn=clearTimeout:Bn=Dg}catch{Bn=Dg}})();function $x(n){if(jn===setTimeout)return setTimeout(n,0);if((jn===Ig||!jn)&&setTimeout)return jn=setTimeout,setTimeout(n,0);try{return jn(n,0)}catch{try{return jn.call(null,n,0)}catch{return jn.call(this,n,0)}}}function oI(n){if(Bn===clearTimeout)return clearTimeout(n);if((Bn===Dg||!Bn)&&clearTimeout)return Bn=clearTimeout,clearTimeout(n);try{return Bn(n)}catch{try{return Bn.call(null,n)}catch{return Bn.call(this,n)}}}var Ei=[],Ha=!1,or,gc=-1;function lI(){!Ha||!or||(Ha=!1,or.length?Ei=or.concat(Ei):gc=-1,Ei.length&&Gx())}function Gx(){if(!Ha){var n=$x(lI);Ha=!0;for(var t=Ei.length;t;){for(or=Ei,Ei=[];++gc<t;)or&&or[gc].run();gc=-1,t=Ei.length}or=null,Ha=!1,oI(n)}}Yt.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];Ei.push(new qx(n,t)),Ei.length===1&&!Ha&&$x(Gx)};function qx(n,t){this.fun=n,this.array=t}qx.prototype.run=function(){this.fun.apply(null,this.array)};Yt.title="browser";Yt.browser=!0;Yt.env={};Yt.argv=[];Yt.version="";Yt.versions={};function Fi(){}Yt.on=Fi;Yt.addListener=Fi;Yt.once=Fi;Yt.off=Fi;Yt.removeListener=Fi;Yt.removeAllListeners=Fi;Yt.emit=Fi;Yt.prependListener=Fi;Yt.prependOnceListener=Fi;Yt.listeners=function(n){return[]};Yt.binding=function(n){throw new Error("process.binding is not supported")};Yt.cwd=function(){return"/"};Yt.chdir=function(n){throw new Error("process.chdir is not supported")};Yt.umask=function(){return 0};var hI=zx.exports;const dt=aI(hI);var Ie=function(){return Ie=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ie.apply(this,arguments)};function Ar(n,t,e){if(e||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}function cI(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var uI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dI=cI(function(n){return uI.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Wt="-ms-",Fl="-moz-",Tt="-webkit-",Kx="comm",If="rule",ay="decl",fI="@import",Yx="@keyframes",pI="@layer",Xx=Math.abs,oy=String.fromCharCode,Og=Object.assign;function gI(n,t){return de(n,0)^45?(((t<<2^de(n,0))<<2^de(n,1))<<2^de(n,2))<<2^de(n,3):0}function Zx(n){return n.trim()}function ui(n,t){return(n=t.exec(n))?n[0]:n}function vt(n,t,e){return n.replace(t,e)}function mc(n,t,e){return n.indexOf(t,e)}function de(n,t){return n.charCodeAt(t)|0}function so(n,t,e){return n.slice(t,e)}function Hn(n){return n.length}function Qx(n){return n.length}function Oo(n,t){return t.push(n),n}function mI(n,t){return n.map(t).join("")}function bw(n,t){return n.filter(function(e){return!ui(e,t)})}var Df=1,ro=1,Jx=0,bn=0,Jt=0,fo="";function Of(n,t,e,i,s,r,a,o){return{value:n,root:t,parent:e,type:i,props:s,children:r,line:Df,column:ro,length:a,return:"",siblings:o}}function Bi(n,t){return Og(Of("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},t)}function Dr(n){for(;n.root;)n=Bi(n.root,{children:[n]});Oo(n,n.siblings)}function vI(){return Jt}function yI(){return Jt=bn>0?de(fo,--bn):0,ro--,Jt===10&&(ro=1,Df--),Jt}function Cn(){return Jt=bn<Jx?de(fo,bn++):0,ro++,Jt===10&&(ro=1,Df++),Jt}function yr(){return de(fo,bn)}function vc(){return bn}function Ff(n,t){return so(fo,n,t)}function Fg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wI(n){return Df=ro=1,Jx=Hn(fo=n),bn=0,[]}function bI(n){return fo="",n}function Fp(n){return Zx(Ff(bn-1,Ng(n===91?n+2:n===40?n+1:n)))}function AI(n){for(;(Jt=yr())&&Jt<33;)Cn();return Fg(n)>2||Fg(Jt)>3?"":" "}function xI(n,t){for(;--t&&Cn()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return Ff(n,vc()+(t<6&&yr()==32&&Cn()==32))}function Ng(n){for(;Cn();)switch(Jt){case n:return bn;case 34:case 39:n!==34&&n!==39&&Ng(Jt);break;case 40:n===41&&Ng(n);break;case 92:Cn();break}return bn}function SI(n,t){for(;Cn()&&n+Jt!==57&&!(n+Jt===84&&yr()===47););return"/*"+Ff(t,bn-1)+"*"+oy(n===47?n:Cn())}function EI(n){for(;!Fg(yr());)Cn();return Ff(n,bn)}function kI(n){return bI(yc("",null,null,null,[""],n=wI(n),0,[0],n))}function yc(n,t,e,i,s,r,a,o,l){for(var u=0,c=0,d=a,p=0,g=0,y=0,b=1,A=1,E=1,k=0,C="",P=s,R=r,O=i,D=C;A;)switch(y=k,k=Cn()){case 40:if(y!=108&&de(D,d-1)==58){mc(D+=vt(Fp(k),"&","&\f"),"&\f",Xx(u?o[u-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:D+=Fp(k);break;case 9:case 10:case 13:case 32:D+=AI(y);break;case 92:D+=xI(vc()-1,7);continue;case 47:switch(yr()){case 42:case 47:Oo(_I(SI(Cn(),vc()),t,e,l),l);break;default:D+="/"}break;case 123*b:o[u++]=Hn(D)*E;case 125*b:case 59:case 0:switch(k){case 0:case 125:A=0;case 59+c:E==-1&&(D=vt(D,/\f/g,"")),g>0&&Hn(D)-d&&Oo(g>32?xw(D+";",i,e,d-1,l):xw(vt(D," ","")+";",i,e,d-2,l),l);break;case 59:D+=";";default:if(Oo(O=Aw(D,t,e,u,c,s,o,C,P=[],R=[],d,r),r),k===123)if(c===0)yc(D,t,O,O,P,r,d,o,R);else switch(p===99&&de(D,3)===110?100:p){case 100:case 108:case 109:case 115:yc(n,O,O,i&&Oo(Aw(n,O,O,0,0,s,o,C,s,P=[],d,R),R),s,R,d,o,i?P:R);break;default:yc(D,O,O,O,[""],R,0,o,R)}}u=c=g=0,b=E=1,C=D="",d=a;break;case 58:d=1+Hn(D),g=y;default:if(b<1){if(k==123)--b;else if(k==125&&b++==0&&yI()==125)continue}switch(D+=oy(k),k*b){case 38:E=c>0?1:(D+="\f",-1);break;case 44:o[u++]=(Hn(D)-1)*E,E=1;break;case 64:yr()===45&&(D+=Fp(Cn())),p=yr(),c=d=Hn(C=D+=EI(vc())),k++;break;case 45:y===45&&Hn(D)==2&&(b=0)}}return r}function Aw(n,t,e,i,s,r,a,o,l,u,c,d){for(var p=s-1,g=s===0?r:[""],y=Qx(g),b=0,A=0,E=0;b<i;++b)for(var k=0,C=so(n,p+1,p=Xx(A=a[b])),P=n;k<y;++k)(P=Zx(A>0?g[k]+" "+C:vt(C,/&\f/g,g[k])))&&(l[E++]=P);return Of(n,t,e,s===0?If:o,l,u,c,d)}function _I(n,t,e,i){return Of(n,t,e,Kx,oy(vI()),so(n,2,-2),0,i)}function xw(n,t,e,i,s){return Of(n,t,e,ay,so(n,0,i),so(n,i+1,-1),i,s)}function tS(n,t,e){switch(gI(n,t)){case 5103:return Tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tt+n+n;case 4789:return Fl+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Tt+n+Fl+n+Wt+n+n;case 5936:switch(de(n,t+11)){case 114:return Tt+n+Wt+vt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Tt+n+Wt+vt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Tt+n+Wt+vt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Tt+n+Wt+n+n;case 6165:return Tt+n+Wt+"flex-"+n+n;case 5187:return Tt+n+vt(n,/(\w+).+(:[^]+)/,Tt+"box-$1$2"+Wt+"flex-$1$2")+n;case 5443:return Tt+n+Wt+"flex-item-"+vt(n,/flex-|-self/g,"")+(ui(n,/flex-|baseline/)?"":Wt+"grid-row-"+vt(n,/flex-|-self/g,""))+n;case 4675:return Tt+n+Wt+"flex-line-pack"+vt(n,/align-content|flex-|-self/g,"")+n;case 5548:return Tt+n+Wt+vt(n,"shrink","negative")+n;case 5292:return Tt+n+Wt+vt(n,"basis","preferred-size")+n;case 6060:return Tt+"box-"+vt(n,"-grow","")+Tt+n+Wt+vt(n,"grow","positive")+n;case 4554:return Tt+vt(n,/([^-])(transform)/g,"$1"+Tt+"$2")+n;case 6187:return vt(vt(vt(n,/(zoom-|grab)/,Tt+"$1"),/(image-set)/,Tt+"$1"),n,"")+n;case 5495:case 3959:return vt(n,/(image-set\([^]*)/,Tt+"$1$`$1");case 4968:return vt(vt(n,/(.+:)(flex-)?(.*)/,Tt+"box-pack:$3"+Wt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tt+n+n;case 4200:if(!ui(n,/flex-|baseline/))return Wt+"grid-column-align"+so(n,t)+n;break;case 2592:case 3360:return Wt+vt(n,"template-","")+n;case 4384:case 3616:return e&&e.some(function(i,s){return t=s,ui(i.props,/grid-\w+-end/)})?~mc(n+(e=e[t].value),"span",0)?n:Wt+vt(n,"-start","")+n+Wt+"grid-row-span:"+(~mc(e,"span",0)?ui(e,/\d+/):+ui(e,/\d+/)-+ui(n,/\d+/))+";":Wt+vt(n,"-start","")+n;case 4896:case 4128:return e&&e.some(function(i){return ui(i.props,/grid-\w+-start/)})?n:Wt+vt(vt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return vt(n,/(.+)-inline(.+)/,Tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hn(n)-1-t>6)switch(de(n,t+1)){case 109:if(de(n,t+4)!==45)break;case 102:return vt(n,/(.+:)(.+)-([^]+)/,"$1"+Tt+"$2-$3$1"+Fl+(de(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~mc(n,"stretch",0)?tS(vt(n,"stretch","fill-available"),t,e)+n:n}break;case 5152:case 5920:return vt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,r,a,o,l,u){return Wt+s+":"+r+u+(a?Wt+s+"-span:"+(o?l:+l-+r)+u:"")+n});case 4949:if(de(n,t+6)===121)return vt(n,":",":"+Tt)+n;break;case 6444:switch(de(n,de(n,14)===45?18:11)){case 120:return vt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Tt+(de(n,14)===45?"inline-":"")+"box$3$1"+Tt+"$2$3$1"+Wt+"$2box$3")+n;case 100:return vt(n,":",":"+Wt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return vt(n,"scroll-","scroll-snap-")+n}return n}function _d(n,t){for(var e="",i=0;i<n.length;i++)e+=t(n[i],i,n,t)||"";return e}function CI(n,t,e,i){switch(n.type){case pI:if(n.children.length)break;case fI:case ay:return n.return=n.return||n.value;case Kx:return"";case Yx:return n.return=n.value+"{"+_d(n.children,i)+"}";case If:if(!Hn(n.value=n.props.join(",")))return""}return Hn(e=_d(n.children,i))?n.return=n.value+"{"+e+"}":""}function TI(n){var t=Qx(n);return function(e,i,s,r){for(var a="",o=0;o<t;o++)a+=n[o](e,i,s,r)||"";return a}}function MI(n){return function(t){t.root||(t=t.return)&&n(t)}}function PI(n,t,e,i){if(n.length>-1&&!n.return)switch(n.type){case ay:n.return=tS(n.value,n.length,e);return;case Yx:return _d([Bi(n,{value:vt(n.value,"@","@"+Tt)})],i);case If:if(n.length)return mI(e=n.props,function(s){switch(ui(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Dr(Bi(n,{props:[vt(s,/:(read-\w+)/,":"+Fl+"$1")]})),Dr(Bi(n,{props:[s]})),Og(n,{props:bw(e,i)});break;case"::placeholder":Dr(Bi(n,{props:[vt(s,/:(plac\w+)/,":"+Tt+"input-$1")]})),Dr(Bi(n,{props:[vt(s,/:(plac\w+)/,":"+Fl+"$1")]})),Dr(Bi(n,{props:[vt(s,/:(plac\w+)/,Wt+"input-$1")]})),Dr(Bi(n,{props:[s]})),Og(n,{props:bw(e,i)});break}return""})}}var RI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xr=typeof dt<"u"&&dt.env!==void 0&&(dt.env.REACT_APP_SC_ATTR||dt.env.SC_ATTR)||"data-styled",eS="active",nS="data-styled-version",Nf="6.1.11",ly=`/*!sc*/
`,hy=typeof window<"u"&&"HTMLElement"in window,LI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof dt<"u"&&dt.env!==void 0&&dt.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&dt.env.REACT_APP_SC_DISABLE_SPEEDY!==""?dt.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&dt.env.REACT_APP_SC_DISABLE_SPEEDY:typeof dt<"u"&&dt.env!==void 0&&dt.env.SC_DISABLE_SPEEDY!==void 0&&dt.env.SC_DISABLE_SPEEDY!==""?dt.env.SC_DISABLE_SPEEDY!=="false"&&dt.env.SC_DISABLE_SPEEDY:dt.env.NODE_ENV!=="production"),Sw=/invalid hook call/i,Wh=new Set,II=function(n,t){if(dt.env.NODE_ENV!=="production"){var e=t?' with the id of "'.concat(t,'"'):"",i="The component ".concat(n).concat(e,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.`,s=console.error;try{var r=!0;console.error=function(a){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];Sw.test(a)?(r=!1,Wh.delete(i)):s.apply(void 0,Ar([a],o,!1))},I.useRef(),r&&!Wh.has(i)&&(console.warn(i),Wh.add(i))}catch(a){Sw.test(a.message)&&Wh.delete(i)}finally{console.error=s}}},jf=Object.freeze([]),ao=Object.freeze({});function DI(n,t,e){return e===void 0&&(e=ao),n.theme!==e.theme&&n.theme||t||e.theme}var jg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),OI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,FI=/(^-|-$)/g;function Ew(n){return n.replace(OI,"-").replace(FI,"")}var NI=/(a)(d)/gi,Vh=52,kw=function(n){return String.fromCharCode(n+(n>25?39:97))};function Bg(n){var t,e="";for(t=Math.abs(n);t>Vh;t=t/Vh|0)e=kw(t%Vh)+e;return(kw(t%Vh)+e).replace(NI,"$1-$2")}var Np,iS=5381,Zs=function(n,t){for(var e=t.length;e;)n=33*n^t.charCodeAt(--e);return n},sS=function(n){return Zs(iS,n)};function rS(n){return Bg(sS(n)>>>0)}function aS(n){return dt.env.NODE_ENV!=="production"&&typeof n=="string"&&n||n.displayName||n.name||"Component"}function jp(n){return typeof n=="string"&&(dt.env.NODE_ENV==="production"||n.charAt(0)===n.charAt(0).toLowerCase())}var oS=typeof Symbol=="function"&&Symbol.for,lS=oS?Symbol.for("react.memo"):60115,jI=oS?Symbol.for("react.forward_ref"):60112,BI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VI=((Np={})[jI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Np[lS]=hS,Np);function _w(n){return("type"in(t=n)&&t.type.$$typeof)===lS?hS:"$$typeof"in n?VI[n.$$typeof]:BI;var t}var UI=Object.defineProperty,HI=Object.getOwnPropertyNames,Cw=Object.getOwnPropertySymbols,zI=Object.getOwnPropertyDescriptor,$I=Object.getPrototypeOf,Tw=Object.prototype;function cS(n,t,e){if(typeof t!="string"){if(Tw){var i=$I(t);i&&i!==Tw&&cS(n,i,e)}var s=HI(t);Cw&&(s=s.concat(Cw(t)));for(var r=_w(n),a=_w(t),o=0;o<s.length;++o){var l=s[o];if(!(l in WI||e&&e[l]||a&&l in a||r&&l in r)){var u=zI(t,l);try{UI(n,l,u)}catch{}}}}return n}function Sr(n){return typeof n=="function"}function cy(n){return typeof n=="object"&&"styledComponentId"in n}function lr(n,t){return n&&t?"".concat(n," ").concat(t):n||t||""}function Wg(n,t){if(n.length===0)return"";for(var e=n[0],i=1;i<n.length;i++)e+=n[i];return e}function oo(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Vg(n,t,e){if(e===void 0&&(e=!1),!e&&!oo(n)&&!Array.isArray(n))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)n[i]=Vg(n[i],t[i]);else if(oo(t))for(var i in t)n[i]=Vg(n[i],t[i]);return n}function uy(n,t){Object.defineProperty(n,"toString",{value:t})}var GI=dt.env.NODE_ENV!=="production"?{1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function qI(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=n[0],i=[],s=1,r=n.length;s<r;s+=1)i.push(n[s]);return i.forEach(function(a){e=e.replace(/%[a-z]/,a)}),e}function Ri(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return dt.env.NODE_ENV==="production"?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):"")):new Error(qI.apply(void 0,Ar([GI[n]],t,!1)).trim())}var KI=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return n.prototype.indexOfGroup=function(t){for(var e=0,i=0;i<t;i++)e+=this.groupSizes[i];return e},n.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,r=s;t>=r;)if((r<<=1)<0)throw Ri(16,"".concat(t));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var a=s;a<r;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(t+1),l=(a=0,e.length);a<l;a++)this.tag.insertRule(o,e[a])&&(this.groupSizes[t]++,o++)},n.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],i=this.indexOfGroup(t),s=i+e;this.groupSizes[t]=0;for(var r=i;r<s;r++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(t){var e="";if(t>=this.length||this.groupSizes[t]===0)return e;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),r=s+i,a=s;a<r;a++)e+="".concat(this.tag.getRule(a)).concat(ly);return e},n}(),YI=1<<30,wc=new Map,Cd=new Map,bc=1,Uh=function(n){if(wc.has(n))return wc.get(n);for(;Cd.has(bc);)bc++;var t=bc++;if(dt.env.NODE_ENV!=="production"&&((0|t)<0||t>YI))throw Ri(16,"".concat(t));return wc.set(n,t),Cd.set(t,n),t},XI=function(n,t){bc=t+1,wc.set(n,t),Cd.set(t,n)},ZI="style[".concat(xr,"][").concat(nS,'="').concat(Nf,'"]'),QI=new RegExp("^".concat(xr,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),JI=function(n,t,e){for(var i,s=e.split(","),r=0,a=s.length;r<a;r++)(i=s[r])&&n.registerName(t,i)},tD=function(n,t){for(var e,i=((e=t.textContent)!==null&&e!==void 0?e:"").split(ly),s=[],r=0,a=i.length;r<a;r++){var o=i[r].trim();if(o){var l=o.match(QI);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(XI(c,u),JI(n,c,l[3]),n.getTag().insertRules(u,s)),s.length=0}else s.push(o)}}};function eD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var uS=function(n){var t=document.head,e=n||t,i=document.createElement("style"),s=function(o){var l=Array.from(o.querySelectorAll("style[".concat(xr,"]")));return l[l.length-1]}(e),r=s!==void 0?s.nextSibling:null;i.setAttribute(xr,eS),i.setAttribute(nS,Nf);var a=eD();return a&&i.setAttribute("nonce",a),e.insertBefore(i,r),i},nD=function(){function n(t){this.element=uS(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var i=document.styleSheets,s=0,r=i.length;s<r;s++){var a=i[s];if(a.ownerNode===e)return a}throw Ri(17)}(this.element),this.length=0}return n.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},n.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},n}(),iD=function(){function n(t){this.element=uS(t),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var i=document.createTextNode(e);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},n.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),sD=function(){function n(t){this.rules=[],this.length=0}return n.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},n.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},n.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),Mw=hy,rD={isServer:!hy,useCSSOMInjection:!LI},dS=function(){function n(t,e,i){t===void 0&&(t=ao),e===void 0&&(e={});var s=this;this.options=Ie(Ie({},rD),t),this.gs=e,this.names=new Map(i),this.server=!!t.isServer,!this.server&&hy&&Mw&&(Mw=!1,function(r){for(var a=document.querySelectorAll(ZI),o=0,l=a.length;o<l;o++){var u=a[o];u&&u.getAttribute(xr)!==eS&&(tD(r,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),uy(this,function(){return function(r){for(var a=r.getTag(),o=a.length,l="",u=function(d){var p=function(E){return Cd.get(E)}(d);if(p===void 0)return"continue";var g=r.names.get(p),y=a.getGroup(d);if(g===void 0||y.length===0)return"continue";var b="".concat(xr,".g").concat(d,'[id="').concat(p,'"]'),A="";g!==void 0&&g.forEach(function(E){E.length>0&&(A+="".concat(E,","))}),l+="".concat(y).concat(b,'{content:"').concat(A,'"}').concat(ly)},c=0;c<o;c++)u(c);return l}(s)})}return n.registerId=function(t){return Uh(t)},n.prototype.reconstructWithOptions=function(t,e){return e===void 0&&(e=!0),new n(Ie(Ie({},this.options),t),this.gs,e&&this.names||void 0)},n.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(t=function(e){var i=e.useCSSOMInjection,s=e.target;return e.isServer?new sD(s):i?new nD(s):new iD(s)}(this.options),new KI(t)));var t},n.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},n.prototype.registerName=function(t,e){if(Uh(t),this.names.has(t))this.names.get(t).add(e);else{var i=new Set;i.add(e),this.names.set(t,i)}},n.prototype.insertRules=function(t,e,i){this.registerName(t,e),this.getTag().insertRules(Uh(t),i)},n.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},n.prototype.clearRules=function(t){this.getTag().clearGroup(Uh(t)),this.clearNames(t)},n.prototype.clearTag=function(){this.tag=void 0},n}(),aD=/&/g,oD=/^\s*\/\/.*$/gm;function fS(n,t){return n.map(function(e){return e.type==="rule"&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=fS(e.children,t)),e})}function lD(n){var t,e,i,s=ao,r=s.options,a=r===void 0?ao:r,o=s.plugins,l=o===void 0?jf:o,u=function(p,g,y){return y.startsWith(e)&&y.endsWith(e)&&y.replaceAll(e,"").length>0?".".concat(t):p},c=l.slice();c.push(function(p){p.type===If&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(aD,e).replace(i,u))}),a.prefix&&c.push(PI),c.push(CI);var d=function(p,g,y,b){g===void 0&&(g=""),y===void 0&&(y=""),b===void 0&&(b="&"),t=b,e=g,i=new RegExp("\\".concat(e,"\\b"),"g");var A=p.replace(oD,""),E=kI(y||g?"".concat(y," ").concat(g," { ").concat(A," }"):A);a.namespace&&(E=fS(E,a.namespace));var k=[];return _d(E,TI(c.concat(MI(function(C){return k.push(C)})))),k};return d.hash=l.length?l.reduce(function(p,g){return g.name||Ri(15),Zs(p,g.name)},iS).toString():"",d}var hD=new dS,Ug=lD(),pS=br.createContext({shouldForwardProp:void 0,styleSheet:hD,stylis:Ug});pS.Consumer;br.createContext(void 0);function Pw(){return I.useContext(pS)}var Hg=function(){function n(t,e){var i=this;this.inject=function(s,r){r===void 0&&(r=Ug);var a=i.name+r.hash;s.hasNameForId(i.id,a)||s.insertRules(i.id,a,r(i.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,uy(this,function(){throw Ri(12,String(i.name))})}return n.prototype.getName=function(t){return t===void 0&&(t=Ug),this.name+t.hash},n}(),cD=function(n){return n>="A"&&n<="Z"};function Rw(n){for(var t="",e=0;e<n.length;e++){var i=n[e];if(e===1&&i==="-"&&n[0]==="-")return n;cD(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var gS=function(n){return n==null||n===!1||n===""},mS=function(n){var t,e,i=[];for(var s in n){var r=n[s];n.hasOwnProperty(s)&&!gS(r)&&(Array.isArray(r)&&r.isCss||Sr(r)?i.push("".concat(Rw(s),":"),r,";"):oo(r)?i.push.apply(i,Ar(Ar(["".concat(s," {")],mS(r),!1),["}"],!1)):i.push("".concat(Rw(s),": ").concat((t=s,(e=r)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in RI||t.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return i};function wr(n,t,e,i){if(gS(n))return[];if(cy(n))return[".".concat(n.styledComponentId)];if(Sr(n)){if(!Sr(r=n)||r.prototype&&r.prototype.isReactComponent||!t)return[n];var s=n(t);return dt.env.NODE_ENV==="production"||typeof s!="object"||Array.isArray(s)||s instanceof Hg||oo(s)||s===null||console.error("".concat(aS(n)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),wr(s,t,e,i)}var r;return n instanceof Hg?e?(n.inject(e,i),[n.getName(i)]):[n]:oo(n)?mS(n):Array.isArray(n)?Array.prototype.concat.apply(jf,n.map(function(a){return wr(a,t,e,i)})):[n.toString()]}function uD(n){for(var t=0;t<n.length;t+=1){var e=n[t];if(Sr(e)&&!cy(e))return!1}return!0}var dD=sS(Nf),fD=function(){function n(t,e,i){this.rules=t,this.staticRulesId="",this.isStatic=dt.env.NODE_ENV==="production"&&(i===void 0||i.isStatic)&&uD(t),this.componentId=e,this.baseHash=Zs(dD,e),this.baseStyle=i,dS.registerId(e)}return n.prototype.generateAndInjectStyles=function(t,e,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))s=lr(s,this.staticRulesId);else{var r=Wg(wr(this.rules,t,e,i)),a=Bg(Zs(this.baseHash,r)>>>0);if(!e.hasNameForId(this.componentId,a)){var o=i(r,".".concat(a),void 0,this.componentId);e.insertRules(this.componentId,a,o)}s=lr(s,a),this.staticRulesId=a}else{for(var l=Zs(this.baseHash,i.hash),u="",c=0;c<this.rules.length;c++){var d=this.rules[c];if(typeof d=="string")u+=d,dt.env.NODE_ENV!=="production"&&(l=Zs(l,d));else if(d){var p=Wg(wr(d,t,e,i));l=Zs(l,p+c),u+=p}}if(u){var g=Bg(l>>>0);e.hasNameForId(this.componentId,g)||e.insertRules(this.componentId,g,i(u,".".concat(g),void 0,this.componentId)),s=lr(s,g)}}return s},n}(),Td=br.createContext(void 0);Td.Consumer;function pD(n){var t=br.useContext(Td),e=I.useMemo(function(){return function(i,s){if(!i)throw Ri(14);if(Sr(i)){var r=i(s);if(dt.env.NODE_ENV!=="production"&&(r===null||Array.isArray(r)||typeof r!="object"))throw Ri(7);return r}if(Array.isArray(i)||typeof i!="object")throw Ri(8);return s?Ie(Ie({},s),i):i}(n.theme,t)},[n.theme,t]);return n.children?br.createElement(Td.Provider,{value:e},n.children):null}var Bp={},Lw=new Set;function gD(n,t,e){var i=cy(n),s=n,r=!jp(n),a=t.attrs,o=a===void 0?jf:a,l=t.componentId,u=l===void 0?function(P,R){var O=typeof P!="string"?"sc":Ew(P);Bp[O]=(Bp[O]||0)+1;var D="".concat(O,"-").concat(rS(Nf+O+Bp[O]));return R?"".concat(R,"-").concat(D):D}(t.displayName,t.parentComponentId):l,c=t.displayName,d=c===void 0?function(P){return jp(P)?"styled.".concat(P):"Styled(".concat(aS(P),")")}(n):c,p=t.displayName&&t.componentId?"".concat(Ew(t.displayName),"-").concat(t.componentId):t.componentId||u,g=i&&s.attrs?s.attrs.concat(o).filter(Boolean):o,y=t.shouldForwardProp;if(i&&s.shouldForwardProp){var b=s.shouldForwardProp;if(t.shouldForwardProp){var A=t.shouldForwardProp;y=function(P,R){return b(P,R)&&A(P,R)}}else y=b}var E=new fD(e,p,i?s.componentStyle:void 0);function k(P,R){return function(O,D,_){var T=O.attrs,F=O.componentStyle,j=O.defaultProps,V=O.foldedComponentIds,U=O.styledComponentId,Y=O.target,G=br.useContext(Td),H=Pw(),B=O.shouldForwardProp||H.shouldForwardProp;dt.env.NODE_ENV!=="production"&&I.useDebugValue(U);var it=DI(D,G,j)||ao,q=function(J,st,et){for(var wt,K=Ie(Ie({},st),{className:void 0,theme:et}),Z=0;Z<J.length;Z+=1){var ft=Sr(wt=J[Z])?wt(K):wt;for(var mt in ft)K[mt]=mt==="className"?lr(K[mt],ft[mt]):mt==="style"?Ie(Ie({},K[mt]),ft[mt]):ft[mt]}return st.className&&(K.className=lr(K.className,st.className)),K}(T,D,it),At=q.as||Y,gt={};for(var z in q)q[z]===void 0||z[0]==="$"||z==="as"||z==="theme"&&q.theme===it||(z==="forwardedAs"?gt.as=q.forwardedAs:B&&!B(z,At)||(gt[z]=q[z],B||dt.env.NODE_ENV!=="development"||dI(z)||Lw.has(z)||!jg.has(At)||(Lw.add(z),console.warn('styled-components: it looks like an unknown prop "'.concat(z,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var nt=function(J,st){var et=Pw(),wt=J.generateAndInjectStyles(st,et.styleSheet,et.stylis);return dt.env.NODE_ENV!=="production"&&I.useDebugValue(wt),wt}(F,q);dt.env.NODE_ENV!=="production"&&O.warnTooManyClasses&&O.warnTooManyClasses(nt);var tt=lr(V,U);return nt&&(tt+=" "+nt),q.className&&(tt+=" "+q.className),gt[jp(At)&&!jg.has(At)?"class":"className"]=tt,gt.ref=_,I.createElement(At,gt)}(C,P,R)}k.displayName=d;var C=br.forwardRef(k);return C.attrs=g,C.componentStyle=E,C.displayName=d,C.shouldForwardProp=y,C.foldedComponentIds=i?lr(s.foldedComponentIds,s.styledComponentId):"",C.styledComponentId=p,C.target=i?s.target:n,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(P){this._foldedDefaultProps=i?function(R){for(var O=[],D=1;D<arguments.length;D++)O[D-1]=arguments[D];for(var _=0,T=O;_<T.length;_++)Vg(R,T[_],!0);return R}({},s.defaultProps,P):P}}),dt.env.NODE_ENV!=="production"&&(II(d,p),C.warnTooManyClasses=function(P,R){var O={},D=!1;return function(_){if(!D&&(O[_]=!0,Object.keys(O).length>=200)){var T=R?' with the id of "'.concat(R,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(P).concat(T,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),D=!0,O={}}}}(d,p)),uy(C,function(){return".".concat(C.styledComponentId)}),r&&cS(C,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function Iw(n,t){for(var e=[n[0]],i=0,s=t.length;i<s;i+=1)e.push(t[i],n[i+1]);return e}var Dw=function(n){return Object.assign(n,{isCss:!0})};function Bf(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Sr(n)||oo(n))return Dw(wr(Iw(jf,Ar([n],t,!0))));var i=n;return t.length===0&&i.length===1&&typeof i[0]=="string"?wr(i):Dw(wr(Iw(i,t)))}function zg(n,t,e){if(e===void 0&&(e=ao),!t)throw Ri(1,t);var i=function(s){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return n(t,e,Bf.apply(void 0,Ar([s],r,!1)))};return i.attrs=function(s){return zg(n,t,Ie(Ie({},e),{attrs:Array.prototype.concat(e.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return zg(n,t,Ie(Ie({},e),s))},i}var vS=function(n){return zg(gD,n)},yt=vS;jg.forEach(function(n){yt[n]=vS(n)});function mD(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];dt.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn("`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.");var i=Wg(Bf.apply(void 0,Ar([n],t,!1))),s=rS(i);return new Hg(s,i)}dt.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var Hh="__sc-".concat(xr,"__");dt.env.NODE_ENV!=="production"&&dt.env.NODE_ENV!=="test"&&typeof window<"u"&&(window[Hh]||(window[Hh]=0),window[Hh]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[Hh]+=1);const vD="Document {{ currentFileNo }} of {{ allFilesCount }}",yD="No renderer for file type: {{{ fileType }}}",wD="Download file",bD="Your file is broken. Please check it on your machine.",AD="Recipients",xD="Sender",SD="Loading...",ED="Page {{ currentPage }}/{{ allPagesCount }}",kD={documentNavInfo:vD,noRendererMessage:yD,downloadButtonLabel:wD,brokenFile:bD,msgPluginRecipients:AD,msgPluginSender:xD,pdfPluginLoading:SD,pdfPluginPageNumber:ED},_D="Dokument {{ currentFileNo }} z {{ allFilesCount }}",CD="Brak funckji renderujcej dla: {{{ fileType }}}",TD="Pobierz plik",MD="Twj plik jest uszkodzony. Sprawd go na swoim komputerze.",PD="Odbiorcy",RD="Nadawca",LD="Wczytywanie...",ID="Strona {{ currentPage }}/{{ allPagesCount }}",DD={documentNavInfo:_D,noRendererMessage:CD,downloadButtonLabel:TD,brokenFile:MD,msgPluginRecipients:PD,msgPluginSender:RD,pdfPluginLoading:LD,pdfPluginPageNumber:ID},OD="Documento {{ currentFileNo }} de {{ allFilesCount }}",FD="No hay procesador para el tipo de archivo: {{{ fileType }}}",ND="Descargar archivo",jD="Tu archivo est roto. Comprubalo en tu mquina.",BD="Destinatarios",WD="Remitente",VD="Cargando...",UD="Pgina {{ currentPage }}/{{ allPagesCount }}",HD={documentNavInfo:OD,noRendererMessage:FD,downloadButtonLabel:ND,brokenFile:jD,msgPluginRecipients:BD,msgPluginSender:WD,pdfPluginLoading:VD,pdfPluginPageNumber:UD},zD="Dokument {{ currentFileNo }} von {{ allFilesCount }}",$D="Kein Renderer fr Dateityp: {{{ fileType }}}",GD="Datei herunterladen",qD="Ihre Datei ist defekt. Bitte berprfen Sie sie auf Ihrem Rechner.",KD="Empfnger",YD="Absender",XD="Wird geladen...",ZD="Seite {{ currentPage }}/{{ allPagesCount }}",QD={documentNavInfo:zD,noRendererMessage:$D,downloadButtonLabel:GD,brokenFile:qD,msgPluginRecipients:KD,msgPluginSender:YD,pdfPluginLoading:XD,pdfPluginPageNumber:ZD},JD="Documento {{ currentFileNo }} di {{ allFilesCount }}",t4="Nessun renderer per il tipo di file: {{{ fileType }}}",e4="Scarica file",n4="Il tuo file  danneggiato. Controllalo sul tuo computer.",i4="Destinatari",s4="Mittente",r4="Caricamento in corso...",a4="Pagina {{ currentPage }}/{{ allPagesCount }}",o4={documentNavInfo:JD,noRendererMessage:t4,downloadButtonLabel:e4,brokenFile:n4,msgPluginRecipients:i4,msgPluginSender:s4,pdfPluginLoading:r4,pdfPluginPageNumber:a4},l4="Documento {{ currentFileNo }} de {{ allFilesCount }}",h4="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",c4="Baixar arquivo",u4="Seu arquivo est quebrado. Por favor, verifique-o em sua mquina.",d4="Destinatrios",f4="Remetente",p4="Carregando...",g4="Pgina {{ currentPage }}/{{ allPagesCount }}",m4={documentNavInfo:l4,noRendererMessage:h4,downloadButtonLabel:c4,brokenFile:u4,msgPluginRecipients:d4,msgPluginSender:f4,pdfPluginLoading:p4,pdfPluginPageNumber:g4},v4="Document {{ currentFileNo }} de {{ allFilesCount }}",y4="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",w4="Tlcharger le fichier",b4="Votre fichier est cass. Veuillez le vrifier sur votre machine.",A4="Destinataires",x4="Expditeur",S4="Chargement...",E4="Page {{ currentPage }}/{{ allPagesCount }}",k4={documentNavInfo:v4,noRendererMessage:y4,downloadButtonLabel:w4,brokenFile:b4,msgPluginRecipients:A4,msgPluginSender:x4,pdfPluginLoading:S4,pdfPluginPageNumber:E4},_4=" {{ currentFileNo }}  {{ allFilesCount }}",C4="{{{ fileType }}} :       ",T4=" ",M4="       .",P4="",R4="",L4=" ...",I4=" {{ allPagesCount }} \\ {{ currentPage }}  ",D4={documentNavInfo:_4,noRendererMessage:C4,downloadButtonLabel:T4,brokenFile:M4,msgPluginRecipients:P4,msgPluginSender:R4,pdfPluginLoading:L4,pdfPluginPageNumber:I4},O4="Dokument {{ currentFileNo }} od {{ allFilesCount }}",F4="Ne postoji pregleda za tip fajla: {{ fileType }}",N4="Preuzimanje fajla",j4="Va fajl nije dobar. Molimo Vas da probate da ga otvorite na vaem raunaru.",B4="Primaoci",W4="Poiljalac",V4="Uitavanje...",U4="Strana {{ currentPage }}/{{ allPagesCount }}",H4={documentNavInfo:O4,noRendererMessage:F4,downloadButtonLabel:N4,brokenFile:j4,msgPluginRecipients:B4,msgPluginSender:W4,pdfPluginLoading:V4,pdfPluginPageNumber:U4},z4=" {{ currentFileNo }} od {{ allFilesCount }}",$4="     : {{ fileType }}",G4=" ",q4="   .          .",K4="",Y4="",X4="...",Z4=" {{ currentPage }}/{{ allPagesCount }}",Q4={documentNavInfo:z4,noRendererMessage:$4,downloadButtonLabel:G4,brokenFile:q4,msgPluginRecipients:K4,msgPluginSender:Y4,pdfPluginLoading:X4,pdfPluginPageNumber:Z4},J4=" {{ currentFileNo }} / {{ allFilesCount }}",tO=": {{ fileType }}",eO="",nO="",iO="",sO="",rO="...",aO=" {{ currentPage }}/{{ allPagesCount }}",oO={documentNavInfo:J4,noRendererMessage:tO,downloadButtonLabel:eO,brokenFile:nO,msgPluginRecipients:iO,msgPluginSender:sO,pdfPluginLoading:rO,pdfPluginPageNumber:aO},lO=" {{ currentFileNo }}  {{ allFilesCount }}",hO="     : {{{ fileType }}}",cO=" ",uO="  . ,     .",dO="",fO="",pO="...",gO=" {{ currentPage }}/{{ allPagesCount }}",mO={documentNavInfo:lO,noRendererMessage:hO,downloadButtonLabel:cO,brokenFile:uO,msgPluginRecipients:dO,msgPluginSender:fO,pdfPluginLoading:pO,pdfPluginPageNumber:gO},vO="Dokument {{ currentFileNo }} av {{ allFilesCount }}",yO="Ingen renderare fr filtypen: {{{ fileType }}}",wO="Ladda ner",bO="Filen r trasig. Var vnlig kontrollera den p din maskin.",AO="Mottagare",xO="Avsndare",SO="Laddar...",EO="Sida {{ currentPage }}/{{ allPagesCount }}",kO={documentNavInfo:vO,noRendererMessage:yO,downloadButtonLabel:wO,brokenFile:bO,msgPluginRecipients:AO,msgPluginSender:xO,pdfPluginLoading:SO,pdfPluginPageNumber:EO},$g={en:kD,pl:DD,es:HD,de:QD,it:o4,pt:m4,fr:k4,ar:D4,sr:H4,sr_cyr:Q4,ja:oO,ru:mO,se:kO},dy="en",yS="SET_ALL_DOCUMENTS",wS="SET_DOCUMENT_LOADING",bS="NEXT_DOCUMENT",AS="PREVIOUS_DOCUMENT",xS="UPDATE_CURRENT_DOCUMENT",SS="SET_RENDERER_RECT",ES="SET_MAIN_CONFIG",_O=(n,t)=>({type:yS,documents:n,initialActiveDocument:t}),Wp=n=>({type:wS,value:n}),fy=()=>({type:bS}),py=()=>({type:AS}),Gg=n=>({type:xS,document:n}),CO=n=>({type:SS,rect:n}),TO=n=>({type:ES,config:n}),Md={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:dy},MO=(n=Md,t)=>{switch(t.type){case yS:{const{documents:e,initialActiveDocument:i}=t;return{...n,documents:e,currentDocument:i||e[0]||null,currentFileNo:i&&e.includes(i)?e.indexOf(i):Md.currentFileNo}}case wS:{const{value:e}=t;return{...n,documentLoading:e}}case bS:{if(n.currentFileNo>=n.documents.length-1)return n;const e=n.currentFileNo+1;return n.onDocumentChange&&n.onDocumentChange(n.documents[e]),{...n,currentFileNo:e,currentDocument:n.documents[e],documentLoading:!0}}case AS:{if(n.currentFileNo<=0)return n;const e=n.currentFileNo-1;return n.onDocumentChange&&n.onDocumentChange(n.documents[e]),{...n,currentFileNo:n.currentFileNo-1,currentDocument:n.documents[e],documentLoading:!0}}case xS:{const{document:e}=t;return{...n,currentDocument:e,currentFileNo:n.documents.findIndex(i=>i.uri===e.uri)}}case SS:{const{rect:e}=t;return{...n,rendererRect:e}}case ES:{const{config:e}=t;return{...n,config:e}}default:return n}},Ss=I.createContext({state:Md,dispatch:()=>null}),PO=I.forwardRef((n,t)=>{const{children:e,documents:i,config:s,pluginRenderers:r,prefetchMethod:a,requestHeaders:o,initialActiveDocument:l,language:u,activeDocument:c,onDocumentChange:d}=n,[p,g]=I.useReducer(MO,{...Md,documents:i||[],currentDocument:i&&i.length?l||i[0]:void 0,config:s,pluginRenderers:r,prefetchMethod:a,requestHeaders:o,currentFileNo:l?i.findIndex(y=>y===l)??0:0,language:u&&$g[u]?u:dy,activeDocument:c,onDocumentChange:d});return I.useEffect(()=>{g(_O(i,l)),s&&g(TO(s))},[i,s,l]),I.useEffect(()=>{c&&g(Gg(c))},[c]),I.useImperativeHandle(t,()=>({prev(){g(py())},next(){g(fy())}}),[g]),N.jsx(Ss.Provider,{value:{state:p,dispatch:g},children:e})}),RO=Bf`
  background-color: ${n=>n.theme.primary};
  color: ${n=>n.theme.textPrimary};
`,LO=Bf`
  background-color: ${n=>n.theme.secondary};
  color: ${n=>n.theme.textSecondary};
`,Wf=yt.button`
  ${RO}
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: ${n=>n.disabled?.4:1};
  pointer-events: ${n=>n.disabled?"none":"all"};
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`,kS=yt.a`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: ${n=>n.theme.primary};
  color: ${n=>n.theme.textPrimary};
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`;yt(Wf)``;const IO=yt(Wf)`
  ${LO}
`,DO=n=>N.jsx(_S,{...n}),OO=n=>N.jsx(_S,{...n,reverse:!0}),_S=({color:n,size:t,reverse:e})=>N.jsx("svg",{width:t||"100%",height:t||"100%",style:{transform:`${e?"rotate(180deg)":""}`},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:N.jsx("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:n||"#aaa",fillRule:"evenodd",id:"Arrow_Back"})}),FO=n=>{const{color:t,size:e}=n;return N.jsx("svg",{width:e||"100%",height:e||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"},children:N.jsxs("g",{children:[N.jsx("path",{fill:t||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),N.jsx("path",{fill:t||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),N.jsx("path",{fill:t||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),N.jsx("path",{fill:t||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),N.jsx("path",{fill:t||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),N.jsx("path",{fill:t||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),N.jsx("path",{fill:t||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),N.jsx("path",{fill:t||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})]})})};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var NO=Object.prototype.toString,po=Array.isArray||function(n){return NO.call(n)==="[object Array]"};function gy(n){return typeof n=="function"}function jO(n){return po(n)?"array":typeof n}function Vp(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ow(n,t){return n!=null&&typeof n=="object"&&t in n}function BO(n,t){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(t)}var WO=RegExp.prototype.test;function VO(n,t){return WO.call(n,t)}var UO=/\S/;function HO(n){return!VO(UO,n)}var zO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function $O(n){return String(n).replace(/[&<>"'`=\/]/g,function(t){return zO[t]})}var GO=/\s*/,qO=/\s+/,Fw=/\s*=/,KO=/\s*\}/,YO=/#|\^|\/|>|\{|&|=|!/;function XO(n,t){if(!n)return[];var e=!1,i=[],s=[],r=[],a=!1,o=!1,l="",u=0;function c(){if(a&&!o)for(;r.length;)delete s[r.pop()];else r=[];a=!1,o=!1}var d,p,g;function y(_){if(typeof _=="string"&&(_=_.split(qO,2)),!po(_)||_.length!==2)throw new Error("Invalid tags: "+_);d=new RegExp(Vp(_[0])+"\\s*"),p=new RegExp("\\s*"+Vp(_[1])),g=new RegExp("\\s*"+Vp("}"+_[1]))}y(t||sn.tags);for(var b=new Eh(n),A,E,k,C,P,R;!b.eos();){if(A=b.pos,k=b.scanUntil(d),k)for(var O=0,D=k.length;O<D;++O)C=k.charAt(O),HO(C)?(r.push(s.length),l+=C):(o=!0,e=!0,l+=" "),s.push(["text",C,A,A+1]),A+=1,C===`
`&&(c(),l="",u=0,e=!1);if(!b.scan(d))break;if(a=!0,E=b.scan(YO)||"name",b.scan(GO),E==="="?(k=b.scanUntil(Fw),b.scan(Fw),b.scanUntil(p)):E==="{"?(k=b.scanUntil(g),b.scan(KO),b.scanUntil(p),E="&"):k=b.scanUntil(p),!b.scan(p))throw new Error("Unclosed tag at "+b.pos);if(E==">"?P=[E,k,A,b.pos,l,u,e]:P=[E,k,A,b.pos],u++,s.push(P),E==="#"||E==="^")i.push(P);else if(E==="/"){if(R=i.pop(),!R)throw new Error('Unopened section "'+k+'" at '+A);if(R[1]!==k)throw new Error('Unclosed section "'+R[1]+'" at '+A)}else E==="name"||E==="{"||E==="&"?o=!0:E==="="&&y(k)}if(c(),R=i.pop(),R)throw new Error('Unclosed section "'+R[1]+'" at '+b.pos);return QO(ZO(s))}function ZO(n){for(var t=[],e,i,s=0,r=n.length;s<r;++s)e=n[s],e&&(e[0]==="text"&&i&&i[0]==="text"?(i[1]+=e[1],i[3]=e[3]):(t.push(e),i=e));return t}function QO(n){for(var t=[],e=t,i=[],s,r,a=0,o=n.length;a<o;++a)switch(s=n[a],s[0]){case"#":case"^":e.push(s),i.push(s),e=s[4]=[];break;case"/":r=i.pop(),r[5]=s[2],e=i.length>0?i[i.length-1][4]:t;break;default:e.push(s)}return t}function Eh(n){this.string=n,this.tail=n,this.pos=0}Eh.prototype.eos=function(){return this.tail===""};Eh.prototype.scan=function(n){var t=this.tail.match(n);if(!t||t.index!==0)return"";var e=t[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e};Eh.prototype.scanUntil=function(n){var t=this.tail.search(n),e;switch(t){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=e.length,e};function lo(n,t){this.view=n,this.cache={".":this.view},this.parent=t}lo.prototype.push=function(n){return new lo(n,this)};lo.prototype.lookup=function(n){var t=this.cache,e;if(t.hasOwnProperty(n))e=t[n];else{for(var i=this,s,r,a,o=!1;i;){if(n.indexOf(".")>0)for(s=i.view,r=n.split("."),a=0;s!=null&&a<r.length;)a===r.length-1&&(o=Ow(s,r[a])||BO(s,r[a])),s=s[r[a++]];else s=i.view[n],o=Ow(i.view,n);if(o){e=s;break}i=i.parent}t[n]=e}return gy(e)&&(e=e.call(this.view)),e};function Ve(){this.templateCache={_cache:{},set:function(n,t){this._cache[n]=t},get:function(n){return this._cache[n]},clear:function(){this._cache={}}}}Ve.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Ve.prototype.parse=function(n,t){var e=this.templateCache,i=n+":"+(t||sn.tags).join(":"),s=typeof e<"u",r=s?e.get(i):void 0;return r==null&&(r=XO(n,t),s&&e.set(i,r)),r};Ve.prototype.render=function(n,t,e,i){var s=this.getConfigTags(i),r=this.parse(n,s),a=t instanceof lo?t:new lo(t,void 0);return this.renderTokens(r,a,e,n,i)};Ve.prototype.renderTokens=function(n,t,e,i,s){for(var r="",a,o,l,u=0,c=n.length;u<c;++u)l=void 0,a=n[u],o=a[0],o==="#"?l=this.renderSection(a,t,e,i,s):o==="^"?l=this.renderInverted(a,t,e,i,s):o===">"?l=this.renderPartial(a,t,e,s):o==="&"?l=this.unescapedValue(a,t):o==="name"?l=this.escapedValue(a,t,s):o==="text"&&(l=this.rawValue(a)),l!==void 0&&(r+=l);return r};Ve.prototype.renderSection=function(n,t,e,i,s){var r=this,a="",o=t.lookup(n[1]);function l(d){return r.render(d,t,e,s)}if(o){if(po(o))for(var u=0,c=o.length;u<c;++u)a+=this.renderTokens(n[4],t.push(o[u]),e,i,s);else if(typeof o=="object"||typeof o=="string"||typeof o=="number")a+=this.renderTokens(n[4],t.push(o),e,i,s);else if(gy(o)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");o=o.call(t.view,i.slice(n[3],n[5]),l),o!=null&&(a+=o)}else a+=this.renderTokens(n[4],t,e,i,s);return a}};Ve.prototype.renderInverted=function(n,t,e,i,s){var r=t.lookup(n[1]);if(!r||po(r)&&r.length===0)return this.renderTokens(n[4],t,e,i,s)};Ve.prototype.indentPartial=function(n,t,e){for(var i=t.replace(/[^ \t]/g,""),s=n.split(`
`),r=0;r<s.length;r++)s[r].length&&(r>0||!e)&&(s[r]=i+s[r]);return s.join(`
`)};Ve.prototype.renderPartial=function(n,t,e,i){if(e){var s=this.getConfigTags(i),r=gy(e)?e(n[1]):e[n[1]];if(r!=null){var a=n[6],o=n[5],l=n[4],u=r;o==0&&l&&(u=this.indentPartial(r,l,a));var c=this.parse(u,s);return this.renderTokens(c,t,e,u,i)}}};Ve.prototype.unescapedValue=function(n,t){var e=t.lookup(n[1]);if(e!=null)return e};Ve.prototype.escapedValue=function(n,t,e){var i=this.getConfigEscape(e)||sn.escape,s=t.lookup(n[1]);if(s!=null)return typeof s=="number"&&i===sn.escape?String(s):i(s)};Ve.prototype.rawValue=function(n){return n[1]};Ve.prototype.getConfigTags=function(n){return po(n)?n:n&&typeof n=="object"?n.tags:void 0};Ve.prototype.getConfigEscape=function(n){if(n&&typeof n=="object"&&!po(n))return n.escape};var sn={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){gh.templateCache=n},get templateCache(){return gh.templateCache}},gh=new Ve;sn.clearCache=function(){return gh.clearCache()};sn.parse=function(n,t){return gh.parse(n,t)};sn.render=function(n,t,e,i){if(typeof n!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+jO(n)+'" was given as the first argument for mustache#render(template, view, partials)');return gh.render(n,t,e,i)};sn.escape=$O;sn.Scanner=Eh;sn.Context=lo;sn.Writer=Ve;const Mr=()=>{const{state:{language:n}}=I.useContext(Ss),t=$g[dy];return{t:I.useCallback((e,i)=>{const s=$g[n];return s[e]?sn.render(s[e],i):t[e]?sn.render(t[e],i):e},[n,t])}},JO=()=>{const{state:{currentDocument:n,currentFileNo:t,documents:e},dispatch:i}=I.useContext(Ss),{t:s}=Mr();if(e.length<=1||!n)return null;let r=n.uri||"";const a=r==null?void 0:r.split("/");return a.length&&(r=a[a.length-1]),N.jsxs(t5,{id:"doc-nav",children:[N.jsx("p",{id:"doc-nav-info",children:s("documentNavInfo",{currentFileNo:t+1,allFilesCount:e.length})}),N.jsx(CS,{id:"doc-nav-prev",onClick:()=>i(py()),disabled:t===0,children:N.jsx(DO,{color:"#fff",size:"60%"})}),N.jsx(e5,{id:"doc-nav-next",onClick:()=>i(fy()),disabled:t>=e.length-1,children:N.jsx(OO,{color:"#fff",size:"60%"})})]})},t5=yt.div`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: ${n=>n.theme.textPrimary};
`,CS=yt(IO)`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,e5=yt(CS)`
  margin: 0 5px;
`,TS=(n,t)=>{var e;if(!n)return"";let i="";if(n.fileName)i=n.fileName;else{i=n.uri||"",i=decodeURI(i),t||(i=(e=i==null?void 0:i.split("?"))==null?void 0:e[0]);const s=i==null?void 0:i.split("/");s.length&&(i=s[s.length-1])}return i},n5=()=>{var n,t;const{state:{config:e,currentDocument:i}}=I.useContext(Ss);if(!i||(n=e==null?void 0:e.header)!=null&&n.disableFileName)return null;const s=TS(i,((t=e==null?void 0:e.header)==null?void 0:t.retainURLParams)||!1);return N.jsx(i5,{id:"file-name","data-testid":"file-name",children:s})},i5=yt.div`
  flex: 1;
  text-align: left;
  color: ${n=>n.theme.textPrimary};
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`,s5=()=>{var n,t,e;const{state:i,dispatch:s}=I.useContext(Ss),{config:r}=i;return(n=r==null?void 0:r.header)!=null&&n.disableHeader?null:((e=(t=r==null?void 0:r.header)==null?void 0:t.overrideComponent)==null?void 0:e.call(t,i,()=>s(py()),()=>s(fy())))||N.jsxs(r5,{id:"header-bar","data-testid":"header-bar",children:[N.jsx(n5,{}),N.jsx(JO,{})]})},r5=yt.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: ${n=>n.theme.primary};
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`,my=({documentURI:n,signal:t,fileLoaderComplete:e,readerTypeFunction:i,headers:s})=>fetch(n,{signal:t,headers:s}).then(async r=>{const a=await r.blob(),o=new FileReader;switch(o.addEventListener("loadend",()=>e(o)),i){case"arrayBuffer":o.readAsArrayBuffer(a);break;case"binaryString":o.readAsBinaryString(a);break;case"dataURL":o.readAsDataURL(a);break;case"text":o.readAsText(a);break}}).catch(r=>r),a5=n=>my({...n,readerTypeFunction:"arrayBuffer"}),MS=n=>my({...n,readerTypeFunction:"dataURL"}),PS=n=>my({...n,readerTypeFunction:"text"}),o5=MS,l5=()=>{const{state:{currentDocument:n,pluginRenderers:t}}=I.useContext(Ss),[e,i]=I.useState();return I.useEffect(()=>{if(!n)return;if(!n.fileType){i(void 0);return}const s=[];t==null||t.forEach(a=>{n.fileType!==void 0&&a.fileTypes.indexOf(n.fileType)>=0&&s.push(a)});const[r]=s.sort((a,o)=>o.weight-a.weight);i(r&&r!==void 0?()=>r:null)},[n,t]),{CurrentRenderer:e}},h5=()=>{const{state:n,dispatch:t}=I.useContext(Ss),{currentFileNo:e,currentDocument:i,prefetchMethod:s}=n,{CurrentRenderer:r}=l5(),a=(i==null?void 0:i.uri)||"";return I.useEffect(()=>{if(!i||i.fileType!==void 0)return;const o=new AbortController,{signal:l}=o;return fetch(a,{method:s||a.startsWith("blob:")?"GET":"HEAD",signal:l,headers:n==null?void 0:n.requestHeaders}).then(u=>{const c=u.headers.get("content-type"),d=(c==null?void 0:c.split(";"))||[],p=d.length?d[0]:void 0;t(Gg({...i,fileType:p||void 0}))}).catch(u=>{if((u==null?void 0:u.name)!=="AbortError")throw u}),()=>{o.abort()}},[e,a,i]),I.useEffect(()=>{var o;if(!i||r===void 0)return;const l=new AbortController,{signal:u}=l,c={documentURI:a,signal:u,fileLoaderComplete:d=>{if(!i||!d){t(Wp(!1));return}const p={...i};d.result!==null&&(p.fileData=d.result),t(Gg(p)),t(Wp(!1))},headers:n==null?void 0:n.requestHeaders};return r===null?t(Wp(!1)):r.fileLoader!==void 0?(o=r.fileLoader)==null||o.call(r,c):o5(c),()=>{l.abort()}},[r,e]),{state:n,dispatch:t,CurrentRenderer:r}},c5=()=>{const[n,t]=I.useState({width:void 0,height:void 0});return I.useEffect(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),n},Nw=({children:n})=>{var t,e;const{state:i}=I.useContext(Ss),{config:s}=i,[r,a]=I.useState(((t=s==null?void 0:s.loadingRenderer)==null?void 0:t.showLoadingTimeout)===!1);return I.useEffect(()=>{var o;setTimeout(()=>{a(!0)},typeof((o=s==null?void 0:s.loadingRenderer)==null?void 0:o.showLoadingTimeout)=="number"?s.loadingRenderer.showLoadingTimeout:500)},[(e=s==null?void 0:s.loadingRenderer)==null?void 0:e.showLoadingTimeout]),r?N.jsx(N.Fragment,{children:n}):null},u5=({documents:n,documentLoading:t,config:e,currentDocument:i,fileName:s,CurrentRenderer:r,state:a,t:o})=>{var l,u;if(n.length)if(t){if(e&&(l=e==null?void 0:e.loadingRenderer)!=null&&l.overrideComponent){const c=e.loadingRenderer.overrideComponent;return N.jsx(Nw,{children:N.jsx(c,{document:i,fileName:s})})}return N.jsx(Nw,{children:N.jsx(p5,{id:"loading-renderer","data-testid":"loading-renderer",children:N.jsx(m5,{children:N.jsx(FO,{color:"#444",size:40})})})})}else{if(r)return N.jsx(r,{mainState:a});if(r===void 0)return null;if(e&&(u=e==null?void 0:e.noRenderer)!=null&&u.overrideComponent){const c=e.noRenderer.overrideComponent;return N.jsx(c,{document:i,fileName:s})}return N.jsxs("div",{id:"no-renderer","data-testid":"no-renderer",children:[o("noRendererMessage",{fileType:(i==null?void 0:i.fileType)??""}),N.jsx(v5,{id:"no-renderer-download",href:i==null?void 0:i.uri,download:i==null?void 0:i.uri,children:o("downloadButtonLabel")})]})}else return N.jsx("div",{id:"no-documents"})},d5=()=>{var n;const{state:t,dispatch:e,CurrentRenderer:i}=h5(),{documents:s,documentLoading:r,currentDocument:a,config:o}=t,l=c5(),{t:u}=Mr(),c=I.useCallback(p=>{p&&e(CO(p==null?void 0:p.getBoundingClientRect()))},[l,e]),d=TS(a,((n=o==null?void 0:o.header)==null?void 0:n.retainURLParams)||!1);return N.jsx(f5,{id:"proxy-renderer","data-testid":"proxy-renderer",ref:c,children:N.jsx(u5,{state:t,documents:s,documentLoading:r,config:o,currentDocument:a,fileName:d,CurrentRenderer:i,t:u})})},f5=yt.div`
  display: flex;
  flex: 1;
`,p5=yt.div`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`,g5=mD`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,m5=yt.div`
  animation-name: ${g5};
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`,v5=yt(kS)`
  width: 130px;
  height: 30px;
  background-color: ${n=>n.theme.primary};
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`,jw={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},Ii=n=>{const{mainState:{currentDocument:t},children:e}=n;return t?N.jsx(y5,{id:"image-renderer",...n,children:e||N.jsx(w5,{id:"image-img",src:t.fileData})}):null};Ii.fileTypes=[];Ii.weight=0;const y5=yt.div`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`,w5=yt.img`
  max-width: 95%;
  max-height: 95%;
`,vy=n=>N.jsx(Ii,{...n});vy.fileTypes=["bmp","image/bmp"];vy.weight=0;const Vf=({mainState:{currentDocument:n}})=>(I.useEffect(()=>{const t=n==null?void 0:n.fileData;let e="";const i=(t==null?void 0:t.replace(/^data:text\/html;(?:charset=([^;]*);)?base64,/,(l,u)=>(e=u,"")))||"";let s=window.atob(i);if(e){const l=new Uint8Array(s.length);for(let u=0;u<s.length;u++)l[u]=s.charCodeAt(u);s=new TextDecoder(e).decode(l)}const r=document.getElementById("html-body"),a=(r==null?void 0:r.contentWindow)&&r.contentWindow;if(!a)return;const o=a.document;o.open(),o.write(`${s}`),o.close()},[n]),N.jsx(b5,{id:"html-renderer",children:N.jsx(A5,{id:"html-body",sandbox:"allow-same-origin"})}));Vf.fileTypes=["htm","html","text/htm","text/html"];Vf.weight=0;Vf.fileLoader=MS;const b5=yt.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`,A5=yt.iframe`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid ${n=>n.theme.secondary};
`,yy=n=>N.jsx(Ii,{...n});yy.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];yy.weight=0;const Uf=({mainState:{currentDocument:n}})=>n?N.jsx(x5,{id:"msdoc-renderer",children:N.jsx(S5,{id:"msdoc-iframe",title:"msdoc-iframe",src:`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(n.uri)}`,frameBorder:"0"})}):null,_s={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};Uf.fileTypes=[..._s.odt,..._s.doc,..._s.docx,..._s.xls,..._s.xlsx,..._s.ppt,..._s.pptx];Uf.weight=0;Uf.fileLoader=({fileLoaderComplete:n})=>n();const x5=yt.div`
  width: 100%;
`,S5=yt.iframe`
  width: 100%;
  height: 100%;
  border: 0;
`;var se={},Hf={};Hf.byteLength=_5;Hf.toByteArray=T5;Hf.fromByteArray=R5;var $n=[],pn=[],E5=typeof Uint8Array<"u"?Uint8Array:Array,Up="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Or=0,k5=Up.length;Or<k5;++Or)$n[Or]=Up[Or],pn[Up.charCodeAt(Or)]=Or;pn[45]=62;pn[95]=63;function RS(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var i=e===t?0:4-e%4;return[e,i]}function _5(n){var t=RS(n),e=t[0],i=t[1];return(e+i)*3/4-i}function C5(n,t,e){return(t+e)*3/4-e}function T5(n){var t,e=RS(n),i=e[0],s=e[1],r=new E5(C5(n,i,s)),a=0,o=s>0?i-4:i,l;for(l=0;l<o;l+=4)t=pn[n.charCodeAt(l)]<<18|pn[n.charCodeAt(l+1)]<<12|pn[n.charCodeAt(l+2)]<<6|pn[n.charCodeAt(l+3)],r[a++]=t>>16&255,r[a++]=t>>8&255,r[a++]=t&255;return s===2&&(t=pn[n.charCodeAt(l)]<<2|pn[n.charCodeAt(l+1)]>>4,r[a++]=t&255),s===1&&(t=pn[n.charCodeAt(l)]<<10|pn[n.charCodeAt(l+1)]<<4|pn[n.charCodeAt(l+2)]>>2,r[a++]=t>>8&255,r[a++]=t&255),r}function M5(n){return $n[n>>18&63]+$n[n>>12&63]+$n[n>>6&63]+$n[n&63]}function P5(n,t,e){for(var i,s=[],r=t;r<e;r+=3)i=(n[r]<<16&16711680)+(n[r+1]<<8&65280)+(n[r+2]&255),s.push(M5(i));return s.join("")}function R5(n){for(var t,e=n.length,i=e%3,s=[],r=16383,a=0,o=e-i;a<o;a+=r)s.push(P5(n,a,a+r>o?o:a+r));return i===1?(t=n[e-1],s.push($n[t>>2]+$n[t<<4&63]+"==")):i===2&&(t=(n[e-2]<<8)+n[e-1],s.push($n[t>>10]+$n[t>>4&63]+$n[t<<2&63]+"=")),s.join("")}var wy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */wy.read=function(n,t,e,i,s){var r,a,o=s*8-i-1,l=(1<<o)-1,u=l>>1,c=-7,d=e?s-1:0,p=e?-1:1,g=n[t+d];for(d+=p,r=g&(1<<-c)-1,g>>=-c,c+=o;c>0;r=r*256+n[t+d],d+=p,c-=8);for(a=r&(1<<-c)-1,r>>=-c,c+=i;c>0;a=a*256+n[t+d],d+=p,c-=8);if(r===0)r=1-u;else{if(r===l)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,i),r=r-u}return(g?-1:1)*a*Math.pow(2,r-i)};wy.write=function(n,t,e,i,s,r){var a,o,l,u=r*8-s-1,c=(1<<u)-1,d=c>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:r-1,y=i?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=p/l:t+=p*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=c?(o=0,a=c):a+d>=1?(o=(t*l-1)*Math.pow(2,s),a=a+d):(o=t*Math.pow(2,d-1)*Math.pow(2,s),a=0));s>=8;n[e+g]=o&255,g+=y,o/=256,s-=8);for(a=a<<s|o,u+=s;u>0;n[e+g]=a&255,g+=y,a/=256,u-=8);n[e+g-y]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=Hf,e=wy,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=c,n.SlowBuffer=R,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s;const{Uint8Array:r,ArrayBuffer:a,SharedArrayBuffer:o}=globalThis;c.TYPED_ARRAY_SUPPORT=l(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const f=new r(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,r.prototype),Object.setPrototypeOf(f,m),f.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function u(f){if(f>s)throw new RangeError('The value "'+f+'" is invalid for option "size"');const m=new r(f);return Object.setPrototypeOf(m,c.prototype),m}function c(f,m,w){if(typeof f=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(f)}return d(f,m,w)}c.poolSize=8192;function d(f,m,w){if(typeof f=="string")return b(f,m);if(a.isView(f))return E(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(ct(f,a)||f&&ct(f.buffer,a)||typeof o<"u"&&(ct(f,o)||f&&ct(f.buffer,o)))return k(f,m,w);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=f.valueOf&&f.valueOf();if(M!=null&&M!==f)return c.from(M,m,w);const L=C(f);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return c.from(f[Symbol.toPrimitive]("string"),m,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}c.from=function(f,m,w){return d(f,m,w)},Object.setPrototypeOf(c.prototype,r.prototype),Object.setPrototypeOf(c,r);function p(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function g(f,m,w){return p(f),f<=0?u(f):m!==void 0?typeof w=="string"?u(f).fill(m,w):u(f).fill(m):u(f)}c.alloc=function(f,m,w){return g(f,m,w)};function y(f){return p(f),u(f<0?0:P(f)|0)}c.allocUnsafe=function(f){return y(f)},c.allocUnsafeSlow=function(f){return y(f)};function b(f,m){if((typeof m!="string"||m==="")&&(m="utf8"),!c.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const w=O(f,m)|0;let M=u(w);const L=M.write(f,m);return L!==w&&(M=M.slice(0,L)),M}function A(f){const m=f.length<0?0:P(f.length)|0,w=u(m);for(let M=0;M<m;M+=1)w[M]=f[M]&255;return w}function E(f){if(ct(f,r)){const m=new r(f);return k(m.buffer,m.byteOffset,m.byteLength)}return A(f)}function k(f,m,w){if(m<0||f.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<m+(w||0))throw new RangeError('"length" is outside of buffer bounds');let M;return m===void 0&&w===void 0?M=new r(f):w===void 0?M=new r(f,m):M=new r(f,m,w),Object.setPrototypeOf(M,c.prototype),M}function C(f){if(c.isBuffer(f)){const m=P(f.length)|0,w=u(m);return w.length===0||f.copy(w,0,0,m),w}if(f.length!==void 0)return typeof f.length!="number"||Fe(f.length)?u(0):A(f);if(f.type==="Buffer"&&Array.isArray(f.data))return A(f.data)}function P(f){if(f>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return f|0}function R(f){return+f!=f&&(f=0),c.alloc(+f)}c.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==c.prototype},c.compare=function(f,m){if(ct(f,r)&&(f=c.from(f,f.offset,f.byteLength)),ct(m,r)&&(m=c.from(m,m.offset,m.byteLength)),!c.isBuffer(f)||!c.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===m)return 0;let w=f.length,M=m.length;for(let L=0,W=Math.min(w,M);L<W;++L)if(f[L]!==m[L]){w=f[L],M=m[L];break}return w<M?-1:M<w?1:0},c.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(f,m){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return c.alloc(0);let w;if(m===void 0)for(m=0,w=0;w<f.length;++w)m+=f[w].length;const M=c.allocUnsafe(m);let L=0;for(w=0;w<f.length;++w){let W=f[w];if(ct(W,r))L+W.length>M.length?(c.isBuffer(W)||(W=c.from(W)),W.copy(M,L)):r.prototype.set.call(M,W,L);else if(c.isBuffer(W))W.copy(M,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=W.length}return M};function O(f,m){if(c.isBuffer(f))return f.length;if(a.isView(f)||ct(f,a))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const w=f.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&w===0)return 0;let L=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return re(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Pt(f).length;default:if(L)return M?-1:re(f).length;m=(""+m).toLowerCase(),L=!0}}c.byteLength=O;function D(f,m,w){let M=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,m>>>=0,w<=m))return"";for(f||(f="utf8");;)switch(f){case"hex":return z(this,m,w);case"utf8":case"utf-8":return B(this,m,w);case"ascii":return At(this,m,w);case"latin1":case"binary":return gt(this,m,w);case"base64":return H(this,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nt(this,m,w);default:if(M)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),M=!0}}c.prototype._isBuffer=!0;function _(f,m,w){const M=f[m];f[m]=f[w],f[w]=M}c.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<f;m+=2)_(this,m,m+1);return this},c.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<f;m+=4)_(this,m,m+3),_(this,m+1,m+2);return this},c.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<f;m+=8)_(this,m,m+7),_(this,m+1,m+6),_(this,m+2,m+5),_(this,m+3,m+4);return this},c.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?B(this,0,f):D.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(f){if(!c.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:c.compare(this,f)===0},c.prototype.inspect=function(){let f="";const m=n.INSPECT_MAX_BYTES;return f=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(f+=" ... "),"<Buffer "+f+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(f,m,w,M,L){if(ct(f,r)&&(f=c.from(f,f.offset,f.byteLength)),!c.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(m===void 0&&(m=0),w===void 0&&(w=f?f.length:0),M===void 0&&(M=0),L===void 0&&(L=this.length),m<0||w>f.length||M<0||L>this.length)throw new RangeError("out of range index");if(M>=L&&m>=w)return 0;if(M>=L)return-1;if(m>=w)return 1;if(m>>>=0,w>>>=0,M>>>=0,L>>>=0,this===f)return 0;let W=L-M,$=w-m;const Bt=Math.min(W,$),fe=this.slice(M,L),Vt=f.slice(m,w);for(let jt=0;jt<Bt;++jt)if(fe[jt]!==Vt[jt]){W=fe[jt],$=Vt[jt];break}return W<$?-1:$<W?1:0};function T(f,m,w,M,L){if(f.length===0)return-1;if(typeof w=="string"?(M=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,Fe(w)&&(w=L?0:f.length-1),w<0&&(w=f.length+w),w>=f.length){if(L)return-1;w=f.length-1}else if(w<0)if(L)w=0;else return-1;if(typeof m=="string"&&(m=c.from(m,M)),c.isBuffer(m))return m.length===0?-1:F(f,m,w,M,L);if(typeof m=="number")return m=m&255,typeof r.prototype.indexOf=="function"?L?r.prototype.indexOf.call(f,m,w):r.prototype.lastIndexOf.call(f,m,w):F(f,[m],w,M,L);throw new TypeError("val must be string, number or Buffer")}function F(f,m,w,M,L){let W=1,$=f.length,Bt=m.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(f.length<2||m.length<2)return-1;W=2,$/=2,Bt/=2,w/=2}function fe(jt,Xt){return W===1?jt[Xt]:jt.readUInt16BE(Xt*W)}let Vt;if(L){let jt=-1;for(Vt=w;Vt<$;Vt++)if(fe(f,Vt)===fe(m,jt===-1?0:Vt-jt)){if(jt===-1&&(jt=Vt),Vt-jt+1===Bt)return jt*W}else jt!==-1&&(Vt-=Vt-jt),jt=-1}else for(w+Bt>$&&(w=$-Bt),Vt=w;Vt>=0;Vt--){let jt=!0;for(let Xt=0;Xt<Bt;Xt++)if(fe(f,Vt+Xt)!==fe(m,Xt)){jt=!1;break}if(jt)return Vt}return-1}c.prototype.includes=function(f,m,w){return this.indexOf(f,m,w)!==-1},c.prototype.indexOf=function(f,m,w){return T(this,f,m,w,!0)},c.prototype.lastIndexOf=function(f,m,w){return T(this,f,m,w,!1)};function j(f,m,w,M){w=Number(w)||0;const L=f.length-w;M?(M=Number(M),M>L&&(M=L)):M=L;const W=m.length;M>W/2&&(M=W/2);let $;for($=0;$<M;++$){const Bt=parseInt(m.substr($*2,2),16);if(Fe(Bt))return $;f[w+$]=Bt}return $}function V(f,m,w,M){return Gt(re(m,f.length-w),f,w,M)}function U(f,m,w,M){return Gt($t(m),f,w,M)}function Y(f,m,w,M){return Gt(Pt(m),f,w,M)}function G(f,m,w,M){return Gt(Mt(m,f.length-w),f,w,M)}c.prototype.write=function(f,m,w,M){if(m===void 0)M="utf8",w=this.length,m=0;else if(w===void 0&&typeof m=="string")M=m,w=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(w)?(w=w>>>0,M===void 0&&(M="utf8")):(M=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-m;if((w===void 0||w>L)&&(w=L),f.length>0&&(w<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let W=!1;for(;;)switch(M){case"hex":return j(this,f,m,w);case"utf8":case"utf-8":return V(this,f,m,w);case"ascii":case"latin1":case"binary":return U(this,f,m,w);case"base64":return Y(this,f,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,f,m,w);default:if(W)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),W=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(f,m,w){return m===0&&w===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(m,w))}function B(f,m,w){w=Math.min(f.length,w);const M=[];let L=m;for(;L<w;){const W=f[L];let $=null,Bt=W>239?4:W>223?3:W>191?2:1;if(L+Bt<=w){let fe,Vt,jt,Xt;switch(Bt){case 1:W<128&&($=W);break;case 2:fe=f[L+1],(fe&192)===128&&(Xt=(W&31)<<6|fe&63,Xt>127&&($=Xt));break;case 3:fe=f[L+1],Vt=f[L+2],(fe&192)===128&&(Vt&192)===128&&(Xt=(W&15)<<12|(fe&63)<<6|Vt&63,Xt>2047&&(Xt<55296||Xt>57343)&&($=Xt));break;case 4:fe=f[L+1],Vt=f[L+2],jt=f[L+3],(fe&192)===128&&(Vt&192)===128&&(jt&192)===128&&(Xt=(W&15)<<18|(fe&63)<<12|(Vt&63)<<6|jt&63,Xt>65535&&Xt<1114112&&($=Xt))}}$===null?($=65533,Bt=1):$>65535&&($-=65536,M.push($>>>10&1023|55296),$=56320|$&1023),M.push($),L+=Bt}return q(M)}const it=4096;function q(f){const m=f.length;if(m<=it)return String.fromCharCode.apply(String,f);let w="",M=0;for(;M<m;)w+=String.fromCharCode.apply(String,f.slice(M,M+=it));return w}function At(f,m,w){let M="";w=Math.min(f.length,w);for(let L=m;L<w;++L)M+=String.fromCharCode(f[L]&127);return M}function gt(f,m,w){let M="";w=Math.min(f.length,w);for(let L=m;L<w;++L)M+=String.fromCharCode(f[L]);return M}function z(f,m,w){const M=f.length;(!m||m<0)&&(m=0),(!w||w<0||w>M)&&(w=M);let L="";for(let W=m;W<w;++W)L+=Ne[f[W]];return L}function nt(f,m,w){const M=f.slice(m,w);let L="";for(let W=0;W<M.length-1;W+=2)L+=String.fromCharCode(M[W]+M[W+1]*256);return L}c.prototype.slice=function(f,m){const w=this.length;f=~~f,m=m===void 0?w:~~m,f<0?(f+=w,f<0&&(f=0)):f>w&&(f=w),m<0?(m+=w,m<0&&(m=0)):m>w&&(m=w),m<f&&(m=f);const M=this.subarray(f,m);return Object.setPrototypeOf(M,c.prototype),M};function tt(f,m,w){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+m>w)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(f,m,w){f=f>>>0,m=m>>>0,w||tt(f,m,this.length);let M=this[f],L=1,W=0;for(;++W<m&&(L*=256);)M+=this[f+W]*L;return M},c.prototype.readUintBE=c.prototype.readUIntBE=function(f,m,w){f=f>>>0,m=m>>>0,w||tt(f,m,this.length);let M=this[f+--m],L=1;for(;m>0&&(L*=256);)M+=this[f+--m]*L;return M},c.prototype.readUint8=c.prototype.readUInt8=function(f,m){return f=f>>>0,m||tt(f,1,this.length),this[f]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(f,m){return f=f>>>0,m||tt(f,2,this.length),this[f]|this[f+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(f,m){return f=f>>>0,m||tt(f,2,this.length),this[f]<<8|this[f+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(f,m){return f=f>>>0,m||tt(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(f,m){return f=f>>>0,m||tt(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},c.prototype.readBigUInt64LE=ae(function(f){f=f>>>0,X(f,"offset");const m=this[f],w=this[f+7];(m===void 0||w===void 0)&&St(f,this.length-8);const M=m+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,L=this[++f]+this[++f]*2**8+this[++f]*2**16+w*2**24;return BigInt(M)+(BigInt(L)<<BigInt(32))}),c.prototype.readBigUInt64BE=ae(function(f){f=f>>>0,X(f,"offset");const m=this[f],w=this[f+7];(m===void 0||w===void 0)&&St(f,this.length-8);const M=m*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],L=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+w;return(BigInt(M)<<BigInt(32))+BigInt(L)}),c.prototype.readIntLE=function(f,m,w){f=f>>>0,m=m>>>0,w||tt(f,m,this.length);let M=this[f],L=1,W=0;for(;++W<m&&(L*=256);)M+=this[f+W]*L;return L*=128,M>=L&&(M-=Math.pow(2,8*m)),M},c.prototype.readIntBE=function(f,m,w){f=f>>>0,m=m>>>0,w||tt(f,m,this.length);let M=m,L=1,W=this[f+--M];for(;M>0&&(L*=256);)W+=this[f+--M]*L;return L*=128,W>=L&&(W-=Math.pow(2,8*m)),W},c.prototype.readInt8=function(f,m){return f=f>>>0,m||tt(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},c.prototype.readInt16LE=function(f,m){f=f>>>0,m||tt(f,2,this.length);const w=this[f]|this[f+1]<<8;return w&32768?w|4294901760:w},c.prototype.readInt16BE=function(f,m){f=f>>>0,m||tt(f,2,this.length);const w=this[f+1]|this[f]<<8;return w&32768?w|4294901760:w},c.prototype.readInt32LE=function(f,m){return f=f>>>0,m||tt(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},c.prototype.readInt32BE=function(f,m){return f=f>>>0,m||tt(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},c.prototype.readBigInt64LE=ae(function(f){f=f>>>0,X(f,"offset");const m=this[f],w=this[f+7];(m===void 0||w===void 0)&&St(f,this.length-8);const M=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(w<<24);return(BigInt(M)<<BigInt(32))+BigInt(m+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),c.prototype.readBigInt64BE=ae(function(f){f=f>>>0,X(f,"offset");const m=this[f],w=this[f+7];(m===void 0||w===void 0)&&St(f,this.length-8);const M=(m<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(M)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+w)}),c.prototype.readFloatLE=function(f,m){return f=f>>>0,m||tt(f,4,this.length),e.read(this,f,!0,23,4)},c.prototype.readFloatBE=function(f,m){return f=f>>>0,m||tt(f,4,this.length),e.read(this,f,!1,23,4)},c.prototype.readDoubleLE=function(f,m){return f=f>>>0,m||tt(f,8,this.length),e.read(this,f,!0,52,8)},c.prototype.readDoubleBE=function(f,m){return f=f>>>0,m||tt(f,8,this.length),e.read(this,f,!1,52,8)};function J(f,m,w,M,L,W){if(!c.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>L||m<W)throw new RangeError('"value" argument is out of bounds');if(w+M>f.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(f,m,w,M){if(f=+f,m=m>>>0,w=w>>>0,!M){const $=Math.pow(2,8*w)-1;J(this,f,m,w,$,0)}let L=1,W=0;for(this[m]=f&255;++W<w&&(L*=256);)this[m+W]=f/L&255;return m+w},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(f,m,w,M){if(f=+f,m=m>>>0,w=w>>>0,!M){const $=Math.pow(2,8*w)-1;J(this,f,m,w,$,0)}let L=w-1,W=1;for(this[m+L]=f&255;--L>=0&&(W*=256);)this[m+L]=f/W&255;return m+w},c.prototype.writeUint8=c.prototype.writeUInt8=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,1,255,0),this[m]=f&255,m+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,2,65535,0),this[m]=f&255,this[m+1]=f>>>8,m+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,2,65535,0),this[m]=f>>>8,this[m+1]=f&255,m+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,4,4294967295,0),this[m+3]=f>>>24,this[m+2]=f>>>16,this[m+1]=f>>>8,this[m]=f&255,m+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,4,4294967295,0),this[m]=f>>>24,this[m+1]=f>>>16,this[m+2]=f>>>8,this[m+3]=f&255,m+4};function st(f,m,w,M,L){ot(m,M,L,f,w,7);let W=Number(m&BigInt(4294967295));f[w++]=W,W=W>>8,f[w++]=W,W=W>>8,f[w++]=W,W=W>>8,f[w++]=W;let $=Number(m>>BigInt(32)&BigInt(4294967295));return f[w++]=$,$=$>>8,f[w++]=$,$=$>>8,f[w++]=$,$=$>>8,f[w++]=$,w}function et(f,m,w,M,L){ot(m,M,L,f,w,7);let W=Number(m&BigInt(4294967295));f[w+7]=W,W=W>>8,f[w+6]=W,W=W>>8,f[w+5]=W,W=W>>8,f[w+4]=W;let $=Number(m>>BigInt(32)&BigInt(4294967295));return f[w+3]=$,$=$>>8,f[w+2]=$,$=$>>8,f[w+1]=$,$=$>>8,f[w]=$,w+8}c.prototype.writeBigUInt64LE=ae(function(f,m=0){return st(this,f,m,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ae(function(f,m=0){return et(this,f,m,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(f,m,w,M){if(f=+f,m=m>>>0,!M){const Bt=Math.pow(2,8*w-1);J(this,f,m,w,Bt-1,-Bt)}let L=0,W=1,$=0;for(this[m]=f&255;++L<w&&(W*=256);)f<0&&$===0&&this[m+L-1]!==0&&($=1),this[m+L]=(f/W>>0)-$&255;return m+w},c.prototype.writeIntBE=function(f,m,w,M){if(f=+f,m=m>>>0,!M){const Bt=Math.pow(2,8*w-1);J(this,f,m,w,Bt-1,-Bt)}let L=w-1,W=1,$=0;for(this[m+L]=f&255;--L>=0&&(W*=256);)f<0&&$===0&&this[m+L+1]!==0&&($=1),this[m+L]=(f/W>>0)-$&255;return m+w},c.prototype.writeInt8=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,1,127,-128),f<0&&(f=255+f+1),this[m]=f&255,m+1},c.prototype.writeInt16LE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,2,32767,-32768),this[m]=f&255,this[m+1]=f>>>8,m+2},c.prototype.writeInt16BE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,2,32767,-32768),this[m]=f>>>8,this[m+1]=f&255,m+2},c.prototype.writeInt32LE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,4,2147483647,-2147483648),this[m]=f&255,this[m+1]=f>>>8,this[m+2]=f>>>16,this[m+3]=f>>>24,m+4},c.prototype.writeInt32BE=function(f,m,w){return f=+f,m=m>>>0,w||J(this,f,m,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[m]=f>>>24,this[m+1]=f>>>16,this[m+2]=f>>>8,this[m+3]=f&255,m+4},c.prototype.writeBigInt64LE=ae(function(f,m=0){return st(this,f,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ae(function(f,m=0){return et(this,f,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function wt(f,m,w,M,L,W){if(w+M>f.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function K(f,m,w,M,L){return m=+m,w=w>>>0,L||wt(f,m,w,4),e.write(f,m,w,M,23,4),w+4}c.prototype.writeFloatLE=function(f,m,w){return K(this,f,m,!0,w)},c.prototype.writeFloatBE=function(f,m,w){return K(this,f,m,!1,w)};function Z(f,m,w,M,L){return m=+m,w=w>>>0,L||wt(f,m,w,8),e.write(f,m,w,M,52,8),w+8}c.prototype.writeDoubleLE=function(f,m,w){return Z(this,f,m,!0,w)},c.prototype.writeDoubleBE=function(f,m,w){return Z(this,f,m,!1,w)},c.prototype.copy=function(f,m,w,M){if(!c.isBuffer(f))throw new TypeError("argument should be a Buffer");if(w||(w=0),!M&&M!==0&&(M=this.length),m>=f.length&&(m=f.length),m||(m=0),M>0&&M<w&&(M=w),M===w||f.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),f.length-m<M-w&&(M=f.length-m+w);const L=M-w;return this===f&&typeof r.prototype.copyWithin=="function"?this.copyWithin(m,w,M):r.prototype.set.call(f,this.subarray(w,M),m),L},c.prototype.fill=function(f,m,w,M){if(typeof f=="string"){if(typeof m=="string"?(M=m,m=0,w=this.length):typeof w=="string"&&(M=w,w=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!c.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(f.length===1){const W=f.charCodeAt(0);(M==="utf8"&&W<128||M==="latin1")&&(f=W)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(m<0||this.length<m||this.length<w)throw new RangeError("Out of range index");if(w<=m)return this;m=m>>>0,w=w===void 0?this.length:w>>>0,f||(f=0);let L;if(typeof f=="number")for(L=m;L<w;++L)this[L]=f;else{const W=c.isBuffer(f)?f:c.from(f,M),$=W.length;if($===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(L=0;L<w-m;++L)this[L+m]=W[L%$]}return this};const ft={};function mt(f,m,w){ft[f]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(M){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:M,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}mt("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),mt("ERR_INVALID_ARG_TYPE",function(f,m){return`The "${f}" argument must be of type number. Received type ${typeof m}`},TypeError),mt("ERR_OUT_OF_RANGE",function(f,m,w){let M=`The value of "${f}" is out of range.`,L=w;return Number.isInteger(w)&&Math.abs(w)>2**32?L=ht(String(w)):typeof w=="bigint"&&(L=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(L=ht(L)),L+="n"),M+=` It must be ${m}. Received ${L}`,M},RangeError);function ht(f){let m="",w=f.length;const M=f[0]==="-"?1:0;for(;w>=M+4;w-=3)m=`_${f.slice(w-3,w)}${m}`;return`${f.slice(0,w)}${m}`}function _t(f,m,w){X(m,"offset"),(f[m]===void 0||f[m+w]===void 0)&&St(m,f.length-(w+1))}function ot(f,m,w,M,L,W){if(f>w||f<m){const $=typeof m=="bigint"?"n":"";let Bt;throw m===0||m===BigInt(0)?Bt=`>= 0${$} and < 2${$} ** ${(W+1)*8}${$}`:Bt=`>= -(2${$} ** ${(W+1)*8-1}${$}) and < 2 ** ${(W+1)*8-1}${$}`,new ft.ERR_OUT_OF_RANGE("value",Bt,f)}_t(M,L,W)}function X(f,m){if(typeof f!="number")throw new ft.ERR_INVALID_ARG_TYPE(m,"number",f)}function St(f,m,w){throw Math.floor(f)!==f?(X(f,w),new ft.ERR_OUT_OF_RANGE("offset","an integer",f)):m<0?new ft.ERR_BUFFER_OUT_OF_BOUNDS:new ft.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,f)}const Rt=/[^+/0-9A-Za-z-_]/g;function zt(f){if(f=f.split("=")[0],f=f.trim().replace(Rt,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function re(f,m){m=m||1/0;let w;const M=f.length;let L=null;const W=[];for(let $=0;$<M;++$){if(w=f.charCodeAt($),w>55295&&w<57344){if(!L){if(w>56319){(m-=3)>-1&&W.push(239,191,189);continue}else if($+1===M){(m-=3)>-1&&W.push(239,191,189);continue}L=w;continue}if(w<56320){(m-=3)>-1&&W.push(239,191,189),L=w;continue}w=(L-55296<<10|w-56320)+65536}else L&&(m-=3)>-1&&W.push(239,191,189);if(L=null,w<128){if((m-=1)<0)break;W.push(w)}else if(w<2048){if((m-=2)<0)break;W.push(w>>6|192,w&63|128)}else if(w<65536){if((m-=3)<0)break;W.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((m-=4)<0)break;W.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return W}function $t(f){const m=[];for(let w=0;w<f.length;++w)m.push(f.charCodeAt(w)&255);return m}function Mt(f,m){let w,M,L;const W=[];for(let $=0;$<f.length&&!((m-=2)<0);++$)w=f.charCodeAt($),M=w>>8,L=w%256,W.push(L),W.push(M);return W}function Pt(f){return t.toByteArray(zt(f))}function Gt(f,m,w,M){let L;for(L=0;L<M&&!(L+w>=m.length||L>=f.length);++L)m[L+w]=f[L];return L}function ct(f,m){return f instanceof m||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===m.name}function Fe(f){return f!==f}const Ne=function(){const f="0123456789abcdef",m=new Array(256);for(let w=0;w<16;++w){const M=w*16;for(let L=0;L<16;++L)m[M+L]=f[w]+f[L]}return m}();function ae(f){return typeof BigInt>"u"?rn:f}function rn(){throw new Error("BigInt not supported")}})(se);const qg=se.Buffer,L5=se.Blob,I5=se.BlobOptions,D5=se.Buffer,O5=se.File,F5=se.FileOptions,N5=se.INSPECT_MAX_BYTES,j5=se.SlowBuffer,B5=se.TranscodeEncoding,W5=se.atob,V5=se.btoa,U5=se.constants,H5=se.isAscii,z5=se.isUtf8,$5=se.kMaxLength,G5=se.kStringMaxLength,q5=se.resolveObjectURL,K5=se.transcode,xB=Object.freeze(Object.defineProperty({__proto__:null,Blob:L5,BlobOptions:I5,Buffer:D5,File:O5,FileOptions:F5,INSPECT_MAX_BYTES:N5,SlowBuffer:j5,TranscodeEncoding:B5,atob:W5,btoa:V5,constants:U5,default:qg,isAscii:H5,isUtf8:z5,kMaxLength:$5,kStringMaxLength:G5,resolveObjectURL:q5,transcode:K5},Symbol.toStringTag,{value:"Module"}));var Nl={};Nl.d=(n,t)=>{for(var e in t)Nl.o(t,e)&&!Nl.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};Nl.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var lt=globalThis.pdfjsLib={};Nl.d(lt,{AbortException:()=>Rr,AnnotationEditorLayer:()=>rN,AnnotationEditorParamsType:()=>ut,AnnotationEditorType:()=>kt,AnnotationEditorUIManager:()=>mh,AnnotationLayer:()=>tN,AnnotationMode:()=>is,CMapCompressionType:()=>Yg,ColorPicker:()=>nE,DOMSVGFactory:()=>xy,DrawLayer:()=>aN,FeatureTest:()=>Ze,GlobalWorkerOptions:()=>ws,ImageKind:()=>Ac,InvalidPDFException:()=>IS,MissingPDFException:()=>Pr,OPS:()=>En,Outliner:()=>_0,PDFDataRangeTransport:()=>C2,PDFDateString:()=>WS,PDFWorker:()=>yu,PasswordResponses:()=>Q5,PermissionFlag:()=>Z5,PixelsPerInch:()=>ho,RenderingCancelledException:()=>Sy,TextLayer:()=>qd,UnexpectedResponseException:()=>qf,Util:()=>Q,VerbosityLevel:()=>zf,XfaLayer:()=>P2,build:()=>I3,createValidAbsoluteUrl:()=>nF,fetchData:()=>Jf,getDocument:()=>x3,getFilenameFromUrl:()=>dF,getPdfFilenameFromUrl:()=>fF,getXfaPageViewport:()=>pF,isDataScheme:()=>Ey,isPdfFile:()=>ky,noContextMenu:()=>Xe,normalizeUnicode:()=>lF,renderTextLayer:()=>f3,setLayerDimensions:()=>Er,shadow:()=>Ct,updateTextLayer:()=>p3,version:()=>L3});const De=typeof dt=="object"&&dt+""=="[object process]"&&!dt.versions.nw&&!(dt.versions.electron&&dt.type&&dt.type!=="browser"),LS=[1,0,0,1,0,0],Kg=[.001,0,0,.001,0,0],Y5=1e7,Hp=1.35,gn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},is={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},X5="pdfjs_internal_editor_",kt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ut={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Z5={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},we={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ac={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},te={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},yo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},zf={ERRORS:0,WARNINGS:1,INFOS:5},Yg={NONE:0,BINARY:1},En={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Q5={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let $f=zf.WARNINGS;function J5(n){Number.isInteger(n)&&($f=n)}function tF(){return $f}function Gf(n){$f>=zf.INFOS&&console.log(`Info: ${n}`)}function bt(n){$f>=zf.WARNINGS&&console.log(`Warning: ${n}`)}function Dt(n){throw new Error(n)}function ne(n,t){n||Dt(t)}function eF(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nF(n,t=null,e=null){if(!n)return null;try{if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=oF(n)}catch{}}const i=t?new URL(n,t):new URL(n);if(eF(i))return i}catch{}return null}function Ct(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Es=function(){function n(t,e){this.constructor===n&&Dt("Cannot initialize BaseException."),this.message=t,this.name=e}return n.prototype=new Error,n.constructor=n,n}();class Xg extends Es{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Zg extends Es{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class IS extends Es{constructor(t){super(t,"InvalidPDFException")}}class Pr extends Es{constructor(t){super(t,"MissingPDFException")}}class qf extends Es{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class iF extends Es{constructor(t){super(t,"FormatError")}}class Rr extends Es{constructor(t){super(t,"AbortException")}}function DS(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Dt("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=n.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Kf(n){typeof n!="string"&&Dt("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function sF(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function by(n){const t=Object.create(null);for(const[e,i]of n)t[e]=i;return t}function rF(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function aF(){try{return new Function(""),!0}catch{return!1}}class Ze{static get isLittleEndian(){return Ct(this,"isLittleEndian",rF())}static get isEvalSupported(){return Ct(this,"isEvalSupported",aF())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ct(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ct(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,e;return Ct(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const zp=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var wo,zh,Pd,Qg;class Q{static makeHexColor(t,e,i){return`#${zp[t]}${zp[e]}${zp[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[i,s]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[s,r]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],s[0],r[0],a[0]),Math.min(i[1],s[1],r[1],a[1]),Math.max(i[0],s[0],r[0],a[0]),Math.max(i[1],s[1],r[1],a[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(i+a)/2,l=Math.sqrt((i+a)**2-4*(i*a-r*s))/2,u=o+l||1,c=o-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[i,r,s,a]}static bezierBoundingBox(t,e,i,s,r,a,o,l,u){return u?(u[0]=Math.min(u[0],t,o),u[1]=Math.min(u[1],e,l),u[2]=Math.max(u[2],t,o),u[3]=Math.max(u[3],e,l)):u=[Math.min(t,o),Math.min(e,l),Math.max(t,o),Math.max(e,l)],x(this,Pd,Qg).call(this,t,i,r,o,e,s,a,l,3*(-t+3*(i-r)+o),6*(t-2*i+r),3*(i-t),u),x(this,Pd,Qg).call(this,t,i,r,o,e,s,a,l,3*(-e+3*(s-a)+l),6*(e-2*s+a),3*(s-e),u),u}}wo=new WeakSet,zh=function(n,t,e,i,s,r,a,o,l,u){if(l<=0||l>=1)return;const c=1-l,d=l*l,p=d*l,g=c*(c*(c*n+3*l*t)+3*d*e)+p*i,y=c*(c*(c*s+3*l*r)+3*d*a)+p*o;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],y)},Pd=new WeakSet,Qg=function(n,t,e,i,s,r,a,o,l,u,c,d){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&x(this,wo,zh).call(this,n,t,e,i,s,r,a,o,-c/u,d);return}const p=u**2-4*c*l;if(p<0)return;const g=Math.sqrt(p),y=2*l;x(this,wo,zh).call(this,n,t,e,i,s,r,a,o,(-u+g)/y,d),x(this,wo,zh).call(this,n,t,e,i,s,r,a,o,(-u-g)/y,d)},v(Q,wo),v(Q,Pd);function oF(n){return decodeURIComponent(escape(n))}let $p=null,Bw=null;function lF(n){return $p||($p=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Bw=new Map([["","t"]])),n.replaceAll($p,(t,e,i)=>e?e.normalize("NFKC"):Bw.get(i))}function hF(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let t=0;t<32;t++)n[t]=Math.floor(Math.random()*255);return DS(n)}const OS="pdfjs_internal_id_",Zn={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Yf{constructor(){this.constructor===Yf&&Dt("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,r){return"none"}destroy(t=!1){}}class Xf{constructor(){this.constructor===Xf&&Dt("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d")}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Dt("Abstract method `_createCanvas` called.")}}class Zf{constructor({baseUrl:t=null,isCompressed:e=!0}){this.constructor===Zf&&Dt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?Yg.BINARY:Yg.NONE;return this._fetchData(e,i).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){Dt("Abstract method `_fetchData` called.")}}class Qf{constructor({baseUrl:t=null}){this.constructor===Qf&&Dt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){Dt("Abstract method `_fetchData` called.")}}class Ay{constructor(){this.constructor===Ay&&Dt("Cannot initialize BaseSVGFactory.")}create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Dt("Abstract method `_createSVG` called.")}}const Jn="http://www.w3.org/2000/svg",Vr=class{};pt(Vr,"CSS",96),pt(Vr,"PDF",72),pt(Vr,"PDF_TO_CSS_UNITS",Vr.CSS/Vr.PDF);let ho=Vr;var hr,vi,Wi,Je,xc,Ur,pe,be,Ds,Hr,cr,Ca,Fo,Sc,Jg,FS,Ec,tm,Os,zr,$r,bo,Gr,No,kc,em,qr,jo;class cF extends Yf{constructor({docId:t,ownerDocument:e=globalThis.document}={}){super(),v(this,pe),v(this,Ds),v(this,cr),v(this,Fo),v(this,Jg),v(this,Ec),v(this,Os),v(this,$r),v(this,Gr),v(this,kc),v(this,qr),v(this,hr,void 0),v(this,vi,void 0),v(this,Wi,void 0),v(this,Je,void 0),v(this,xc,void 0),v(this,Ur,0),S(this,Wi,t),S(this,Je,e)}addFilter(t){if(!t)return"none";let e=h(this,pe,be).get(t);if(e)return e;const[i,s,r]=x(this,Fo,Sc).call(this,t),a=t.length===1?i:`${i}${s}${r}`;if(e=h(this,pe,be).get(a),e)return h(this,pe,be).set(t,e),e;const o=`g_${h(this,Wi)}_transfer_map_${wn(this,Ur)._++}`,l=`url(#${o})`;h(this,pe,be).set(t,l),h(this,pe,be).set(a,l);const u=x(this,Os,zr).call(this,o);return x(this,Gr,No).call(this,i,s,r,u),l}addHCMFilter(t,e){var i;const s=`${t}-${e}`,r="base";let a=h(this,Ds,Hr).get(r);if((a==null?void 0:a.key)===s||(a?((i=a.filter)==null||i.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},h(this,Ds,Hr).set(r,a)),!t||!e))return a.url;const o=x(this,qr,jo).call(this,t);t=Q.makeHexColor(...o);const l=x(this,qr,jo).call(this,e);if(e=Q.makeHexColor(...l),h(this,cr,Ca).style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const u=new Array(256);for(let y=0;y<=255;y++){const b=y/255;u[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const c=u.join(","),d=`g_${h(this,Wi)}_hcm_filter`,p=a.filter=x(this,Os,zr).call(this,d);x(this,Gr,No).call(this,c,c,c,p),x(this,Ec,tm).call(this,p);const g=(y,b)=>{const A=o[y]/255,E=l[y]/255,k=new Array(b+1);for(let C=0;C<=b;C++)k[C]=A+C/b*(E-A);return k.join(",")};return x(this,Gr,No).call(this,g(0,5),g(1,5),g(2,5),p),a.url=`url(#${d})`,a.url}addAlphaFilter(t){let e=h(this,pe,be).get(t);if(e)return e;const[i]=x(this,Fo,Sc).call(this,[t]),s=`alpha_${i}`;if(e=h(this,pe,be).get(s),e)return h(this,pe,be).set(t,e),e;const r=`g_${h(this,Wi)}_alpha_map_${wn(this,Ur)._++}`,a=`url(#${r})`;h(this,pe,be).set(t,a),h(this,pe,be).set(s,a);const o=x(this,Os,zr).call(this,r);return x(this,kc,em).call(this,i,o),a}addLuminosityFilter(t){let e=h(this,pe,be).get(t||"luminosity");if(e)return e;let i,s;if(t?([i]=x(this,Fo,Sc).call(this,[t]),s=`luminosity_${i}`):s="luminosity",e=h(this,pe,be).get(s),e)return h(this,pe,be).set(t,e),e;const r=`g_${h(this,Wi)}_luminosity_map_${wn(this,Ur)._++}`,a=`url(#${r})`;h(this,pe,be).set(t,a),h(this,pe,be).set(s,a);const o=x(this,Os,zr).call(this,r);return x(this,Jg,FS).call(this,o),t&&x(this,kc,em).call(this,i,o),a}addHighlightHCMFilter(t,e,i,s,r){var a;const o=`${e}-${i}-${s}-${r}`;let l=h(this,Ds,Hr).get(t);if((l==null?void 0:l.key)===o||(l?((a=l.filter)==null||a.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},h(this,Ds,Hr).set(t,l)),!e||!i))return l.url;const[u,c]=[e,i].map(x(this,qr,jo).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[g,y]=[s,r].map(x(this,qr,jo).bind(this));p<d&&([d,p,g,y]=[p,d,y,g]),h(this,cr,Ca).style.color="";const b=(k,C,P)=>{const R=new Array(256),O=(p-d)/P,D=k/255,_=(C-k)/(255*P);let T=0;for(let F=0;F<=P;F++){const j=Math.round(d+F*O),V=D+F*_;for(let U=T;U<=j;U++)R[U]=V;T=j+1}for(let F=T;F<256;F++)R[F]=R[T-1];return R.join(",")},A=`g_${h(this,Wi)}_hcm_${t}_filter`,E=l.filter=x(this,Os,zr).call(this,A);return x(this,Ec,tm).call(this,E),x(this,Gr,No).call(this,b(g[0],y[0],5),b(g[1],y[1],5),b(g[2],y[2],5),E),l.url=`url(#${A})`,l.url}destroy(t=!1){t&&h(this,Ds,Hr).size!==0||(h(this,vi)&&(h(this,vi).parentNode.parentNode.remove(),S(this,vi,null)),h(this,hr)&&(h(this,hr).clear(),S(this,hr,null)),S(this,Ur,0))}}hr=new WeakMap,vi=new WeakMap,Wi=new WeakMap,Je=new WeakMap,xc=new WeakMap,Ur=new WeakMap,pe=new WeakSet,be=function(){return h(this,hr)||S(this,hr,new Map)},Ds=new WeakSet,Hr=function(){return h(this,xc)||S(this,xc,new Map)},cr=new WeakSet,Ca=function(){if(!h(this,vi)){const n=h(this,Je).createElement("div"),{style:t}=n;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const e=h(this,Je).createElementNS(Jn,"svg");e.setAttribute("width",0),e.setAttribute("height",0),S(this,vi,h(this,Je).createElementNS(Jn,"defs")),n.append(e),e.append(h(this,vi)),h(this,Je).body.append(n)}return h(this,vi)},Fo=new WeakSet,Sc=function(n){if(n.length===1){const o=n[0],l=new Array(256);for(let c=0;c<256;c++)l[c]=o[c]/255;const u=l.join(",");return[u,u,u]}const[t,e,i]=n,s=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)s[o]=t[o]/255,r[o]=e[o]/255,a[o]=i[o]/255;return[s.join(","),r.join(","),a.join(",")]},Jg=new WeakSet,FS=function(n){const t=h(this,Je).createElementNS(Jn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(t)},Ec=new WeakSet,tm=function(n){const t=h(this,Je).createElementNS(Jn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(t)},Os=new WeakSet,zr=function(n){const t=h(this,Je).createElementNS(Jn,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",n),h(this,cr,Ca).append(t),t},$r=new WeakSet,bo=function(n,t,e){const i=h(this,Je).createElementNS(Jn,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",e),n.append(i)},Gr=new WeakSet,No=function(n,t,e,i){const s=h(this,Je).createElementNS(Jn,"feComponentTransfer");i.append(s),x(this,$r,bo).call(this,s,"feFuncR",n),x(this,$r,bo).call(this,s,"feFuncG",t),x(this,$r,bo).call(this,s,"feFuncB",e)},kc=new WeakSet,em=function(n,t){const e=h(this,Je).createElementNS(Jn,"feComponentTransfer");t.append(e),x(this,$r,bo).call(this,e,"feFuncA",n)},qr=new WeakSet,jo=function(n){return h(this,cr,Ca).style.color=n,_y(getComputedStyle(h(this,cr,Ca)).getPropertyValue("color"))};class uF extends Xf{constructor({ownerDocument:t=globalThis.document}={}){super(),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}async function Jf(n,t="text"){if(Bo(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class NS extends Zf{_fetchData(t,e){return Jf(t,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):Kf(i),compressionType:e}))}}class jS extends Qf{_fetchData(t){return Jf(t,"arraybuffer").then(e=>new Uint8Array(e))}}class xy extends Ay{_createSVG(t){return document.createElementNS(Jn,t)}}class kh{constructor({viewBox:t,scale:e,rotation:i,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=s,this.offsetY=r;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let u,c,d,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,c=0,d=0,p=1;break;case 90:u=0,c=1,d=1,p=0;break;case 270:u=0,c=-1,d=-1,p=0;break;case 0:u=1,c=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,p=-p);let g,y,b,A;u===0?(g=Math.abs(l-t[1])*e+s,y=Math.abs(o-t[0])*e+r,b=(t[3]-t[1])*e,A=(t[2]-t[0])*e):(g=Math.abs(o-t[0])*e+s,y=Math.abs(l-t[1])*e+r,b=(t[2]-t[0])*e,A=(t[3]-t[1])*e),this.transform=[u*e,c*e,d*e,p*e,g-u*e*o-d*e*l,y-c*e*o-p*e*l],this.width=b,this.height=A}get rawDims(){const{viewBox:t}=this;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new kh({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){return Q.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Q.applyTransform([t[0],t[1]],this.transform),i=Q.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return Q.applyInverseTransform([t,e],this.transform)}}class Sy extends Es{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Ey(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function ky(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function dF(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function fF(n,t="document.pdf"){if(typeof n!="string")return t;if(Ey(n))return bt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(n);let r=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||t}class Ww{constructor(){pt(this,"started",Object.create(null)),pt(this,"times",[])}time(t){t in this.started&&bt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||bt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-s}ms
`);return t.join("")}}function Bo(n,t){try{const{protocol:e}=t?new URL(n,t):new URL(n);return e==="http:"||e==="https:"}catch{return!1}}function Xe(n){n.preventDefault()}function BS(n){console.log("Deprecated API usage: "+n)}let Gp;class WS{static toDateObject(t){if(!t||typeof t!="string")return null;Gp||(Gp=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=Gp.exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const u=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(a+=c,o+=d):u==="+"&&(a-=c,o-=d),new Date(Date.UTC(i,s,r,a,o,l))}}function pF(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new kh({viewBox:r,scale:t,rotation:e})}function _y(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(bt(`Not a valid color format: "${n}"`),[0,0,0])}function gF(n){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,_y(i))}t.remove()}function Ut(n){const{a:t,b:e,c:i,d:s,e:r,f:a}=n.getTransform();return[t,e,i,s,r,a]}function Qn(n){const{a:t,b:e,c:i,d:s,e:r,f:a}=n.getTransform().invertSelf();return[t,e,i,s,r,a]}function Er(n,t,e=!1,i=!0){if(t instanceof kh){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=n,o=Ze.isCSSRoundSupported,l=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${r}px`,c=o?`round(${l}, 1px)`:`calc(${l})`,d=o?`round(${u}, 1px)`:`calc(${u})`;!e||t.rotation%180===0?(a.width=c,a.height=d):(a.width=d,a.height=c)}i&&n.setAttribute("data-main-rotation",t.rotation)}var Kr,Yr,yi,Ta,nm,VS,im,Vw,sm,Uw,jl,Rd,rm,US,_c,am;const HS=class zS{constructor(t){v(this,im),v(this,sm),v(this,jl),v(this,rm),v(this,_c),v(this,Kr,null),v(this,Yr,null),v(this,yi,void 0),v(this,Ta,null),S(this,yi,t)}render(){const t=S(this,Kr,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Xe),t.addEventListener("pointerdown",x(zS,nm,VS));const e=S(this,Ta,document.createElement("div"));e.className="buttons",t.append(e);const i=h(this,yi).toolbarPosition;if(i){const{style:s}=t,r=h(this,yi)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*r}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return x(this,rm,US).call(this),t}hide(){var t;h(this,Kr).classList.add("hidden"),(t=h(this,Yr))==null||t.hideDropdown()}show(){h(this,Kr).classList.remove("hidden")}addAltTextButton(t){x(this,jl,Rd).call(this,t),h(this,Ta).prepend(t,h(this,_c,am))}addColorPicker(t){S(this,Yr,t);const e=t.renderButton();x(this,jl,Rd).call(this,e),h(this,Ta).prepend(e,h(this,_c,am))}remove(){var t;h(this,Kr).remove(),(t=h(this,Yr))==null||t.destroy(),S(this,Yr,null)}};Kr=new WeakMap,Yr=new WeakMap,yi=new WeakMap,Ta=new WeakMap,nm=new WeakSet,VS=function(n){n.stopPropagation()},im=new WeakSet,Vw=function(n){h(this,yi)._focusEventsAllowed=!1,n.preventDefault(),n.stopPropagation()},sm=new WeakSet,Uw=function(n){h(this,yi)._focusEventsAllowed=!0,n.preventDefault(),n.stopPropagation()},jl=new WeakSet,Rd=function(n){n.addEventListener("focusin",x(this,im,Vw).bind(this),{capture:!0}),n.addEventListener("focusout",x(this,sm,Uw).bind(this),{capture:!0}),n.addEventListener("contextmenu",Xe)},rm=new WeakSet,US=function(){const n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",`pdfjs-editor-remove-${h(this,yi).editorType}-button`),x(this,jl,Rd).call(this,n),n.addEventListener("click",t=>{h(this,yi)._uiManager.delete()}),h(this,Ta).append(n)},_c=new WeakSet,am=function(){const n=document.createElement("div");return n.className="divider",n},v(HS,nm);let mF=HS;var Cc,Qs,Ld,om,$S,lm,GS,hm,Hw;class vF{constructor(t){v(this,om),v(this,lm),v(this,hm),v(this,Cc,null),v(this,Qs,null),v(this,Ld,void 0),S(this,Ld,t)}show(t,e,i){const[s,r]=x(this,lm,GS).call(this,e,i),{style:a}=h(this,Qs)||S(this,Qs,x(this,om,$S).call(this));t.append(h(this,Qs)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Qs).remove()}}Cc=new WeakMap,Qs=new WeakMap,Ld=new WeakMap,om=new WeakSet,$S=function(){const n=S(this,Qs,document.createElement("div"));n.className="editToolbar",n.setAttribute("role","toolbar"),n.addEventListener("contextmenu",Xe);const t=S(this,Cc,document.createElement("div"));return t.className="buttons",n.append(t),x(this,hm,Hw).call(this),n},lm=new WeakSet,GS=function(n,t){let e=0,i=0;for(const s of n){const r=s.y+s.height;if(r<e)continue;const a=s.x+(t?s.width:0);if(r>e){i=a,e=r;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,e]},hm=new WeakSet,Hw=function(){const n=document.createElement("button");n.className="highlightButton",n.tabIndex=0,n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");n.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),n.addEventListener("contextmenu",Xe),n.addEventListener("click",()=>{h(this,Ld).highlightSelection("floating_button")}),h(this,Cc).append(n)};function Id(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}function yF(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var cm;class wF{constructor(){v(this,cm,0)}get id(){return`${X5}${wn(this,cm)._++}`}}cm=new WeakMap;var Dd,um,Ke,Tc,dm;const qS=class{constructor(){v(this,Tc),v(this,Dd,hF()),v(this,um,0),v(this,Ke,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',e=new OffscreenCanvas(1,3).getContext("2d"),i=new Image;i.src=t;const s=i.decode().then(()=>(e.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:r}=t;return x(this,Tc,dm).call(this,`${e}_${i}_${s}_${r}`,t)}async getFromUrl(t){return x(this,Tc,dm).call(this,t,t)}async getFromId(t){h(this,Ke)||S(this,Ke,new Map);const e=h(this,Ke).get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=h(this,Ke).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){h(this,Ke)||S(this,Ke,new Map);const e=h(this,Ke).get(t);e&&(e.refCounter-=1,e.refCounter===0&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${h(this,Dd)}_`)}};Dd=new WeakMap,um=new WeakMap,Ke=new WeakMap,Tc=new WeakSet,dm=async function(n,t){h(this,Ke)||S(this,Ke,new Map);let e=h(this,Ke).get(n);if(e===null)return null;if(e!=null&&e.bitmap)return e.refCounter+=1,e;try{e||(e={bitmap:null,id:`image_${h(this,Dd)}_${wn(this,um)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(e.url=t,i=await Jf(t,"blob")):i=e.file=t,i.type==="image/svg+xml"){const s=qS._isSVGFittingCanvas,r=new FileReader,a=new Image,o=new Promise((l,u)=>{a.onload=()=>{e.bitmap=a,e.isSvg=!0,l()},r.onload=async()=>{const c=e.svgUrl=r.result;a.src=await s?`${c}#svgView(preserveAspectRatio(none))`:c},a.onerror=r.onerror=u});r.readAsDataURL(i),await o}else e.bitmap=await createImageBitmap(i);e.refCounter=1}catch(i){console.error(i),e=null}return h(this,Ke).set(n,e),e&&h(this,Ke).set(e.id,e),e};let bF=qS;var ge,Fs,Mc,ee;class AF{constructor(t=128){v(this,ge,[]),v(this,Fs,!1),v(this,Mc,void 0),v(this,ee,-1),S(this,Mc,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&t(),h(this,Fs))return;const l={cmd:t,undo:e,post:i,type:r};if(h(this,ee)===-1){h(this,ge).length>0&&(h(this,ge).length=0),S(this,ee,0),h(this,ge).push(l);return}if(a&&h(this,ge)[h(this,ee)].type===r){o&&(l.undo=h(this,ge)[h(this,ee)].undo),h(this,ge)[h(this,ee)]=l;return}const u=h(this,ee)+1;u===h(this,Mc)?h(this,ge).splice(0,1):(S(this,ee,u),u<h(this,ge).length&&h(this,ge).splice(u)),h(this,ge).push(l)}undo(){if(h(this,ee)===-1)return;S(this,Fs,!0);const{undo:t,post:e}=h(this,ge)[h(this,ee)];t(),e==null||e(),S(this,Fs,!1),S(this,ee,h(this,ee)-1)}redo(){if(h(this,ee)<h(this,ge).length-1){S(this,ee,h(this,ee)+1),S(this,Fs,!0);const{cmd:t,post:e}=h(this,ge)[h(this,ee)];t(),e==null||e(),S(this,Fs,!1)}}hasSomethingToUndo(){return h(this,ee)!==-1}hasSomethingToRedo(){return h(this,ee)<h(this,ge).length-1}destroy(){S(this,ge,null)}}ge=new WeakMap,Fs=new WeakMap,Mc=new WeakMap,ee=new WeakMap;var fm,KS;class _h{constructor(t){v(this,fm),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ze.platform;for(const[i,s,r={}]of t)for(const a of i){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(x(this,fm,KS).call(this,e));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:o=null}}=i;o&&!o(t,e)||(s.bind(t,...a,e)(),r||(e.stopPropagation(),e.preventDefault()))}}fm=new WeakSet,KS=function(n){n.altKey&&this.buffer.push("alt"),n.ctrlKey&&this.buffer.push("ctrl"),n.metaKey&&this.buffer.push("meta"),n.shiftKey&&this.buffer.push("shift"),this.buffer.push(n.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const YS=class XS{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return gF(t),Ct(this,"_colors",t)}convert(t){const e=_y(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((r,a)=>r===e[a]))return XS._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Q.makeHexColor(...e):t}};pt(YS,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let xF=YS;var hn,he,Ee,Wo,Vi,Xr,Pn,Vo,Zr,ti,Ui,Qr,Od,Pc,ei,Uo,Js,Wn,pm,tr,Rc,Jr,Lc,Ho,Me,Lt,Hi,ta,zo,Ic,Dc,Oc,Fc,Nc,jc,Bc,Wc,Vc,Uc,Hc,zc,$c,Ns,ni,zi,Gc,Bl,qc,gm,zw,mm,ZS,Wl,Fd,vm,QS,ym,JS,wm,t2,Kc,bm,Yc,Am,Xc,xm,Zc,Sm,Qc,Em,_e,Be,di,Ji,km,e2,_m,n2,Jc,Cm,Tm,i2,ea,$o,tu,Mm;const Pm=class Rm{constructor(t,e,i,s,r,a,o,l,u){v(this,Bl),v(this,gm),v(this,mm),v(this,Wl),v(this,vm),v(this,ym),v(this,wm),v(this,Kc),v(this,Yc),v(this,Xc),v(this,Zc),v(this,Qc),v(this,_e),v(this,di),v(this,km),v(this,_m),v(this,Jc),v(this,Tm),v(this,ea),v(this,tu),v(this,hn,null),v(this,he,new Map),v(this,Ee,new Map),v(this,Wo,null),v(this,Vi,null),v(this,Xr,null),v(this,Pn,new AF),v(this,Vo,0),v(this,Zr,new Set),v(this,ti,null),v(this,Ui,null),v(this,Qr,new Set),v(this,Od,!1),v(this,Pc,null),v(this,ei,null),v(this,Uo,null),v(this,Js,!1),v(this,Wn,null),v(this,pm,new wF),v(this,tr,!1),v(this,Rc,!1),v(this,Jr,null),v(this,Lc,null),v(this,Ho,null),v(this,Me,kt.NONE),v(this,Lt,new Set),v(this,Hi,null),v(this,ta,null),v(this,zo,null),v(this,Ic,this.blur.bind(this)),v(this,Dc,this.focus.bind(this)),v(this,Oc,this.copy.bind(this)),v(this,Fc,this.cut.bind(this)),v(this,Nc,this.paste.bind(this)),v(this,jc,this.keydown.bind(this)),v(this,Bc,this.keyup.bind(this)),v(this,Wc,this.onEditingAction.bind(this)),v(this,Vc,this.onPageChanging.bind(this)),v(this,Uc,this.onScaleChanging.bind(this)),v(this,Hc,x(this,mm,ZS).bind(this)),v(this,zc,this.onRotationChanging.bind(this)),v(this,$c,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),v(this,Ns,[0,0]),v(this,ni,null),v(this,zi,null),v(this,Gc,null),S(this,zi,t),S(this,Gc,e),S(this,Wo,i),this._eventBus=s,this._eventBus._on("editingaction",h(this,Wc)),this._eventBus._on("pagechanging",h(this,Vc)),this._eventBus._on("scalechanging",h(this,Uc)),this._eventBus._on("rotationchanging",h(this,zc)),x(this,vm,QS).call(this),x(this,Yc,Am).call(this),S(this,Vi,r.annotationStorage),S(this,Pc,r.filterFactory),S(this,ta,a),S(this,Uo,o||null),S(this,Od,l),S(this,Ho,u||null),this.viewParameters={realScale:ho.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Rm.prototype,e=a=>h(a,zi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new _h([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,zi).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,zi).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e;x(this,Xc,xm).call(this),x(this,Kc,bm).call(this),this._eventBus._off("editingaction",h(this,Wc)),this._eventBus._off("pagechanging",h(this,Vc)),this._eventBus._off("scalechanging",h(this,Uc)),this._eventBus._off("rotationchanging",h(this,zc));for(const i of h(this,Ee).values())i.destroy();h(this,Ee).clear(),h(this,he).clear(),h(this,Qr).clear(),S(this,hn,null),h(this,Lt).clear(),h(this,Pn).destroy(),(t=h(this,Wo))==null||t.destroy(),(e=h(this,Wn))==null||e.hide(),S(this,Wn,null),h(this,ei)&&(clearTimeout(h(this,ei)),S(this,ei,null)),h(this,ni)&&(clearTimeout(h(this,ni)),S(this,ni,null)),x(this,ym,JS).call(this)}async mlGuess(t){var e;return((e=h(this,Ho))==null?void 0:e.guess(t))||null}get hasMLManager(){return!!h(this,Ho)}get hcmFilter(){return Ct(this,"hcmFilter",h(this,ta)?h(this,Pc).addHCMFilter(h(this,ta).foreground,h(this,ta).background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(h(this,zi)).direction)}get highlightColors(){return Ct(this,"highlightColors",h(this,Uo)?new Map(h(this,Uo).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){S(this,Lc,t)}editAltText(t){var e;(e=h(this,Wo))==null||e.editAltText(this,t)}onPageChanging({pageNumber:t}){S(this,Vo,t-1)}focusMainContainer(){h(this,zi).focus()}findParent(t,e){for(const i of h(this,Ee).values()){const{x:s,y:r,width:a,height:o}=i.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+o)return i}return null}disableUserSelect(t=!1){h(this,Gc).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,Qr).add(t)}removeShouldRescale(t){h(this,Qr).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ho.PDF_TO_CSS_UNITS;for(const e of h(this,Qr))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a}=e,o=e.toString(),l=x(this,Bl,qc).call(this,e).closest(".textLayer"),u=this.getSelectionBoxes(l);if(u){e.empty(),h(this,Me)===kt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:kt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const c of h(this,Ee).values())if(c.hasTextLayer(l)){c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a,text:o});break}}}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Vi)&&!h(this,Vi).has(t.id)&&h(this,Vi).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,Js)&&(S(this,Js,!1),x(this,Wl,Fd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Lt))if(e.div.contains(t)){S(this,Jr,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,Jr))return;const[t,e]=h(this,Jr);S(this,Jr,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0}),e.focus()}addEditListeners(){x(this,Yc,Am).call(this),x(this,Zc,Sm).call(this)}removeEditListeners(){x(this,Xc,xm).call(this),x(this,Qc,Em).call(this)}copy(t){var e;if(t.preventDefault(),(e=h(this,hn))==null||e.commitOrRemove(),!this.hasSelection)return;const i=[];for(const s of h(this,Lt)){const r=s.serialize(!0);r&&i.push(r)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of h(this,Ui))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){bt(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const l of i){const u=s.deserialize(l);if(!u)return;r.push(u)}const a=()=>{for(const l of r)x(this,Jc,Cm).call(this,l);x(this,tu,Mm).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){bt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Me)!==kt.NONE&&!this.isEditorHandlingKeyboard&&Rm._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Js)&&(S(this,Js,!1),x(this,Wl,Fd).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(x(this,wm,t2).call(this),x(this,Zc,Sm).call(this),x(this,_e,Be).call(this,{isEditing:h(this,Me)!==kt.NONE,isEmpty:x(this,ea,$o).call(this),hasSomethingToUndo:h(this,Pn).hasSomethingToUndo(),hasSomethingToRedo:h(this,Pn).hasSomethingToRedo(),hasSelectedEditor:!1})):(x(this,Kc,bm).call(this),x(this,Qc,Em).call(this),x(this,_e,Be).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,Ui)){S(this,Ui,t);for(const e of h(this,Ui))x(this,di,Ji).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,pm).id}get currentLayer(){return h(this,Ee).get(h(this,Vo))}getLayer(t){return h(this,Ee).get(t)}get currentPageIndex(){return h(this,Vo)}addLayer(t){h(this,Ee).set(t.pageIndex,t),h(this,tr)?t.enable():t.disable()}removeLayer(t){h(this,Ee).delete(t.pageIndex)}updateMode(t,e=null,i=!1){if(h(this,Me)!==t){if(S(this,Me,t),t===kt.NONE){this.setEditingState(!1),x(this,_m,n2).call(this);return}this.setEditingState(!0),x(this,km,e2).call(this),this.unselectAll();for(const s of h(this,Ee).values())s.updateMode(t);if(!e&&i){this.addNewEditorFromKeyboard();return}if(e){for(const s of h(this,he).values())if(s.annotationElementId===e){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,Me)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(h(this,Ui)){switch(t){case ut.CREATE:this.currentLayer.addNewEditor();return;case ut.HIGHLIGHT_DEFAULT_COLOR:(i=h(this,Lc))==null||i.updateColor(e);break;case ut.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,zo)||S(this,zo,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of h(this,Lt))s.updateParams(t,e);for(const s of h(this,Ui))s.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var s;for(const r of h(this,he).values())r.editorType===t&&r.show(e);(((s=h(this,zo))==null?void 0:s.get(ut.HIGHLIGHT_SHOW_ALL))??!0)!==e&&x(this,di,Ji).call(this,[[ut.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Rc)!==t){S(this,Rc,t);for(const e of h(this,Ee).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of h(this,he).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return h(this,he).get(t)}addEditor(t){h(this,he).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,ei)&&clearTimeout(h(this,ei)),S(this,ei,setTimeout(()=>{this.focusMainContainer(),S(this,ei,null)},0))),h(this,he).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,Zr).has(t.annotationElementId))&&((e=h(this,Vi))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,Zr).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Zr).has(t)}removeDeletedAnnotationElement(t){h(this,Zr).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,hn)!==t&&(S(this,hn,t),t&&x(this,di,Ji).call(this,t.propertiesToUpdate))}updateUI(t){h(this,Tm,i2)===t&&x(this,di,Ji).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Lt).has(t)){h(this,Lt).delete(t),t.unselect(),x(this,_e,Be).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Lt).add(t),t.select(),x(this,di,Ji).call(this,t.propertiesToUpdate),x(this,_e,Be).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Lt))e!==t&&e.unselect();h(this,Lt).clear(),h(this,Lt).add(t),t.select(),x(this,di,Ji).call(this,t.propertiesToUpdate),x(this,_e,Be).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Lt).has(t)}get firstSelectedEditor(){return h(this,Lt).values().next().value}unselect(t){t.unselect(),h(this,Lt).delete(t),x(this,_e,Be).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Lt).size!==0}get isEnterHandled(){return h(this,Lt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,Pn).undo(),x(this,_e,Be).call(this,{hasSomethingToUndo:h(this,Pn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:x(this,ea,$o).call(this)})}redo(){h(this,Pn).redo(),x(this,_e,Be).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Pn).hasSomethingToRedo(),isEmpty:x(this,ea,$o).call(this)})}addCommands(t){h(this,Pn).add(t),x(this,_e,Be).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:x(this,ea,$o).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Lt)],e=()=>{for(const s of t)s.remove()},i=()=>{for(const s of t)x(this,Jc,Cm).call(this,s)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=h(this,hn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,hn)||this.hasSelection}selectAll(){for(const t of h(this,Lt))t.commit();x(this,tu,Mm).call(this,h(this,he).values())}unselectAll(){if(!(h(this,hn)&&(h(this,hn).commitOrRemove(),h(this,Me)!==kt.NONE))&&this.hasSelection){for(const t of h(this,Lt))t.unselect();h(this,Lt).clear(),x(this,_e,Be).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;h(this,Ns)[0]+=t,h(this,Ns)[1]+=e;const[s,r]=h(this,Ns),a=[...h(this,Lt)];h(this,ni)&&clearTimeout(h(this,ni)),S(this,ni,setTimeout(()=>{S(this,ni,null),h(this,Ns)[0]=h(this,Ns)[1]=0,this.addCommands({cmd:()=>{for(const l of a)h(this,he).has(l.id)&&l.translateInPage(s,r)},undo:()=>{for(const l of a)h(this,he).has(l.id)&&l.translateInPage(-s,-r)},mustExec:!1})},1e3));for(const l of a)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,ti,new Map);for(const t of h(this,Lt))h(this,ti).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,ti))return!1;this.disableUserSelect(!1);const t=h(this,ti);S(this,ti,null);let e=!1;for(const[{x:s,y:r,pageIndex:a},o]of t)o.newX=s,o.newY=r,o.newPageIndex=a,e||(e=s!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!e)return!1;const i=(s,r,a,o)=>{if(h(this,he).has(s.id)){const l=h(this,Ee).get(o);l?s._setParentAndPosition(l,r,a):(s.pageIndex=o,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:o}]of t)i(s,r,a,o)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:o}]of t)i(s,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,ti))for(const i of h(this,ti).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Lt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,hn)===t}getActive(){return h(this,hn)}getMode(){return h(this,Me)}get imageManager(){return Ct(this,"imageManager",new bF)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let u=0,c=e.rangeCount;u<c;u++)if(!t.contains(e.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(u,c,d,p)=>({x:(c-s)/a,y:1-(u+d-i)/r,width:p/a,height:d/r});break;case"180":o=(u,c,d,p)=>({x:1-(u+d-i)/r,y:1-(c+p-s)/a,width:d/r,height:p/a});break;case"270":o=(u,c,d,p)=>({x:1-(c+p-s)/a,y:(u-i)/r,width:p/a,height:d/r});break;default:o=(u,c,d,p)=>({x:(u-i)/r,y:(c-s)/a,width:d/r,height:p/a});break}const l=[];for(let u=0,c=e.rangeCount;u<c;u++){const d=e.getRangeAt(u);if(!d.collapsed)for(const{x:p,y:g,width:y,height:b}of d.getClientRects())y===0||b===0||l.push(o(p,g,y,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,Xr)||S(this,Xr,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,Xr))==null||e.delete(t)}renderAnnotationElement(t){var e;const i=(e=h(this,Xr))==null?void 0:e.get(t.data.id);if(!i)return;const s=h(this,Vi).getRawValue(i);s&&(h(this,Me)===kt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};hn=new WeakMap,he=new WeakMap,Ee=new WeakMap,Wo=new WeakMap,Vi=new WeakMap,Xr=new WeakMap,Pn=new WeakMap,Vo=new WeakMap,Zr=new WeakMap,ti=new WeakMap,Ui=new WeakMap,Qr=new WeakMap,Od=new WeakMap,Pc=new WeakMap,ei=new WeakMap,Uo=new WeakMap,Js=new WeakMap,Wn=new WeakMap,pm=new WeakMap,tr=new WeakMap,Rc=new WeakMap,Jr=new WeakMap,Lc=new WeakMap,Ho=new WeakMap,Me=new WeakMap,Lt=new WeakMap,Hi=new WeakMap,ta=new WeakMap,zo=new WeakMap,Ic=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,Fc=new WeakMap,Nc=new WeakMap,jc=new WeakMap,Bc=new WeakMap,Wc=new WeakMap,Vc=new WeakMap,Uc=new WeakMap,Hc=new WeakMap,zc=new WeakMap,$c=new WeakMap,Ns=new WeakMap,ni=new WeakMap,zi=new WeakMap,Gc=new WeakMap,Bl=new WeakSet,qc=function({anchorNode:n}){return n.nodeType===Node.TEXT_NODE?n.parentElement:n},gm=new WeakSet,zw=function(){const n=document.getSelection();if(!n||n.isCollapsed)return;const t=x(this,Bl,qc).call(this,n).closest(".textLayer"),e=this.getSelectionBoxes(t);e&&(h(this,Wn)||S(this,Wn,new vF(this)),h(this,Wn).show(t,e,this.direction==="ltr"))},mm=new WeakSet,ZS=function(){var n,t,e;const i=document.getSelection();if(!i||i.isCollapsed){h(this,Hi)&&((n=h(this,Wn))==null||n.hide(),S(this,Hi,null),x(this,_e,Be).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=i;if(s!==h(this,Hi)){if(!x(this,Bl,qc).call(this,i).closest(".textLayer")){h(this,Hi)&&((t=h(this,Wn))==null||t.hide(),S(this,Hi,null),x(this,_e,Be).call(this,{hasSelectedText:!1}));return}if((e=h(this,Wn))==null||e.hide(),S(this,Hi,s),x(this,_e,Be).call(this,{hasSelectedText:!0}),!(h(this,Me)!==kt.HIGHLIGHT&&h(this,Me)!==kt.NONE)&&(h(this,Me)===kt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,Js,this.isShiftKeyDown),!this.isShiftKeyDown)){const r=a=>{a.type==="pointerup"&&a.button!==0||(window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),a.type==="pointerup"&&x(this,Wl,Fd).call(this,"main_toolbar"))};window.addEventListener("pointerup",r),window.addEventListener("blur",r)}}},Wl=new WeakSet,Fd=function(n=""){h(this,Me)===kt.HIGHLIGHT?this.highlightSelection(n):h(this,Od)&&x(this,gm,zw).call(this)},vm=new WeakSet,QS=function(){document.addEventListener("selectionchange",h(this,Hc))},ym=new WeakSet,JS=function(){document.removeEventListener("selectionchange",h(this,Hc))},wm=new WeakSet,t2=function(){window.addEventListener("focus",h(this,Dc)),window.addEventListener("blur",h(this,Ic))},Kc=new WeakSet,bm=function(){window.removeEventListener("focus",h(this,Dc)),window.removeEventListener("blur",h(this,Ic))},Yc=new WeakSet,Am=function(){window.addEventListener("keydown",h(this,jc)),window.addEventListener("keyup",h(this,Bc))},Xc=new WeakSet,xm=function(){window.removeEventListener("keydown",h(this,jc)),window.removeEventListener("keyup",h(this,Bc))},Zc=new WeakSet,Sm=function(){document.addEventListener("copy",h(this,Oc)),document.addEventListener("cut",h(this,Fc)),document.addEventListener("paste",h(this,Nc))},Qc=new WeakSet,Em=function(){document.removeEventListener("copy",h(this,Oc)),document.removeEventListener("cut",h(this,Fc)),document.removeEventListener("paste",h(this,Nc))},_e=new WeakSet,Be=function(n){Object.entries(n).some(([t,e])=>h(this,$c)[t]!==e)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,$c),n)}),h(this,Me)===kt.HIGHLIGHT&&n.hasSelectedEditor===!1&&x(this,di,Ji).call(this,[[ut.HIGHLIGHT_FREE,!0]]))},di=new WeakSet,Ji=function(n){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:n})},km=new WeakSet,e2=function(){if(!h(this,tr)){S(this,tr,!0);for(const n of h(this,Ee).values())n.enable();for(const n of h(this,he).values())n.enable()}},_m=new WeakSet,n2=function(){if(this.unselectAll(),h(this,tr)){S(this,tr,!1);for(const n of h(this,Ee).values())n.disable();for(const n of h(this,he).values())n.disable()}},Jc=new WeakSet,Cm=function(n){const t=h(this,Ee).get(n.pageIndex);t?t.addOrRebuild(n):(this.addEditor(n),this.addToAnnotationStorage(n))},Tm=new WeakSet,i2=function(){let n=null;for(n of h(this,Lt));return n},ea=new WeakSet,$o=function(){if(h(this,he).size===0)return!0;if(h(this,he).size===1)for(const n of h(this,he).values())return n.isEmpty();return!1},tu=new WeakSet,Mm=function(n){for(const t of h(this,Lt))t.unselect();h(this,Lt).clear();for(const t of n)t.isEmpty()||(h(this,Lt).add(t),t.select());x(this,_e,Be).call(this,{hasSelectedEditor:this.hasSelection})},pt(Pm,"TRANSLATE_SMALL",1),pt(Pm,"TRANSLATE_BIG",10);let mh=Pm;var ss,rs,In,ts,zn,Go,ps,eu,Lm;const nu=class iu{constructor(t){v(this,eu),v(this,ss,""),v(this,rs,!1),v(this,In,null),v(this,ts,null),v(this,zn,null),v(this,Go,!1),v(this,ps,null),S(this,ps,t)}static initialize(t){iu._l10nPromise||(iu._l10nPromise=t)}async render(){const t=S(this,In,document.createElement("button"));t.className="altText";const e=await iu._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",t.addEventListener("contextmenu",Xe),t.addEventListener("pointerdown",s=>s.stopPropagation());const i=s=>{s.preventDefault(),h(this,ps)._uiManager.editAltText(h(this,ps))};return t.addEventListener("click",i,{capture:!0}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(S(this,Go,!0),i(s))}),await x(this,eu,Lm).call(this),t}finish(){h(this,In)&&(h(this,In).focus({focusVisible:h(this,Go)}),S(this,Go,!1))}isEmpty(){return!h(this,ss)&&!h(this,rs)}get data(){return{altText:h(this,ss),decorative:h(this,rs)}}set data({altText:t,decorative:e}){h(this,ss)===t&&h(this,rs)===e||(S(this,ss,t),S(this,rs,e),x(this,eu,Lm).call(this))}toggle(t=!1){h(this,In)&&(!t&&h(this,zn)&&(clearTimeout(h(this,zn)),S(this,zn,null)),h(this,In).disabled=!t)}destroy(){var t;(t=h(this,In))==null||t.remove(),S(this,In,null),S(this,ts,null)}};ss=new WeakMap,rs=new WeakMap,In=new WeakMap,ts=new WeakMap,zn=new WeakMap,Go=new WeakMap,ps=new WeakMap,eu=new WeakSet,Lm=async function(){var n;const t=h(this,In);if(!t)return;if(!h(this,ss)&&!h(this,rs)){t.classList.remove("done"),(n=h(this,ts))==null||n.remove();return}t.classList.add("done"),nu._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{t.setAttribute("aria-label",s)});let e=h(this,ts);if(!e){S(this,ts,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip");const s=e.id=`alt-text-tooltip-${h(this,ps).id}`;t.setAttribute("aria-describedby",s);const r=100;t.addEventListener("mouseenter",()=>{S(this,zn,setTimeout(()=>{S(this,zn,null),h(this,ts).classList.add("show"),h(this,ps)._reportTelemetry({action:"alt_text_tooltip"})},r))}),t.addEventListener("mouseleave",()=>{var a;h(this,zn)&&(clearTimeout(h(this,zn)),S(this,zn,null)),(a=h(this,ts))==null||a.classList.remove("show")})}e.innerText=h(this,rs)?await nu._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):h(this,ss),e.parentNode||t.append(e);const i=h(this,ps).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},pt(nu,"_l10nPromise",null);let $w=nu;var Vn,ze,qo,na,Pe,Ma,Ko,Yo,je,Nd,Pa,ii,su,ia,gs,si,Xo,Zo,cn,ru,Im,au,Dm,jd,Om,ou,qp,Fm,s2,Nm,Gw,lu,Kp,Bd,jm,Wd,Bm,Wm,r2,Vm,a2,Um,o2,Hm,l2,Vd,zm,Ra,Vl;const ri=class me{constructor(t){v(this,au),v(this,ou),v(this,Fm),v(this,Nm),v(this,lu),v(this,Bd),v(this,Wd),v(this,Wm),v(this,Vm),v(this,Um),v(this,Hm),v(this,Vd),v(this,Ra),v(this,Vn,null),v(this,ze,null),v(this,qo,!1),v(this,na,!1),v(this,Pe,null),v(this,Ma,null),v(this,Ko,this.focusin.bind(this)),v(this,Yo,this.focusout.bind(this)),v(this,je,null),v(this,Nd,""),v(this,Pa,!1),v(this,ii,null),v(this,su,!1),v(this,ia,!1),v(this,gs,!1),v(this,si,null),v(this,Xo,0),v(this,Zo,0),v(this,cn,null),pt(this,"_initialOptions",Object.create(null)),pt(this,"_isVisible",!0),pt(this,"_uiManager",null),pt(this,"_focusEventsAllowed",!0),pt(this,"_l10nPromise",null),v(this,ru,!1),v(this,Im,me._zIndex++),this.constructor===me&&Dt("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=me.prototype._resizeWithKeyboard,e=mh.TRANSLATE_SMALL,i=mh.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new _h([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],me.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new SF({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,i){if(me._l10nPromise||(me._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,t.get(r.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),i!=null&&i.strings)for(const r of i.strings)me._l10nPromise.set(r,t.get(r));if(me._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);me._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Dt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,ru)}set _isDraggable(t){var e;S(this,ru,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Im)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):x(this,Ra,Vl).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,Pa)?S(this,Pa,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=t.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(t.preventDefault(),(e=this.parent)!=null&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[r,a]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/r,this.y=(e+s)/a,this.fixAndSetPosition()}translate(t,e){x(this,au,Dm).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,ii)||S(this,ii,[this.x,this.y]),x(this,au,Dm).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,ii)||S(this,ii,[this.x,this.y]);const[i,s]=this.parentDimensions;if(this.x+=t/i,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,ii)&&(h(this,ii)[0]!==this.x||h(this,ii)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=me,s=i/t,r=i/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:s,y:r,width:a,height:o}=this;if(a*=e,o*=i,s*=e,r*=i,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-a,s)),r=Math.max(0,Math.min(i-o,r));break;case 90:s=Math.max(0,Math.min(e-o,s)),r=Math.min(i,Math.max(a,r));break;case 180:s=Math.min(e,Math.max(a,s)),r=Math.min(i,Math.max(o,r));break;case 270:s=Math.min(e,Math.max(o,s)),r=Math.max(0,Math.min(i-a,r));break}this.x=s/=e,this.y=r/=i;const[l,u]=this.getBaseTranslation();s+=l,r+=u;const{style:c}=this.div;c.left=`${(100*s).toFixed(2)}%`,c.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return x(i=me,jd,Om).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return x(i=me,jd,Om).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this,s=e*t,r=i*t;return Ze.isCSSRoundSupported?[Math.round(s),Math.round(r)]:[s,r]}setDims(t,e){const[i,s]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,h(this,na)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,s=i.endsWith("%"),r=!h(this,na)&&e.endsWith("%");if(s&&r)return;const[a,o]=this.parentDimensions;s||(t.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!h(this,na)&&!r&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,ze))==null||t.finish()}async addEditToolbar(){return h(this,je)||h(this,ia)?h(this,je):(S(this,je,new mF(this)),this.div.append(h(this,je).render()),h(this,ze)&&h(this,je).addAltTextButton(await h(this,ze).render()),h(this,je))}removeEditToolbar(){var t;h(this,je)&&(h(this,je).remove(),S(this,je,null),(t=h(this,ze))==null||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,ze)||($w.initialize(me._l10nPromise),S(this,ze,new $w(this)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,ze))==null?void 0:t.data}set altTextData(t){h(this,ze)&&(h(this,ze).data=t)}hasAltText(){var t;return!((t=h(this,ze))!=null&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,qo)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",h(this,Ko)),this.div.addEventListener("focusout",h(this,Yo));const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Id(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Ze.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(S(this,Pa,!0),this._isDraggable){x(this,Wm,r2).call(this,t);return}x(this,Wd,Bm).call(this,t)}moveInDOM(){h(this,si)&&clearTimeout(h(this,si)),S(this,si,setTimeout(()=>{var t;S(this,si,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=t/s,c=e/s,d=this.x*r,p=this.y*a,g=this.width*r,y=this.height*a;switch(i){case 0:return[d+u+o,a-p-c-y+l,d+u+g+o,a-p-c+l];case 90:return[d+c+o,a-p+u+l,d+c+y+o,a-p+u+g+l];case 180:return[d-u-g+o,a-p+c+l,d-u+o,a-p+c+y+l];case 270:return[d-c-y+o,a-p-u-g+l,d-c+o,a-p-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,r,a]=t,o=r-i,l=a-s;switch(this.rotation){case 0:return[i,e-a,o,l];case 90:return[i,e-s,l,o];case 180:return[r,e-s,o,l];case 270:return[r,e-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,ia,!0)}disableEditMode(){S(this,ia,!1)}isInEditMode(){return h(this,ia)}shouldGetKeyboardEvents(){return h(this,gs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,e;(t=this.div)==null||t.addEventListener("focusin",h(this,Ko)),(e=this.div)==null||e.addEventListener("focusout",h(this,Yo))}rotate(t){}serialize(t=!1,e=null){Dt("An editor must be serializable")}static deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});s.rotation=t.rotation;const[r,a]=s.pageDimensions,[o,l,u,c]=s.getRectInCurrentCoords(t.rect,a);return s.x=o/r,s.y=l/a,s.width=u/r,s.height=c/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",h(this,Ko)),this.div.removeEventListener("focusout",h(this,Yo)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,si)&&(clearTimeout(h(this,si)),S(this,si,null)),x(this,Ra,Vl).call(this),this.removeEditToolbar(),h(this,cn)){for(const t of h(this,cn).values())clearTimeout(t);S(this,cn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(x(this,Fm,s2).call(this),h(this,Pe).classList.remove("hidden"),Id(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),S(this,Ma,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,Pe).children;if(!h(this,Vn)){S(this,Vn,Array.from(e));const a=x(this,Vm,a2).bind(this),o=x(this,Um,o2).bind(this);for(const l of h(this,Vn)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",a),l.addEventListener("blur",o),l.addEventListener("focus",x(this,Hm,l2).bind(this,u)),me._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(c=>l.setAttribute("aria-label",c))}}const i=h(this,Vn)[0];let s=0;for(const a of e){if(a===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(h(this,Vn).length/4);if(r!==s){if(r<s)for(let o=0;o<s-r;o++)h(this,Pe).append(h(this,Pe).firstChild);else if(r>s)for(let o=0;o<r-s;o++)h(this,Pe).firstChild.before(h(this,Pe).lastChild);let a=0;for(const o of e){const l=h(this,Vn)[a++].getAttribute("data-resizer-name");me._l10nPromise.get(`pdfjs-editor-resizer-label-${l}`).then(u=>o.setAttribute("aria-label",u))}}x(this,Vd,zm).call(this,0),S(this,gs,!0),h(this,Pe).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,gs)&&x(this,Bd,jm).call(this,h(this,Nd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){x(this,Ra,Vl).call(this),this.div.focus()}select(){var t,e;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!h(this,je)){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=h(this,je))==null||s.show())});return}(e=h(this,je))==null||e.show()}unselect(){var t,e,i,s;(t=h(this,Pe))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=h(this,je))==null||s.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,su)}set isEditing(t){S(this,su,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){S(this,na,!0);const i=t/e,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,cn)||S(this,cn,new Map);const{action:i}=t;let s=h(this,cn).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),h(this,cn).delete(i),h(this,cn).size===0&&S(this,cn,null)},me._telemetryTimeout),h(this,cn).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),S(this,qo,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,qo,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Vn=new WeakMap,ze=new WeakMap,qo=new WeakMap,na=new WeakMap,Pe=new WeakMap,Ma=new WeakMap,Ko=new WeakMap,Yo=new WeakMap,je=new WeakMap,Nd=new WeakMap,Pa=new WeakMap,ii=new WeakMap,su=new WeakMap,ia=new WeakMap,gs=new WeakMap,si=new WeakMap,Xo=new WeakMap,Zo=new WeakMap,cn=new WeakMap,ru=new WeakMap,Im=new WeakMap,au=new WeakSet,Dm=function([n,t],e,i){[e,i]=this.screenToPageTranslation(e,i),this.x+=e/n,this.y+=i/t,this.fixAndSetPosition()},jd=new WeakSet,Om=function(n,t,e){switch(e){case 90:return[t,-n];case 180:return[-n,-t];case 270:return[-t,n];default:return[n,t]}},ou=new WeakSet,qp=function(n){switch(n){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}},Fm=new WeakSet,s2=function(){if(h(this,Pe))return;S(this,Pe,document.createElement("div")),h(this,Pe).classList.add("resizers");const n=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of n){const e=document.createElement("div");h(this,Pe).append(e),e.classList.add("resizer",t),e.setAttribute("data-resizer-name",t),e.addEventListener("pointerdown",x(this,Nm,Gw).bind(this,t)),e.addEventListener("contextmenu",Xe),e.tabIndex=-1}this.div.prepend(h(this,Pe))},Nm=new WeakSet,Gw=function(n,t){var e;t.preventDefault();const{isMac:i}=Ze.platform;if(t.button!==0||t.ctrlKey&&i)return;(e=h(this,ze))==null||e.toggle(!1);const s=x(this,Bd,jm).bind(this,n),r=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,a),window.addEventListener("contextmenu",Xe);const o=this.x,l=this.y,u=this.width,c=this.height,d=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var y;this.parent.togglePointerEvents(!0),(y=h(this,ze))==null||y.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",s,a),window.removeEventListener("contextmenu",Xe),this.parent.div.style.cursor=d,this.div.style.cursor=p,x(this,lu,Kp).call(this,o,l,u,c)};window.addEventListener("pointerup",g),window.addEventListener("blur",g)},lu=new WeakSet,Kp=function(n,t,e,i){const s=this.x,r=this.y,a=this.width,o=this.height;s===n&&r===t&&a===e&&o===i||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=s,this.y=r;const[l,u]=this.parentDimensions;this.setDims(l*a,u*o),this.fixAndSetPosition()},undo:()=>{this.width=e,this.height=i,this.x=n,this.y=t;const[l,u]=this.parentDimensions;this.setDims(l*e,u*i),this.fixAndSetPosition()},mustExec:!0})},Bd=new WeakSet,jm=function(n,t){const[e,i]=this.parentDimensions,s=this.x,r=this.y,a=this.width,o=this.height,l=ri.MIN_SIZE/e,u=ri.MIN_SIZE/i,c=H=>Math.round(H*1e4)/1e4,d=x(this,ou,qp).call(this,this.rotation),p=(H,B)=>[d[0]*H+d[2]*B,d[1]*H+d[3]*B],g=x(this,ou,qp).call(this,360-this.rotation),y=(H,B)=>[g[0]*H+g[2]*B,g[1]*H+g[3]*B];let b,A,E=!1,k=!1;switch(n){case"topLeft":E=!0,b=(H,B)=>[0,0],A=(H,B)=>[H,B];break;case"topMiddle":b=(H,B)=>[H/2,0],A=(H,B)=>[H/2,B];break;case"topRight":E=!0,b=(H,B)=>[H,0],A=(H,B)=>[0,B];break;case"middleRight":k=!0,b=(H,B)=>[H,B/2],A=(H,B)=>[0,B/2];break;case"bottomRight":E=!0,b=(H,B)=>[H,B],A=(H,B)=>[0,0];break;case"bottomMiddle":b=(H,B)=>[H/2,B],A=(H,B)=>[H/2,0];break;case"bottomLeft":E=!0,b=(H,B)=>[0,B],A=(H,B)=>[H,0];break;case"middleLeft":k=!0,b=(H,B)=>[0,B/2],A=(H,B)=>[H,B/2];break}const C=b(a,o),P=A(a,o);let R=p(...P);const O=c(s+R[0]),D=c(r+R[1]);let _=1,T=1,[F,j]=this.screenToPageTranslation(t.movementX,t.movementY);if([F,j]=y(F/e,j/i),E){const H=Math.hypot(a,o);_=T=Math.max(Math.min(Math.hypot(P[0]-C[0]-F,P[1]-C[1]-j)/H,1/a,1/o),l/a,u/o)}else k?_=Math.max(l,Math.min(1,Math.abs(P[0]-C[0]-F)))/a:T=Math.max(u,Math.min(1,Math.abs(P[1]-C[1]-j)))/o;const V=c(a*_),U=c(o*T);R=p(...A(V,U));const Y=O-R[0],G=D-R[1];this.width=V,this.height=U,this.x=Y,this.y=G,this.setDims(e*V,i*U),this.fixAndSetPosition()},Wd=new WeakSet,Bm=function(n){const{isMac:t}=Ze.platform;n.ctrlKey&&!t||n.shiftKey||n.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Wm=new WeakSet,r2=function(n){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let e,i;t&&(this.div.classList.add("moving"),e={passive:!0,capture:!0},S(this,Xo,n.clientX),S(this,Zo,n.clientY),i=r=>{const{clientX:a,clientY:o}=r,[l,u]=this.screenToPageTranslation(a-h(this,Xo),o-h(this,Zo));S(this,Xo,a),S(this,Zo,o),this._uiManager.dragSelectedEditors(l,u)},window.addEventListener("pointermove",i,e));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,e)),S(this,Pa,!1),this._uiManager.endDragSession()||x(this,Wd,Bm).call(this,n)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},Vm=new WeakSet,a2=function(n){ri._resizerKeyboardManager.exec(this,n)},Um=new WeakSet,o2=function(n){var t;h(this,gs)&&((t=n.relatedTarget)==null?void 0:t.parentNode)!==h(this,Pe)&&x(this,Ra,Vl).call(this)},Hm=new WeakSet,l2=function(n){S(this,Nd,h(this,gs)?n:"")},Vd=new WeakSet,zm=function(n){if(h(this,Vn))for(const t of h(this,Vn))t.tabIndex=n},Ra=new WeakSet,Vl=function(){if(S(this,gs,!1),x(this,Vd,zm).call(this,-1),h(this,Ma)){const{savedX:n,savedY:t,savedWidth:e,savedHeight:i}=h(this,Ma);x(this,lu,Kp).call(this,n,t,e,i),S(this,Ma,null)}},v(ri,jd),pt(ri,"_borderLineWidth",-1),pt(ri,"_colorManager",new xF),pt(ri,"_zIndex",1),pt(ri,"_telemetryTimeout",1e3);let Nt=ri;class SF extends Nt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const qw=3285377520,on=4294901760,Mn=65535;class h2{constructor(t){this.h1=t?t&4294967295:qw,this.h2=t?t&4294967295:qw}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let b=0,A=t.length;b<A;b++){const E=t.charCodeAt(b);E<=255?e[i++]=E:(e[i++]=E>>>8,e[i++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,a=new Uint32Array(e.buffer,0,s);let o=0,l=0,u=this.h1,c=this.h2;const d=3432918353,p=461845907,g=d&Mn,y=p&Mn;for(let b=0;b<s;b++)b&1?(o=a[b],o=o*d&on|o*g&Mn,o=o<<15|o>>>17,o=o*p&on|o*y&Mn,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[b],l=l*d&on|l*g&Mn,l=l<<15|l>>>17,l=l*p&on|l*y&Mn,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,r){case 3:o^=e[s*4+2]<<16;case 2:o^=e[s*4+1]<<8;case 1:o^=e[s*4],o=o*d&on|o*g&Mn,o=o<<15|o>>>17,o=o*p&on|o*y&Mn,s&1?u^=o:c^=o}this.h1=u,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&on|t*36045&Mn,e=e*4283543511&on|((e<<16|t>>>16)*2950163797&on)>>>16,t^=e>>>1,t=t*444984403&on|t*60499&Mn,e=e*3301882366&on|((e<<16|t>>>16)*3120437893&on)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const $m=Object.freeze({map:null,hash:"",transfer:void 0});var za,Ae,Gm,c2;class Cy{constructor(){v(this,Gm),v(this,za,!1),v(this,Ae,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=h(this,Ae).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return h(this,Ae).get(t)}remove(t){if(h(this,Ae).delete(t),h(this,Ae).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Ae).values())if(e instanceof Nt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=h(this,Ae).get(t);let s=!1;if(i!==void 0)for(const[r,a]of Object.entries(e))i[r]!==a&&(s=!0,i[r]=a);else s=!0,h(this,Ae).set(t,e);s&&x(this,Gm,c2).call(this),e instanceof Nt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Ae).has(t)}getAll(){return h(this,Ae).size>0?by(h(this,Ae)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return h(this,Ae).size}resetModified(){h(this,za)&&(S(this,za,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new u2(this)}get serializable(){if(h(this,Ae).size===0)return $m;const t=new Map,e=new h2,i=[],s=Object.create(null);let r=!1;for(const[a,o]of h(this,Ae)){const l=o instanceof Nt?o.serialize(!1,s):o;l&&(t.set(a,l),e.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of t.values())a.bitmap&&i.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:$m}get editorStats(){let t=null;const e=new Map;for(const i of h(this,Ae).values()){if(!(i instanceof Nt))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;e.has(r)||e.set(r,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const a=t[r]||(t[r]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[i,s]of e)t[i]=s.computeTelemetryFinalData(t[i]);return t}}za=new WeakMap,Ae=new WeakMap,Gm=new WeakSet,c2=function(){h(this,za)||(S(this,za,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var hu;class u2 extends Cy{constructor(t){super(),v(this,hu,void 0);const{map:e,hash:i,transfer:s}=t.serializable,r=structuredClone(e,s?{transfer:s}:null);S(this,hu,{map:r,hash:i,transfer:s})}get print(){Dt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,hu)}}hu=new WeakMap;var Qo;class EF{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){v(this,Qo,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,Qo).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,Qo).has(t.loadedName))){if(ne(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:r}=t,a=new FontFace(i,s,r);this.addNativeFontFace(a);try{await a.load(),h(this,Qo).add(i),e==null||e(t)}catch{bt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Dt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw bt(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ct(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let t=!1;return(De||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ct(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(ne(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(C,P){return C.charCodeAt(P)<<24|C.charCodeAt(P+1)<<16|C.charCodeAt(P+2)<<8|C.charCodeAt(P+3)&255}function s(C,P,R,O){const D=C.substring(0,P),_=C.substring(P+R);return D+O+_}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function c(C,P){if(++u>30){bt("Load test font never loaded."),P();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(c.bind(null,C,P))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=s(p,976,d.length,d);const g=16,y=1482184792;let b=i(p,g);for(r=0,a=d.length-3;r<a;r+=4)b=b-y+i(d,r)|0;r<d.length&&(b=b-y+i(d+"XXX",r)|0),p=s(p,g,4,sF(b));const A=`url(data:font/opentype;base64,${btoa(p)});`,E=`@font-face {font-family:"${d}";src:${A}}`;this.insertRule(E);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const C of[t.loadedName,d]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=C,k.append(P)}this._document.body.append(k),c(d,()=>{k.remove(),e.complete()})}}Qo=new WeakMap;class kF{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e=DS(this.data),i=`url(data:${this.mimetype};base64,${btoa(e)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${i}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${i}}`}return(t=this._inspectFont)==null||t.call(this,this,i),s}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(r){bt(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(r,a){};const s=[];for(let r=0,a=i.length;r<a;)switch(i[r++]){case Zn.BEZIER_CURVE_TO:{const[o,l,u,c,d,p]=i.slice(r,r+6);s.push(g=>g.bezierCurveTo(o,l,u,c,d,p)),r+=6}break;case Zn.MOVE_TO:{const[o,l]=i.slice(r,r+2);s.push(u=>u.moveTo(o,l)),r+=2}break;case Zn.LINE_TO:{const[o,l]=i.slice(r,r+2);s.push(u=>u.lineTo(o,l)),r+=2}break;case Zn.QUADRATIC_CURVE_TO:{const[o,l,u,c]=i.slice(r,r+4);s.push(d=>d.quadraticCurveTo(o,l,u,c)),r+=4}break;case Zn.RESTORE:s.push(o=>o.restore());break;case Zn.SAVE:s.push(o=>o.save());break;case Zn.SCALE:ne(s.length===2,"Scale command is only valid at the third position.");break;case Zn.TRANSFORM:{const[o,l,u,c,d,p]=i.slice(r,r+6);s.push(g=>g.transform(o,l,u,c,d,p)),r+=6}break;case Zn.TRANSLATE:{const[o,l]=i.slice(r,r+2);s.push(u=>u.translate(o,l)),r+=2}break}return this.compiledGlyphs[e]=function(r,a){s[0](r),s[1](r),r.scale(a,-a);for(let o=2,l=s.length;o<l;o++)s[o](r)}}}if(De){var qm=Promise.withResolvers(),Ud=null;(async()=>{const n=await Ph(()=>import("./empty-GlqisfcO-CRMO4_-l.js"),[]),t=await Ph(()=>import("./index-BIqdkLuE-lI_fVCha.js"),__vite__mapDeps([0,1,2,3])).then(a=>a.i),e=await Ph(()=>import("./index-DFn6bF3J-ClYEa7OM.js"),__vite__mapDeps([4,0,1,2,3])).then(a=>a.i),i=await Ph(()=>import("./url-Dkx9cvHv-D965TLM6.js"),__vite__mapDeps([1,2,3])).then(a=>a.u);let s,r;return new Map(Object.entries({fs:n,http:t,https:e,url:i,canvas:s,path2d:r}))})().then(n=>{Ud=n,qm.resolve()},n=>{bt(`loadPackages: ${n}`),Ud=new Map,qm.resolve()})}class Kn{static get promise(){return qm.promise}static get(t){return Ud==null?void 0:Ud.get(t)}}const d2=function(n){return Kn.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class _F extends Yf{}class CF extends Xf{_createCanvas(t,e){return Kn.get("canvas").createCanvas(t,e)}}class TF extends Zf{_fetchData(t,e){return d2(t).then(i=>({cMapData:i,compressionType:e}))}}class MF extends Qf{_fetchData(t){return d2(t)}}const We={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Km(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class Ch{constructor(){this.constructor===Ch&&Dt("Cannot initialize BaseShadingPattern.")}getPattern(){Dt("Abstract method `getPattern` called.")}}class PF extends Ch{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let r;if(s===We.STROKE||s===We.FILL){const a=e.current.getClippedPathBoundingBox(s,Ut(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=e.cachedCanvases.getCanvas("pattern",o,l,!0),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),i=Q.transform(i,[1,0,0,1,a[0],a[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),Km(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=t.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);r.setTransform(d)}else Km(t,this._bbox),r=this._createGradient(t);return r}}function Yp(n,t,e,i,s,r,a,o){const l=t.coords,u=t.colors,c=n.data,d=n.width*4;let p;l[e+1]>l[i+1]&&(p=e,e=i,i=p,p=r,r=a,a=p),l[i+1]>l[s+1]&&(p=i,i=s,s=p,p=a,a=o,o=p),l[e+1]>l[i+1]&&(p=e,e=i,i=p,p=r,r=a,a=p);const g=(l[e]+t.offsetX)*t.scaleX,y=(l[e+1]+t.offsetY)*t.scaleY,b=(l[i]+t.offsetX)*t.scaleX,A=(l[i+1]+t.offsetY)*t.scaleY,E=(l[s]+t.offsetX)*t.scaleX,k=(l[s+1]+t.offsetY)*t.scaleY;if(y>=k)return;const C=u[r],P=u[r+1],R=u[r+2],O=u[a],D=u[a+1],_=u[a+2],T=u[o],F=u[o+1],j=u[o+2],V=Math.round(y),U=Math.round(k);let Y,G,H,B,it,q,At,gt;for(let z=V;z<=U;z++){if(z<A){const et=z<y?0:(y-z)/(y-A);Y=g-(g-b)*et,G=C-(C-O)*et,H=P-(P-D)*et,B=R-(R-_)*et}else{let et;z>k?et=1:A===k?et=0:et=(A-z)/(A-k),Y=b-(b-E)*et,G=O-(O-T)*et,H=D-(D-F)*et,B=_-(_-j)*et}let nt;z<y?nt=0:z>k?nt=1:nt=(y-z)/(y-k),it=g-(g-E)*nt,q=C-(C-T)*nt,At=P-(P-F)*nt,gt=R-(R-j)*nt;const tt=Math.round(Math.min(Y,it)),J=Math.round(Math.max(Y,it));let st=d*z+tt*4;for(let et=tt;et<=J;et++)nt=(Y-et)/(Y-it),nt<0?nt=0:nt>1&&(nt=1),c[st++]=G-(G-q)*nt|0,c[st++]=H-(H-At)*nt|0,c[st++]=B-(B-gt)*nt|0,c[st++]=255}}function RF(n,t,e){const i=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(r=0;r<l;r++){let c=r*o;for(let d=0;d<u;d++,c++)Yp(n,e,i[c],i[c+1],i[c+o],s[c],s[c+1],s[c+o]),Yp(n,e,i[c+o+1],i[c+1],i[c+o],s[c+o+1],s[c+1],s[c+o])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)Yp(n,e,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class LF extends Ch{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const s=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-s,o=Math.ceil(this._bounds[3])-r,l=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),u=Math.min(Math.ceil(Math.abs(o*t[1]*1.1)),3e3),c=a/l,d=o/u,p={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-r,scaleX:1/c,scaleY:1/d},g=l+2*2,y=u+2*2,b=i.getCanvas("mesh",g,y,!1),A=b.context,E=A.createImageData(l,u);if(e){const k=E.data;for(let C=0,P=k.length;C<P;C+=4)k[C]=e[0],k[C+1]=e[1],k[C+2]=e[2],k[C+3]=255}for(const k of this._figures)RF(E,k,p);return A.putImageData(E,2,2),{canvas:b.canvas,offsetX:s-2*c,offsetY:r-2*d,scaleX:c,scaleY:d}}getPattern(t,e,i,s){Km(t,this._bbox);let r;if(s===We.SHADING)r=Q.singularValueDecompose2dScale(Ut(t));else if(r=Q.singularValueDecompose2dScale(e.baseTransform),this.matrix){const o=Q.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,s===We.SHADING?null:this._background,e.cachedCanvases);return s!==We.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class IF extends Ch{getPattern(){return"hotpink"}}function DF(n){switch(n[0]){case"RadialAxial":return new PF(n);case"Mesh":return new LF(n);case"Dummy":return new IF}throw new Error(`Unknown IR type: ${n[0]}`)}const Kw={COLORED:1,UNCOLORED:2},f2=class p2{constructor(t,e,i,s,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(t){const e=this.operatorList,i=this.bbox,s=this.xstep,r=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;Gf("TilingType: "+o);const c=i[0],d=i[1],p=i[2],g=i[3],y=Q.singularValueDecompose2dScale(this.matrix),b=Q.singularValueDecompose2dScale(this.baseTransform),A=[y[0]*b[0],y[1]*b[1]],E=this.getSizeAndScale(s,this.ctx.canvas.width,A[0]),k=this.getSizeAndScale(r,this.ctx.canvas.height,A[1]),C=t.cachedCanvases.getCanvas("pattern",E.size,k.size,!0),P=C.context,R=u.createCanvasGraphics(P);R.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(R,a,l);let O=c,D=d,_=p,T=g;return c<0&&(O=0,_+=Math.abs(c)),d<0&&(D=0,T+=Math.abs(d)),P.translate(-(E.scale*O),-(k.scale*D)),R.transform(E.scale,0,0,k.scale,0,0),P.save(),this.clipBbox(R,O,D,_,T),R.baseTransform=Ut(R.ctx),R.executeOperatorList(e),R.endDrawing(),{canvas:C.canvas,scaleX:E.scale,scaleY:k.scale,offsetX:O,offsetY:D}}getSizeAndScale(t,e,i){t=Math.abs(t);const s=Math.max(p2.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=s?r=s:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,s,r){const a=s-e,o=r-i;t.ctx.rect(e,i,a,o),t.current.updateRectMinMax(Ut(t.ctx),[e,i,s,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,r=t.current;switch(e){case Kw.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case Kw.UNCOLORED:const o=Q.makeHexColor(i[0],i[1],i[2]);s.fillStyle=o,s.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new iF(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,s){let r=i;s!==We.SHADING&&(r=Q.transform(r,e.baseTransform),this.matrix&&(r=Q.transform(r,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};pt(f2,"MAX_PATTERN_SIZE",3e3);let OF=f2;function FF({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=Ze.isLittleEndian?4278190080:255,[l,u]=a?[r,o]:[o,r],c=i>>3,d=i&7,p=n.length;e=new Uint32Array(e.buffer);let g=0;for(let y=0;y<s;y++){for(const A=t+c;t<A;t++){const E=t<p?n[t]:255;e[g++]=E&128?u:l,e[g++]=E&64?u:l,e[g++]=E&32?u:l,e[g++]=E&16?u:l,e[g++]=E&8?u:l,e[g++]=E&4?u:l,e[g++]=E&2?u:l,e[g++]=E&1?u:l}if(d===0)continue;const b=t<p?n[t++]:255;for(let A=0;A<d;A++)e[g++]=b&1<<7-A?u:l}return{srcPos:t,destPos:g}}const Yw=16,Xw=100,NF=15,Zw=10,Qw=1e3,Ge=16;function jF(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,r,a,o){t.transform(e,i,s,r,a,o),this.__originalTransform(e,i,s,r,a,o)},n.setTransform=function(e,i,s,r,a,o){t.setTransform(e,i,s,r,a,o),this.__originalSetTransform(e,i,s,r,a,o)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,r,a,o){t.bezierCurveTo(e,i,s,r,a,o),this.__originalBezierCurveTo(e,i,s,r,a,o)},n.rect=function(e,i,s,r){t.rect(e,i,s,r),this.__originalRect(e,i,s,r)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class BF{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function $h(n,t,e,i,s,r,a,o,l,u){const[c,d,p,g,y,b]=Ut(n);if(d===0&&p===0){const k=a*c+y,C=Math.round(k),P=o*g+b,R=Math.round(P),O=(a+l)*c+y,D=Math.abs(Math.round(O)-C)||1,_=(o+u)*g+b,T=Math.abs(Math.round(_)-R)||1;return n.setTransform(Math.sign(c),0,0,Math.sign(g),C,R),n.drawImage(t,e,i,s,r,0,0,D,T),n.setTransform(c,d,p,g,y,b),[D,T]}if(c===0&&g===0){const k=o*p+y,C=Math.round(k),P=a*d+b,R=Math.round(P),O=(o+u)*p+y,D=Math.abs(Math.round(O)-C)||1,_=(a+l)*d+b,T=Math.abs(Math.round(_)-R)||1;return n.setTransform(0,Math.sign(d),Math.sign(p),0,C,R),n.drawImage(t,e,i,s,r,0,0,T,D),n.setTransform(c,d,p,g,y,b),[T,D]}n.drawImage(t,e,i,s,r,a,o,l,u);const A=Math.hypot(c,d),E=Math.hypot(p,g);return[A*l,E*u]}function WF(n){const{width:t,height:e}=n;if(t>Qw||e>Qw)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a=new Uint8Array(r*(e+1)),o,l,u;const c=t+7&-8;let d=new Uint8Array(c*e),p=0;for(const A of n.data){let E=128;for(;E>0;)d[p++]=A&E?0:255,E>>=1}let g=0;for(p=0,d[p]!==0&&(a[0]=1,++g),l=1;l<t;l++)d[p]!==d[p+1]&&(a[l]=d[p]?2:1,++g),p++;for(d[p]!==0&&(a[l]=2,++g),o=1;o<e;o++){p=o*c,u=o*r,d[p-c]!==d[p]&&(a[u]=d[p]?1:8,++g);let A=(d[p]?4:0)+(d[p-c]?8:0);for(l=1;l<t;l++)A=(A>>2)+(d[p+1]?4:0)+(d[p-c+1]?8:0),s[A]&&(a[u+l]=s[A],++g),p++;if(d[p-c]!==d[p]&&(a[u+l]=d[p]?2:4,++g),g>i)return null}for(p=c*(e-1),u=o*r,d[p]!==0&&(a[u]=8,++g),l=1;l<t;l++)d[p]!==d[p+1]&&(a[u+l]=d[p]?4:8,++g),p++;if(d[p]!==0&&(a[u+l]=4,++g),g>i)return null;const y=new Int32Array([0,r,-1,0,-r,0,0,0,1]),b=new Path2D;for(o=0;g&&o<=e;o++){let A=o*r;const E=A+t;for(;A<E&&!a[A];)A++;if(A===E)continue;b.moveTo(A%r,o);const k=A;let C=a[A];do{const P=y[C];do A+=P;while(!a[A]);const R=a[A];R!==5&&R!==10?(C=R,a[A]=0):(C=R&51*C>>4,a[A]&=C>>2|C<<2),b.lineTo(A%r,A/r|0),a[A]||--g}while(k!==A);--o}return d=null,a=null,function(A){A.save(),A.scale(1/t,-1/e),A.translate(0,-e),A.fill(b),A.beginPath(),A.restore()}}class Jw{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=LS,this.textMatrixScale=1,this.fontMatrix=Kg,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=we.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=Q.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=Q.applyTransform(e,t),s=Q.applyTransform(e.slice(2),t),r=Q.applyTransform([e[0],e[3]],t),a=Q.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],s[0],r[0],a[0]),this.minY=Math.min(this.minY,i[1],s[1],r[1],a[1]),this.maxX=Math.max(this.maxX,i[0],s[0],r[0],a[0]),this.maxY=Math.max(this.maxY,i[1],s[1],r[1],a[1])}updateScalingPathMinMax(t,e){Q.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,s,r,a,o,l,u,c){const d=Q.bezierBoundingBox(e,i,s,r,a,o,l,u,c);c||this.updateRectMinMax(t,d)}getPathBoundingBox(t=We.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===We.STROKE){e||Dt("Stroke bounding box must include transform.");const s=Q.singularValueDecompose2dScale(e),r=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;i[0]-=r,i[1]-=a,i[2]+=r,i[3]+=a}return i}updateClipFromPath(){const t=Q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=We.FILL,e=null){return Q.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function tb(n,t){if(typeof ImageData<"u"&&t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%Ge,r=(e-s)/Ge,a=s===0?r:r+1,o=n.createImageData(i,Ge);let l=0,u;const c=t.data,d=o.data;let p,g,y,b;if(t.kind===Ac.GRAYSCALE_1BPP){const A=c.byteLength,E=new Uint32Array(d.buffer,0,d.byteLength>>2),k=E.length,C=i+7>>3,P=4294967295,R=Ze.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(y=p<r?Ge:s,u=0,g=0;g<y;g++){const O=A-l;let D=0;const _=O>C?i:O*8-7,T=_&-8;let F=0,j=0;for(;D<T;D+=8)j=c[l++],E[u++]=j&128?P:R,E[u++]=j&64?P:R,E[u++]=j&32?P:R,E[u++]=j&16?P:R,E[u++]=j&8?P:R,E[u++]=j&4?P:R,E[u++]=j&2?P:R,E[u++]=j&1?P:R;for(;D<_;D++)F===0&&(j=c[l++],F=128),E[u++]=j&F?P:R,F>>=1}for(;u<k;)E[u++]=0;n.putImageData(o,0,p*Ge)}}else if(t.kind===Ac.RGBA_32BPP){for(g=0,b=i*Ge*4,p=0;p<r;p++)d.set(c.subarray(l,l+b)),l+=b,n.putImageData(o,0,g),g+=Ge;p<a&&(b=i*s*4,d.set(c.subarray(l,l+b)),n.putImageData(o,0,g))}else if(t.kind===Ac.RGB_24BPP)for(y=Ge,b=i*y,p=0;p<a;p++){for(p>=r&&(y=s,b=i*y),u=0,g=b;g--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;n.putImageData(o,0,p*Ge)}else throw new Error(`bad image kind: ${t.kind}`)}function eb(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%Ge,r=(e-s)/Ge,a=s===0?r:r+1,o=n.createImageData(i,Ge);let l=0;const u=t.data,c=o.data;for(let d=0;d<a;d++){const p=d<r?Ge:s;({srcPos:l}=FF({src:u,srcPos:l,dest:c,width:i,height:p,nonBlackColor:0})),n.putImageData(o,0,d*Ge)}}function Ao(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function Gh(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!De){const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}}function nb(n,t){if(t)return!0;const e=Q.singularValueDecompose2dScale(n);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*ho.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const VF=["butt","round","square"],UF=["miter","round","bevel"],HF={},ib={};var cu,Ym,uu,Xm;const zF=class g2{constructor(t,e,i,s,r,{optionalContentConfig:a,markedContentStack:o=null},l,u){v(this,cu),v(this,uu),this.ctx=t,this.current=new Jw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new BF(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ut(this.compositeCtx))}this.ctx.save(),Gh(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ut(this.ctx)}executeOperatorList(t,e,i,s){const r=t.argsArray,a=t.fnArray;let o=e||0;const l=r.length;if(l===o)return o;const u=l-o>Zw&&typeof i=="function",c=u?Date.now()+NF:0;let d=0;const p=this.commonObjs,g=this.objs;let y;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,i),o;if(y=a[o],y!==En.dependency)this[y].apply(this,r[o]);else for(const b of r[o]){const A=b.startsWith("g_")?p:g;if(!A.has(b))return A.get(b,i),o}if(o++,o===l)return o;if(u&&++d>Zw){if(Date.now()>c)return i(),o;d=0}}}endDrawing(){x(this,cu,Ym).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),x(this,uu,Xm).call(this)}_scaleImage(t,e){const i=t.width,s=t.height;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=i,l=s,u="prescale1",c,d;for(;r>2&&o>1||a>2&&l>1;){let p=o,g=l;r>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/p),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),c=this.cachedCanvases.getCanvas(u,p,g),d=c.context,d.clearRect(0,0,p,g),d.drawImage(t,0,0,o,l,0,0,p,g),t=c.canvas,o=p,l=g,u=u==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:s}=t,r=this.current.fillColor,a=this.current.patternFill,o=Ut(e);let l,u,c,d;if((t.bitmap||t.data)&&t.count>1){const _=t.bitmap||t.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(_),l||(l=new Map,this._cachedBitmapsMap.set(_,l));const T=l.get(u);if(T&&!a){const F=Math.round(Math.min(o[0],o[2])+o[4]),j=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:T,offsetX:F,offsetY:j}}c=T}c||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),eb(d.context,t));let p=Q.transform(o,[1/i,0,0,-1/s,0,0]);p=Q.transform(p,[1,0,0,1,0,-s]);const[g,y,b,A]=Q.getAxialAlignedBoundingBox([0,0,i,s],p),E=Math.round(b-g)||1,k=Math.round(A-y)||1,C=this.cachedCanvases.getCanvas("fillCanvas",E,k),P=C.context,R=g,O=y;P.translate(-R,-O),P.transform(...p),c||(c=this._scaleImage(d.canvas,Qn(P)),c=c.img,l&&a&&l.set(u,c)),P.imageSmoothingEnabled=nb(Ut(P),t.interpolate),$h(P,c,0,0,c.width,c.height,0,0,i,s),P.globalCompositeOperation="source-in";const D=Q.transform(Qn(P),[1,0,0,1,-R,-O]);return P.fillStyle=a?r.getPattern(e,this,D,We.FILL):r,P.fillRect(0,0,i,s),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,C.canvas)),{canvas:C.canvas,offsetX:Math.round(R),offsetY:Math.round(O)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=VF[t]}setLineJoin(t){this.ctx.lineJoin=UF[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...Ut(this.suspendedCtx)),Ao(this.suspendedCtx,r),jF(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ao(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const r=s[0],a=s[1],o=s[2]-r,l=s[3]-a;o===0||l===0||(this.genericComposeSMask(e.context,i,o,l,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,r,a,o,l,u,c,d){let p=t.canvas,g=l-c,y=u-d;if(a){if(g<0||y<0||g+i>p.width||y+s>p.height){const A=this.cachedCanvases.getCanvas("maskExtension",i,s),E=A.context;E.drawImage(p,-g,-y),a.some(k=>k!==0)&&(E.globalCompositeOperation="destination-atop",E.fillStyle=Q.makeHexColor(...a),E.fillRect(0,0,i,s),E.globalCompositeOperation="source-over"),p=A.canvas,g=y=0}else if(a.some(A=>A!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(g,y,i,s),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=Q.makeHexColor(...a),t.fillRect(g,y,i,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(l,u,i,s),e.clip(b),e.globalCompositeOperation="destination-in",e.drawImage(p,g,y,i,s,l,u,i,s),e.restore()}save(){this.inSMaskMode?(Ao(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ao(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,s,r,a){this.ctx.transform(t,e,i,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const s=this.ctx,r=this.current;let a=r.x,o=r.y,l,u;const c=Ut(s),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,p=d?i.slice(0):null;for(let g=0,y=0,b=t.length;g<b;g++)switch(t[g]|0){case En.rectangle:a=e[y++],o=e[y++];const A=e[y++],E=e[y++],k=a+A,C=o+E;s.moveTo(a,o),A===0||E===0?s.lineTo(k,C):(s.lineTo(k,o),s.lineTo(k,C),s.lineTo(a,C)),d||r.updateRectMinMax(c,[a,o,k,C]),s.closePath();break;case En.moveTo:a=e[y++],o=e[y++],s.moveTo(a,o),d||r.updatePathMinMax(c,a,o);break;case En.lineTo:a=e[y++],o=e[y++],s.lineTo(a,o),d||r.updatePathMinMax(c,a,o);break;case En.curveTo:l=a,u=o,a=e[y+4],o=e[y+5],s.bezierCurveTo(e[y],e[y+1],e[y+2],e[y+3],a,o),r.updateCurvePathMinMax(c,l,u,e[y],e[y+1],e[y+2],e[y+3],a,o,p),y+=6;break;case En.curveTo2:l=a,u=o,s.bezierCurveTo(a,o,e[y],e[y+1],e[y+2],e[y+3]),r.updateCurvePathMinMax(c,l,u,a,o,e[y],e[y+1],e[y+2],e[y+3],p),a=e[y+2],o=e[y+3],y+=4;break;case En.curveTo3:l=a,u=o,a=e[y+2],o=e[y+3],s.bezierCurveTo(e[y],e[y+1],a,o,a,o),r.updateCurvePathMinMax(c,l,u,e[y],e[y+1],a,o,a,o,p),y+=4;break;case En.closePath:s.closePath();break}d&&r.updateScalingPathMinMax(c,p),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i!=null&&i.getPattern?(e.save(),e.strokeStyle=i.getPattern(e,this,Qn(e),We.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(e.save(),e.fillStyle=i.getPattern(e,this,Qn(e),We.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=HF}eoClip(){this.pendingClip=ib}beginText(){this.current.textMatrix=LS,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var i;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Kg,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&bt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const a=s.loadedName||"sans-serif",o=((i=s.systemFontInfo)==null?void 0:i.css)||`"${a}", ${s.fallbackName}`;let l="normal";s.black?l="900":s.bold&&(l="bold");const u=s.italic?"italic":"normal";let c=e;e<Yw?c=Yw:e>Xw&&(c=Xw),this.current.fontSizeScale=e/c,this.ctx.font=`${u} ${l} ${c}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,s,r,a){this.current.textMatrix=[t,e,i,s,r,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,s){const r=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,c=l&we.FILL_STROKE_MASK,d=!!(l&we.ADD_TO_PATH_FLAG),p=a.patternFill&&!o.missingFile;let g;(o.disableFontFace||d||p)&&(g=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||p?(r.save(),r.translate(e,i),r.beginPath(),g(r,u),s&&r.setTransform(...s),(c===we.FILL||c===we.FILL_STROKE)&&r.fill(),(c===we.STROKE||c===we.FILL_STROKE)&&r.stroke(),r.restore()):((c===we.FILL||c===we.FILL_STROKE)&&r.fillText(t,e,i),(c===we.STROKE||c===we.FILL_STROKE)&&r.strokeText(t,e,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ut(r),x:e,y:i,fontSize:u,addToPath:g})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return Ct(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const r=this.ctx,a=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,u=e.fontDirection,c=e.textHScale*u,d=t.length,p=i.vertical,g=p?1:-1,y=i.defaultVMetrics,b=s*e.fontMatrix[0],A=e.textRenderingMode===we.FILL&&!i.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),u>0?r.scale(c,-1):r.scale(c,1);let E;if(e.patternFill){r.save();const O=e.fillColor.getPattern(r,this,Qn(r),We.FILL);E=Ut(r),r.restore(),r.fillStyle=O}let k=e.lineWidth;const C=e.textMatrixScale;if(C===0||k===0){const O=e.textRenderingMode&we.FILL_STROKE_MASK;(O===we.STROKE||O===we.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=C;if(a!==1&&(r.scale(a,a),k/=a),r.lineWidth=k,i.isInvalidPDFjsFont){const O=[];let D=0;for(const _ of t)O.push(_.unicode),D+=_.width;r.fillText(O.join(""),0,0),e.x+=D*b*c,r.restore(),this.compose();return}let P=0,R;for(R=0;R<d;++R){const O=t[R];if(typeof O=="number"){P+=g*O*s/1e3;continue}let D=!1;const _=(O.isSpace?l:0)+o,T=O.fontChar,F=O.accent;let j,V,U=O.width;if(p){const G=O.vmetric||y,H=-(O.vmetric?G[1]:U*.5)*b,B=G[2]*b;U=G?-G[0]:U,j=H/a,V=(P+B)/a}else j=P/a,V=0;if(i.remeasure&&U>0){const G=r.measureText(T).width*1e3/s*a;if(U<G&&this.isFontSubpixelAAEnabled){const H=U/G;D=!0,r.save(),r.scale(H,1),j/=H}else U!==G&&(j+=(U-G)/2e3*s/a)}if(this.contentVisible&&(O.isInFont||i.missingFile)){if(A&&!F)r.fillText(T,j,V);else if(this.paintChar(T,j,V,E),F){const G=j+s*F.offset.x/a,H=V-s*F.offset.y/a;this.paintChar(F.fontChar,G,H,E)}}const Y=p?U*b-_*u:U*b+_*u;P+=Y,D&&r.restore()}p?e.y-=P:e.x+=P*c,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,s=i.font,r=i.fontSize,a=i.fontDirection,o=s.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,c=i.textHScale*a,d=i.fontMatrix||Kg,p=t.length,g=i.textRenderingMode===we.INVISIBLE;let y,b,A,E;if(!(g||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(c,a),y=0;y<p;++y){if(b=t[y],typeof b=="number"){E=o*b*r/1e3,this.ctx.translate(E,0),i.x+=E*c;continue}const k=(b.isSpace?u:0)+l,C=s.charProcOperatorList[b.operatorListId];if(!C){bt(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),e.scale(r,r),e.transform(...d),this.executeOperatorList(C),this.restore()),A=Q.applyTransform([b.width,0],d)[0]*r+k,e.translate(A,0),i.x+=A*c}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,s,r,a){this.ctx.rect(i,s,r-i,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],s=this.baseTransform||Ut(this.ctx),r={createCanvasGraphics:a=>new g2(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new OF(t,i,this.ctx,r,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){const s=Q.makeHexColor(t,e,i);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(t,e,i){const s=Q.makeHexColor(t,e,i);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=DF(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Qn(e),We.SHADING);const s=Qn(e);if(s){const{width:r,height:a}=e.canvas,[o,l,u,c]=Q.getAxialAlignedBoundingBox([0,0,r,a],s);this.ctx.fillRect(o,l,u-o,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Dt("Should not call beginInlineImage")}beginImageData(){Dt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Ut(this.ctx),e)){const i=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],i,s),this.current.updateRectMinMax(Ut(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Gf("TODO: Support non-isolated groups."),t.knockout&&bt("Knockout groups not supported.");const i=Ut(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Q.getAxialAlignedBoundingBox(t.bbox,Ut(e));const r=[0,0,e.canvas.width,e.canvas.height];s=Q.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-a,1),u=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;t.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),p=d.context;p.translate(-a,-o),p.transform(...i),t.smask?this.smaskStack.push({canvas:d.canvas,context:p,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.save()),Ao(e,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Ut(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=Q.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,i,s,r){if(x(this,cu,Ym).call(this),Gh(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],o=e[3]-e[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=o;const[l,u]=Q.singularValueDecompose2dScale(Ut(this.ctx)),{viewportScale:c}=this,d=Math.ceil(a*this.outputScaleX*c),p=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,p);const{canvas:g,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),Gh(this.ctx)}else Gh(this.ctx),this.ctx.rect(e[0],e[1],a,o),this.ctx.clip(),this.endPath()}this.current=new Jw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),x(this,uu,Xm).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=WF(t)),s.compiled)){s.compiled(i);return}const r=this._createMaskCanvas(t),a=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,s=0,r,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=Ut(o);o.transform(e,i,s,r,0,0);const u=this._createMaskCanvas(t);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=a.length;c<d;c+=2){const p=Q.transform(l,[e,i,s,r,a[c],a[c+1]]),[g,y]=Q.applyTransform([0,0],p);o.drawImage(u.canvas,g,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const r of t){const{data:a,width:o,height:l,transform:u}=r,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=c.context;d.save();const p=this.getObject(a,r);eb(d,p),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,Qn(e),We.FILL):i,d.fillRect(0,0,o,l),d.restore(),e.save(),e.transform(...u),e.scale(1,-1),$h(e,c.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){bt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,s){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){bt("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let u=0,c=s.length;u<c;u+=2)l.push({transform:[e,0,0,i,s[u],s[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,s=this.ctx;if(this.save(),!De){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/e,-1/i);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const o=this.cachedCanvases.getCanvas("inlineImage",e,i).context;tb(o,t),r=this.applyTransferMapsToCanvas(o)}const a=this._scaleImage(r,Qn(s));s.imageSmoothingEnabled=nb(Ut(s),t.interpolate),$h(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const r=t.width,a=t.height,o=this.cachedCanvases.getCanvas("inlineImage",r,a).context;tb(o,t),s=this.applyTransferMapsToCanvas(o)}for(const r of e)i.save(),i.transform(...r.transform),i.scale(1,-1),$h(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===ib?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ut(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:r}=this.ctx.getTransform();let a,o;if(i===0&&s===0){const l=Math.abs(e),u=Math.abs(r);if(l===u)if(t===0)a=o=1/l;else{const c=l*t;a=o=c<1?1/c:1}else if(t===0)a=1/l,o=1/u;else{const c=l*t,d=u*t;a=c<1?1/c:1,o=d<1?1/d:1}}else{const l=Math.abs(e*r-i*s),u=Math.hypot(e,i),c=Math.hypot(s,r);if(t===0)a=c/l,o=u/l;else{const d=t*l;a=c>d?c/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[s,r]=this.getScaleForStroking();if(e.lineWidth=i||1,s===1&&r===1){e.stroke();return}const a=e.getLineDash();if(t&&e.save(),e.scale(s,r),a.length>0){const o=Math.max(s,r);e.setLineDash(a.map(l=>l/o)),e.lineDashOffset/=o}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};cu=new WeakSet,Ym=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},uu=new WeakSet,Xm=function(){if(this.pageColors){const n=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(n!=="none"){const t=this.ctx.filter;this.ctx.filter=n,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let du=zF;for(const n in En)du.prototype[n]!==void 0&&(du.prototype[En[n]]=du.prototype[n]);var Hd,zd;class ws{static get workerPort(){return h(this,Hd)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");S(this,Hd,t)}static get workerSrc(){return h(this,zd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");S(this,zd,t)}}Hd=new WeakMap,zd=new WeakMap,v(ws,Hd,null),v(ws,zd,"");const qh={UNKNOWN:0,DATA:1,ERROR:2},Zt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function tn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Dt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Rr(n.message);case"MissingPDFException":return new Pr(n.message);case"PasswordException":return new Xg(n.message,n.code);case"UnexpectedResponseException":return new qf(n.message,n.status);case"UnknownErrorException":return new Zg(n.message,n.details);default:return new Zg(n.message,n.toString())}}var Zm,m2,Qm,v2,Jo,Kh;class tl{constructor(t,e,i){v(this,Zm),v(this,Qm),v(this,Jo),this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const r=s.data;if(r.targetName!==this.sourceName)return;if(r.stream){x(this,Qm,v2).call(this,r);return}if(r.callback){const o=r.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],r.callback===qh.DATA)l.resolve(r.data);else if(r.callback===qh.ERROR)l.reject(tn(r.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[r.action];if(!a)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const o=this.sourceName,l=r.sourceName;new Promise(function(u){u(a(r.data))}).then(function(u){i.postMessage({sourceName:o,targetName:l,callback:qh.DATA,callbackId:r.callbackId,data:u})},function(u){i.postMessage({sourceName:o,targetName:l,callback:qh.ERROR,callbackId:r.callbackId,reason:tn(u)})});return}if(r.streamId){x(this,Zm,m2).call(this,r);return}a(r.data)},i.addEventListener("message",this._onComObjOnMessage)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,i,s){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[r]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:t,streamId:r,data:e,desiredSize:u.desiredSize},s),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[r].pullCall=c,l.postMessage({sourceName:a,targetName:o,stream:Zt.PULL,streamId:r,desiredSize:u.desiredSize}),c.promise},cancel:u=>{ne(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[r].cancelCall=c,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Zt.CANCEL,streamId:r,reason:tn(u)}),c.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Zm=new WeakSet,m2=function(n){const t=n.streamId,e=this.sourceName,i=n.sourceName,s=this.comObj,r=this,a=this.actionHandler[n.action],o={enqueue(l,u=1,c){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:e,targetName:i,stream:Zt.ENQUEUE,streamId:t,chunk:l},c)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:e,targetName:i,stream:Zt.CLOSE,streamId:t}),delete r.streamSinks[t])},error(l){ne(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:e,targetName:i,stream:Zt.ERROR,streamId:t,reason:tn(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:n.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise(function(l){l(a(n.data,o))}).then(function(){s.postMessage({sourceName:e,targetName:i,stream:Zt.START_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:e,targetName:i,stream:Zt.START_COMPLETE,streamId:t,reason:tn(l)})})},Qm=new WeakSet,v2=function(n){const t=n.streamId,e=this.sourceName,i=n.sourceName,s=this.comObj,r=this.streamControllers[t],a=this.streamSinks[t];switch(n.stream){case Zt.START_COMPLETE:n.success?r.startCall.resolve():r.startCall.reject(tn(n.reason));break;case Zt.PULL_COMPLETE:n.success?r.pullCall.resolve():r.pullCall.reject(tn(n.reason));break;case Zt.PULL:if(!a){s.postMessage({sourceName:e,targetName:i,stream:Zt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&n.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=n.desiredSize,new Promise(function(o){var l;o((l=a.onPull)==null?void 0:l.call(a))}).then(function(){s.postMessage({sourceName:e,targetName:i,stream:Zt.PULL_COMPLETE,streamId:t,success:!0})},function(o){s.postMessage({sourceName:e,targetName:i,stream:Zt.PULL_COMPLETE,streamId:t,reason:tn(o)})});break;case Zt.ENQUEUE:if(ne(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(n.chunk);break;case Zt.CLOSE:if(ne(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),x(this,Jo,Kh).call(this,r,t);break;case Zt.ERROR:ne(r,"error should have stream controller"),r.controller.error(tn(n.reason)),x(this,Jo,Kh).call(this,r,t);break;case Zt.CANCEL_COMPLETE:n.success?r.cancelCall.resolve():r.cancelCall.reject(tn(n.reason)),x(this,Jo,Kh).call(this,r,t);break;case Zt.CANCEL:if(!a)break;new Promise(function(o){var l;o((l=a.onCancel)==null?void 0:l.call(a,tn(n.reason)))}).then(function(){s.postMessage({sourceName:e,targetName:i,stream:Zt.CANCEL_COMPLETE,streamId:t,success:!0})},function(o){s.postMessage({sourceName:e,targetName:i,stream:Zt.CANCEL_COMPLETE,streamId:t,reason:tn(o)})}),a.sinkCapability.reject(tn(n.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Jo=new WeakSet,Kh=async function(n,t){var e,i,s;await Promise.allSettled([(e=n.startCall)==null?void 0:e.promise,(i=n.pullCall)==null?void 0:i.promise,(s=n.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var sa,fu;class $F{constructor({parsedData:t,rawData:e}){v(this,sa,void 0),v(this,fu,void 0),S(this,sa,t),S(this,fu,e)}getRaw(){return h(this,fu)}get(t){return h(this,sa).get(t)??null}getAll(){return by(h(this,sa))}has(t){return h(this,sa).has(t)}}sa=new WeakMap,fu=new WeakMap;const $i=Symbol("INTERNAL");var pu,gu,mu,el;class GF{constructor(t,{name:e,intent:i,usage:s}){v(this,pu,!1),v(this,gu,!1),v(this,mu,!1),v(this,el,!0),S(this,pu,!!(t&gn.DISPLAY)),S(this,gu,!!(t&gn.PRINT)),this.name=e,this.intent=i,this.usage=s}get visible(){if(h(this,mu))return h(this,el);if(!h(this,el))return!1;const{print:t,view:e}=this.usage;return h(this,pu)?(e==null?void 0:e.viewState)!=="OFF":h(this,gu)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==$i&&Dt("Internal method `_setVisible` called."),S(this,mu,i),S(this,el,e)}}pu=new WeakMap,gu=new WeakMap,mu=new WeakMap,el=new WeakMap;var js,Ot,nl,il,$d,Jm;class qF{constructor(t,e=gn.DISPLAY){if(v(this,$d),v(this,js,null),v(this,Ot,new Map),v(this,nl,null),v(this,il,null),this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,S(this,il,t.order);for(const i of t.groups)h(this,Ot).set(i.id,new GF(e,i));if(t.baseState==="OFF")for(const i of h(this,Ot).values())i._setVisible($i,!1);for(const i of t.on)h(this,Ot).get(i)._setVisible($i,!0);for(const i of t.off)h(this,Ot).get(i)._setVisible($i,!1);S(this,nl,this.getHash())}}isVisible(t){if(h(this,Ot).size===0)return!0;if(!t)return Gf("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Ot).has(t.id)?h(this,Ot).get(t.id).visible:(bt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return x(this,$d,Jm).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Ot).has(e))return bt(`Optional content group not found: ${e}`),!0;if(h(this,Ot).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Ot).has(e))return bt(`Optional content group not found: ${e}`),!0;if(!h(this,Ot).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Ot).has(e))return bt(`Optional content group not found: ${e}`),!0;if(!h(this,Ot).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Ot).has(e))return bt(`Optional content group not found: ${e}`),!0;if(h(this,Ot).get(e).visible)return!1}return!0}return bt(`Unknown optional content policy ${t.policy}.`),!0}return bt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const i=h(this,Ot).get(t);if(!i){bt(`Optional content group not found: ${t}`);return}i._setVisible($i,!!e,!0),S(this,js,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=h(this,Ot).get(s);if(r)switch(i){case"ON":r._setVisible($i,!0);break;case"OFF":r._setVisible($i,!1);break;case"Toggle":r._setVisible($i,!r.visible);break}}S(this,js,null)}get hasInitialVisibility(){return h(this,nl)===null||this.getHash()===h(this,nl)}getOrder(){return h(this,Ot).size?h(this,il)?h(this,il).slice():[...h(this,Ot).keys()]:null}getGroups(){return h(this,Ot).size>0?by(h(this,Ot)):null}getGroup(t){return h(this,Ot).get(t)||null}getHash(){if(h(this,js)!==null)return h(this,js);const t=new h2;for(const[e,i]of h(this,Ot))t.update(`${e}:${i.visible}`);return S(this,js,t.hexdigest())}}js=new WeakMap,Ot=new WeakMap,nl=new WeakMap,il=new WeakMap,$d=new WeakSet,Jm=function(n){const t=n.length;if(t<2)return!0;const e=n[0];for(let i=1;i<t;i++){const s=n[i];let r;if(Array.isArray(s))r=x(this,$d,Jm).call(this,s);else if(h(this,Ot).has(s))r=h(this,Ot).get(s).visible;else return bt(`Optional content group not found: ${s}`),!0;switch(e){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return e==="And"};class KF{constructor(t,{disableRange:e=!1,disableStream:i=!1}){ne(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),t.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});ne(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ne(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new YF(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new XF(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class YF{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=ky(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class XF{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ZF(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let c=o(e);return c=unescape(c),c=l(c),c=u(c),r(c)}if(e=a(n),e){const c=u(e);return r(c)}if(e=i("filename","i").exec(n),e){e=e[1];let c=o(e);return c=u(c),r(c)}function i(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const p=new TextDecoder(c,{fatal:!0}),g=Kf(d);d=p.decode(g),t=!1}catch{}}return d}function r(c){return t&&/[\x80-\xff]/.test(c)&&(c=s("utf-8",c),t&&(c=s("iso-8859-1",c))),c}function a(c){const d=[];let p;const g=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=g.exec(c))!==null;){let[,b,A,E]=p;if(b=parseInt(b,10),b in d){if(b===0)break;continue}d[b]=[A,E]}const y=[];for(let b=0;b<d.length&&b in d;++b){let[A,E]=d[b];E=o(E),A&&(E=unescape(E),b===0&&(E=l(E))),y.push(E)}return y.join("")}function o(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let p=0;p<d.length;++p){const g=d[p].indexOf('"');g!==-1&&(d[p]=d[p].slice(0,g),d.length=p+1),d[p]=d[p].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const p=c.slice(0,d),g=c.slice(d+1).replace(/^[^']*'/,"");return s(p,g)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,p,g,y){if(g==="q"||g==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,A){return String.fromCharCode(parseInt(A,16))}),s(p,y);try{y=atob(y)}catch{}return s(p,y)})}return""}function Ty({getResponseHeader:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||i||!t||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function My(n){const t=n("Content-Disposition");if(t){let e=ZF(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(ky(e))return e}return null}function tp(n,t){return n===404||n===0&&t.startsWith("file:")?new Pr('Missing PDF "'+t+'".'):new qf(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n)}function y2(n){return n===200||n===206}function w2(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function b2(n){const t=new Headers;for(const e in n){const i=n[e];i!==void 0&&t.append(e,i)}return t}function A2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(bt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class sb{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ne(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new QF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new JF(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class QF{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=b2(this._stream.httpHeaders);const i=e.url;fetch(i,w2(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!y2(s.status))throw tp(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=l=>s.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=Ty({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=My(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Rr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:A2(e),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class JF{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=b2(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${i-1}`);const r=s.url;fetch(r,w2(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!y2(a.status))throw tp(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded}),{value:A2(e),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Xp=200,Zp=206;function t3(n){const t=n.response;return typeof t!="string"?t:Kf(t).buffer}class e3{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const s={begin:t,end:e};for(const r in i)s[r]=i[r];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const a=this.httpHeaders[r];a!==void 0&&e.setRequestHeader(r,a)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Zp):s.expectedStatus=Xp,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var i;const s=this.pendingRequests[t];s&&((i=s.onProgress)==null||i.call(s,e))}onStateChange(t,e){var i,s,r;const a=this.pendingRequests[t];if(!a)return;const o=a.xhr;if(o.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),o.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],o.status===0&&this.isHttp){(i=a.onError)==null||i.call(a,o.status);return}const l=o.status||Xp;if(!(l===Xp&&a.expectedStatus===Zp)&&l!==a.expectedStatus){(s=a.onError)==null||s.call(a,o.status);return}const u=t3(o);if(l===Zp){const c=o.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);a.onDone({begin:parseInt(d[1],10),chunk:u})}else u?a.onDone({begin:0,chunk:u}):(r=a.onError)==null||r.call(a,o.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class n3{constructor(t){this._source=t,this._manager=new e3(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ne(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new i3(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new s3(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class i3{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=a=>e.getResponseHeader(a),{allowRangeRequests:s,suggestedLength:r}=Ty({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=My(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=tp(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s3{constructor(t,e,i){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=tp(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const x2=/^file:\/\/\/[a-zA-Z]:\//;function r3(n){const t=Kn.get("url"),e=t.parse(n);return e.protocol==="file:"||e.host?e:/^[a-z]:[/\\]/i.test(n)?t.parse(`file:///${n}`):(e.host||(e.protocol="file:"),e)}class a3{constructor(t){this.source=t,this.url=r3(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ne(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h3(this):new o3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new c3(this,t,e):new l3(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class S2{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Rr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class E2{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Gd(n,t){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:t}}class o3 extends S2{constructor(t){super(t);const e=i=>{if(i.statusCode===404){const o=new Pr(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=Ty({getResponseHeader:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=My(s)};if(this._request=null,this._url.protocol==="http:"){const i=Kn.get("http");this._request=i.request(Gd(this._url,t.httpHeaders),e)}else{const i=Kn.get("https");this._request=i.request(Gd(this._url,t.httpHeaders),e)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class l3 extends E2{constructor(t,e,i){super(t),this._httpHeaders={};for(const r in t.httpHeaders){const a=t.httpHeaders[r];a!==void 0&&(this._httpHeaders[r]=a)}this._httpHeaders.Range=`bytes=${e}-${i-1}`;const s=r=>{if(r.statusCode===404){const a=new Pr(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=Kn.get("http");this._request=r.request(Gd(this._url,this._httpHeaders),s)}else{const r=Kn.get("https");this._request=r.request(Gd(this._url,this._httpHeaders),s)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class h3 extends S2{constructor(t){super(t);let e=decodeURIComponent(this._url.path);x2.test(this._url.href)&&(e=e.replace(/^\//,""));const i=Kn.get("fs");i.promises.lstat(e).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(e)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Pr(`Missing PDF "${e}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class c3 extends E2{constructor(t,e,i){super(t);let s=decodeURIComponent(this._url.path);x2.test(this._url.href)&&(s=s.replace(/^\//,""));const r=Kn.get("fs");this._setReadableStream(r.createReadStream(s,{start:e,end:i-1}))}}const u3=1e5,Ue=30,d3=.8;var rb,Cs,Qe,Yh,Xh,Ts,Ni,Zh,Qh,Fr,xo,So,Ms,Eo,Jh,ko,Nr,tc,ec,ln,jr,Br,_o,Qp,ab,Jp,ob,nc,tg,Co,ic,eg,lb;let qd=(ln=class{constructor({textContentSource:n,container:t,viewport:e}){if(v(this,Qp),v(this,Jp),v(this,nc),v(this,Cs,Promise.withResolvers()),v(this,Qe,null),v(this,Yh,!1),v(this,Xh,!!((rb=globalThis.FontInspector)!=null&&rb.enabled)),v(this,Ts,null),v(this,Ni,null),v(this,Zh,0),v(this,Qh,0),v(this,Fr,null),v(this,xo,null),v(this,So,0),v(this,Ms,0),v(this,Eo,Object.create(null)),v(this,Jh,[]),v(this,ko,null),v(this,Nr,[]),v(this,tc,new WeakMap),v(this,ec,null),n instanceof ReadableStream)S(this,ko,n);else if(typeof n=="object")S(this,ko,new ReadableStream({start(o){o.enqueue(n),o.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,Qe,S(this,xo,t)),S(this,Ms,e.scale*(globalThis.devicePixelRatio||1)),S(this,So,e.rotation),S(this,Ni,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:r,pageY:a}=e.rawDims;S(this,ec,[1,0,0,-1,-r,a+s]),S(this,Qh,i),S(this,Zh,s),Er(t,e),h(this,Cs).promise.catch(()=>{}).then(()=>{h(ln,_o).delete(this),S(this,Ni,null),S(this,Eo,null)})}render(){const n=()=>{h(this,Fr).read().then(({value:t,done:e})=>{if(e){h(this,Cs).resolve();return}h(this,Ts)??S(this,Ts,t.lang),Object.assign(h(this,Eo),t.styles),x(this,Qp,ab).call(this,t.items),n()},h(this,Cs).reject)};return S(this,Fr,h(this,ko).getReader()),h(ln,_o).add(this),n(),h(this,Cs).promise}update({viewport:n,onBefore:t=null}){var e;const i=n.scale*(globalThis.devicePixelRatio||1),s=n.rotation;if(s!==h(this,So)&&(t==null||t(),S(this,So,s),Er(h(this,xo),{rotation:s})),i!==h(this,Ms)){t==null||t(),S(this,Ms,i);const r={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:x(e=ln,Co,ic).call(e,h(this,Ts))};for(const a of h(this,Nr))r.properties=h(this,tc).get(a),r.div=a,x(this,nc,tg).call(this,r)}}cancel(){var n;const t=new Rr("TextLayer task cancelled.");(n=h(this,Fr))==null||n.cancel(t).catch(()=>{}),S(this,Fr,null),h(this,Cs).reject(t)}get textDivs(){return h(this,Nr)}get textContentItemsStr(){return h(this,Jh)}static cleanup(){if(!(h(this,_o).size>0)){h(this,jr).clear();for(const{canvas:n}of h(this,Br).values())n.remove();h(this,Br).clear()}}},Cs=new WeakMap,Qe=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Ts=new WeakMap,Ni=new WeakMap,Zh=new WeakMap,Qh=new WeakMap,Fr=new WeakMap,xo=new WeakMap,So=new WeakMap,Ms=new WeakMap,Eo=new WeakMap,Jh=new WeakMap,ko=new WeakMap,Nr=new WeakMap,tc=new WeakMap,ec=new WeakMap,jr=new WeakMap,Br=new WeakMap,_o=new WeakMap,Qp=new WeakSet,ab=function(n){var t,e;if(h(this,Yh))return;(e=h(this,Ni)).ctx||(e.ctx=x(t=ln,Co,ic).call(t,h(this,Ts)));const i=h(this,Nr),s=h(this,Jh);for(const r of n){if(i.length>u3){bt("Ignoring additional textDivs for performance reasons."),S(this,Yh,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=h(this,Qe);S(this,Qe,document.createElement("span")),h(this,Qe).classList.add("markedContent"),r.id!==null&&h(this,Qe).setAttribute("id",`${r.id}`),a.append(h(this,Qe))}else r.type==="endMarkedContent"&&S(this,Qe,h(this,Qe).parentNode);continue}s.push(r.str),x(this,Jp,ob).call(this,r)}},Jp=new WeakSet,ob=function(n){var t;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:n.str!=="",hasEOL:n.hasEOL,fontSize:0};h(this,Nr).push(e);const s=Q.transform(h(this,ec),n.transform);let r=Math.atan2(s[1],s[0]);const a=h(this,Eo)[n.fontName];a.vertical&&(r+=Math.PI/2);const o=h(this,Xh)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(s[2],s[3]),u=l*x(t=ln,eg,lb).call(t,o,h(this,Ts));let c,d;r===0?(c=s[4],d=s[5]-u):(c=s[4]+u*Math.sin(r),d=s[5]-u*Math.cos(r));const p="calc(var(--scale-factor)*",g=e.style;h(this,Qe)===h(this,xo)?(g.left=`${(100*c/h(this,Qh)).toFixed(2)}%`,g.top=`${(100*d/h(this,Zh)).toFixed(2)}%`):(g.left=`${p}${c.toFixed(2)}px)`,g.top=`${p}${d.toFixed(2)}px)`),g.fontSize=`${p}${l.toFixed(2)}px)`,g.fontFamily=o,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=n.str,e.dir=n.dir,h(this,Xh)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||n.fontName),r!==0&&(i.angle=r*(180/Math.PI));let y=!1;if(n.str.length>1)y=!0;else if(n.str!==" "&&n.transform[0]!==n.transform[3]){const b=Math.abs(n.transform[0]),A=Math.abs(n.transform[3]);b!==A&&Math.max(b,A)/Math.min(b,A)>1.5&&(y=!0)}if(y&&(i.canvasWidth=a.vertical?n.height:n.width),h(this,tc).set(e,i),h(this,Ni).div=e,h(this,Ni).properties=i,x(this,nc,tg).call(this,h(this,Ni)),i.hasText&&h(this,Qe).append(e),i.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),h(this,Qe).append(b)}},nc=new WeakSet,tg=function(n){const{div:t,properties:e,ctx:i,prevFontSize:s,prevFontFamily:r}=n,{style:a}=t;let o="";if(e.canvasWidth!==0&&e.hasText){const{fontFamily:l}=a,{canvasWidth:u,fontSize:c}=e;(s!==c||r!==l)&&(i.font=`${c*h(this,Ms)}px ${l}`,n.prevFontSize=c,n.prevFontFamily=l);const{width:d}=i.measureText(t.textContent);d>0&&(o=`scaleX(${u*h(this,Ms)/d})`)}e.angle!==0&&(o=`rotate(${e.angle}deg) ${o}`),o.length>0&&(a.transform=o)},Co=new WeakSet,ic=function(n=null){let t=h(this,Br).get(n||(n=""));if(!t){const e=document.createElement("canvas");e.className="hiddenCanvasElement",e.lang=n,document.body.append(e),t=e.getContext("2d",{alpha:!1}),h(this,Br).set(n,t)}return t},eg=new WeakSet,lb=function(n,t){const e=h(this,jr).get(n);if(e)return e;const i=x(this,Co,ic).call(this,t),s=i.font;i.canvas.width=i.canvas.height=Ue,i.font=`${Ue}px ${n}`;const r=i.measureText("");let a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(a){const c=a/(a+o);return h(this,jr).set(n,c),i.canvas.width=i.canvas.height=0,i.font=s,c}i.strokeStyle="red",i.clearRect(0,0,Ue,Ue),i.strokeText("g",0,0);let l=i.getImageData(0,0,Ue,Ue).data;o=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){o=Math.ceil(c/4/Ue);break}i.clearRect(0,0,Ue,Ue),i.strokeText("A",0,Ue),l=i.getImageData(0,0,Ue,Ue).data,a=0;for(let c=0,d=l.length;c<d;c+=4)if(l[c]>0){a=Ue-Math.floor(c/4/Ue);break}i.canvas.width=i.canvas.height=0,i.font=s;const u=a?a/(a+o):d3;return h(this,jr).set(n,u),u},v(ln,Co),v(ln,eg),v(ln,jr,new Map),v(ln,Br,new Map),v(ln,_o,new Set),ln);function f3(){BS("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:t,viewport:e,...i}=arguments[0],s=Object.keys(i);s.length>0&&bt("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new qd({textContentSource:n,container:t,viewport:e}),{textDivs:a,textContentItemsStr:o}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:o}}function p3(){BS("`updateTextLayer`, please use `TextLayer` instead.")}class vh{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(r){var a;if(!r)return;let o=null;const l=r.name;if(l==="#text")o=r.value;else if(vh.shouldBuildText(l))(a=r==null?void 0:r.attributes)!=null&&a.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const u of r.children)s(u)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const g3=65536,m3=100,v3=5e3,y3=De?CF:uF,w3=De?TF:NS,b3=De?_F:cF,A3=De?MF:jS;function x3(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new k3,{docId:e}=t,i=n.url?S3(n.url):null,s=n.data?E3(n.data):null,r=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof C2?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:g3;let c=n.worker instanceof yu?n.worker:null;const d=n.verbosity,p=typeof n.docBaseUrl=="string"&&!Ey(n.docBaseUrl)?n.docBaseUrl:null,g=typeof n.cMapUrl=="string"?n.cMapUrl:null,y=n.cMapPacked!==!1,b=n.CMapReaderFactory||w3,A=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,E=n.StandardFontDataFactory||A3,k=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!De,O=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:De,_=n.fontExtraProperties===!0,T=n.enableXfa===!0,F=n.ownerDocument||globalThis.document,j=n.disableRange===!0,V=n.disableStream===!0,U=n.disableAutoFetch===!0,Y=n.pdfBug===!0,G=l?l.length:n.length??NaN,H=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!De&&!D,B=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:b===NS&&E===jS&&g&&A&&Bo(g,document.baseURI)&&Bo(A,document.baseURI),it=n.canvasFactory||new y3({ownerDocument:F}),q=n.filterFactory||new b3({docId:e,ownerDocument:F}),At=null;J5(d);const gt={canvasFactory:it,filterFactory:q};if(B||(gt.cMapReaderFactory=new b({baseUrl:g,isCompressed:y}),gt.standardFontDataFactory=new E({baseUrl:A})),!c){const tt={verbosity:d,port:ws.workerPort};c=tt.port?yu.fromPort(tt):new yu(tt),t._worker=c}const z={docId:e,apiVersion:"4.3.136",data:s,password:o,disableAutoFetch:U,rangeChunkSize:u,length:G,docBaseUrl:p,enableXfa:T,evaluatorOptions:{maxImageSize:C,disableFontFace:D,ignoreErrors:k,isEvalSupported:P,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:O,fontExtraProperties:_,useSystemFonts:H,cMapUrl:B?g:null,standardFontDataUrl:B?A:null}},nt={disableFontFace:D,fontExtraProperties:_,ownerDocument:F,pdfBug:Y,styleElement:At,loadingParams:{disableAutoFetch:U,enableXfa:T}};return c.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const tt=c.messageHandler.sendWithPromise("GetDocRequest",z,s?[s.buffer]:null);let J;return l?J=new KF(l,{disableRange:j,disableStream:V}):s||(J=(st=>De?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Bo(st.url)?new sb(st):new a3(st):Bo(st.url)?new sb(st):new n3(st))({url:i,length:G,httpHeaders:r,withCredentials:a,rangeChunkSize:u,disableRange:j,disableStream:V})),tt.then(st=>{if(t.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const et=new tl(e,st,c.port),wt=new M3(et,t,J,nt,gt);t._transport=wt,et.send("Ready",null)})}).catch(t._capability.reject),t}function S3(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(De&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function E3(n){if(De&&typeof qg<"u"&&n instanceof qg)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Kf(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function hb(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var t0;const k2=class _2{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${wn(_2,t0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t0=new WeakMap,v(k2,t0,0);let k3=k2,C2=class{constructor(n,t,e=!1,i=null){this.length=n,this.initialData=t,this.progressiveDone=e,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,t){for(const e of this._rangeListeners)e(n,t)}onDataProgress(n,t){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(n,t)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,t){Dt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class _3{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Bs,as,er,La,Ul,Kd;class C3{constructor(t,e,i,s=!1){v(this,er),v(this,Ul),v(this,Bs,null),v(this,as,!1),this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new Ww:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new T2,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new kh({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:s=is.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null}){var d,p;(d=this._stats)==null||d.time("Overall");const g=this._transport.getRenderingIntent(i,s,c),{renderingIntent:y,cacheKey:b}=g;S(this,as,!1),x(this,Ul,Kd).call(this),o||(o=this._transport.getOptionalContentConfig(y));let A=this._intentStates.get(b);A||(A=Object.create(null),this._intentStates.set(b,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const E=!!(y&gn.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(g));const k=R=>{var O;A.renderTasks.delete(C),(this._maybeCleanupAfterRender||E)&&S(this,as,!0),x(this,er,La).call(this,!E),R?(C.capability.reject(R),this._abortOperatorList({intentState:A,reason:R instanceof Error?R:new Error(R)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(O=globalThis.Stats)!=null&&O.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new R3({callback:k,params:{canvasContext:t,viewport:e,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:u});(A.renderTasks||(A.renderTasks=new Set)).add(C);const P=C.task;return Promise.all([A.displayReadyCapability.promise,o]).then(([R,O])=>{var D;if(this.destroyed){k();return}if((D=this._stats)==null||D.time("Rendering"),!(O.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:R,optionalContentConfig:O}),C.operatorListChanged()}).catch(k),P}getOperatorList({intent:t="display",annotationMode:e=is.ENABLE,printAnnotationStorage:i=null}={}){var s;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(t,e,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(s=this._stats)==null||s.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>vh.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function r(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},s)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),S(this,as,!1),x(this,Ul,Kd).call(this),Promise.all(t)}cleanup(t=!1){S(this,as,!0);const e=x(this,er,La).call(this,!1);return t&&e&&this._stats&&(this._stats=new Ww),e}_startRenderPage(t,e){var i,s;const r=this._intentStates.get(e);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&x(this,er,La).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i}){const{map:s,transfer:r}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s},r).getReader(),o=this._intentStates.get(e);o.streamReader=a;const l=()=>{a.read().then(({value:u,done:c})=>{if(c){o.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,o),l())},u=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const c of o.renderTasks)c.operatorListChanged();x(this,er,La).call(this,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(u);else if(o.opListReadCapability)o.opListReadCapability.reject(u);else throw u}})};l()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Sy){let s=m3;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new Rr(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Bs=new WeakMap,as=new WeakMap,er=new WeakSet,La=function(n=!1){if(x(this,Ul,Kd).call(this),!h(this,as)||this.destroyed)return!1;if(n)return S(this,Bs,setTimeout(()=>{S(this,Bs,null),x(this,er,La).call(this,!1)},v3)),!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,as,!1),!0},Ul=new WeakSet,Kd=function(){h(this,Bs)&&(clearTimeout(h(this,Bs)),S(this,Bs,null))};var ra,e0;class T3{constructor(){v(this,ra,new Set),v(this,e0,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};h(this,e0).then(()=>{for(const s of h(this,ra))s.call(this,i)})}addEventListener(t,e){h(this,ra).add(e)}removeEventListener(t,e){h(this,ra).delete(e)}terminate(){h(this,ra).clear()}}ra=new WeakMap,e0=new WeakMap;const mi={isWorkerDisabled:!1,fakeWorkerId:0};De&&(mi.isWorkerDisabled=!0,ws.workerSrc||(ws.workerSrc="./pdf.worker.mjs")),mi.isSameOrigin=function(n,t){let e;try{if(e=new URL(n),!e.origin||e.origin==="null")return!1}catch{return!1}const i=new URL(t,e);return e.origin===i.origin},mi.createCDNWrapper=function(n){const t=`await import("${n}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var nr,Hl,vu;const n0=class ai{constructor({name:t=null,port:e=null,verbosity:i=tF()}={}){var s;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=h(ai,nr))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(ai,nr)||S(ai,nr,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return De?Promise.all([Kn.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new tl("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!mi.isWorkerDisabled&&!h(ai,Hl,vu)){let{workerSrc:t}=ai;try{mi.isSameOrigin(window.location.href,t)||(t=mi.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new tl("main","worker",e),s=()=>{e.removeEventListener("error",r),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||s()};e.addEventListener("error",r),i.on("test",o=>{if(e.removeEventListener("error",r),this.destroyed){s();return}o?(this._messageHandler=i,this._port=e,this._webWorker=e,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),e.terminate())}),i.on("ready",o=>{if(e.removeEventListener("error",r),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{Gf("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){mi.isWorkerDisabled||(bt("Setting up fake worker."),mi.isWorkerDisabled=!0),ai._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new T3;this._port=e;const i=`fake${mi.fakeWorkerId++}`,s=new tl(i+"_worker",i,e);t.setup(s,e);const r=new tl(i,i+"_worker",e);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(ai,nr))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var e;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(e=h(this,nr))==null?void 0:e.get(t.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new ai(t)}static get workerSrc(){if(ws.workerSrc)return ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>h(this,Hl,vu)?h(this,Hl,vu):(await import(this.workerSrc)).WorkerMessageHandler)())}};nr=new WeakMap,Hl=new WeakSet,vu=function(){var n;try{return((n=globalThis.pdfjsWorker)==null?void 0:n.WorkerMessageHandler)||null}catch{return null}},v(n0,Hl),v(n0,nr,void 0);let yu=n0;var os,oi,sl,rl,li,aa,al;class M3{constructor(t,e,i,s,r){v(this,aa),v(this,os,new Map),v(this,oi,new Map),v(this,sl,new Map),v(this,rl,new Map),v(this,li,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new T2,this.fontLoader=new EF({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ct(this,"annotationStorage",new Cy)}getRenderingIntent(t,e=is.ENABLE,i=null,s=!1){let r=gn.DISPLAY,a=$m;switch(t){case"any":r=gn.ANY;break;case"display":break;case"print":r=gn.PRINT;break;default:bt(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case is.DISABLE:r+=gn.ANNOTATIONS_DISABLE;break;case is.ENABLE:break;case is.ENABLE_FORMS:r+=gn.ANNOTATIONS_FORMS;break;case is.ENABLE_STORAGE:r+=gn.ANNOTATIONS_STORAGE,a=(r&gn.PRINT&&i instanceof u2?i:this.annotationStorage).serializable;break;default:bt(`getRenderingIntent - invalid annotationMode: ${e}`)}return s&&(r+=gn.OPLIST),{renderingIntent:r,cacheKey:`${r}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(t=h(this,li))==null||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of h(this,oi).values())e.push(s._destroy());h(this,oi).clear(),h(this,sl).clear(),h(this,rl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,os).clear(),this.filterFactory.destroy(),qd.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Rr("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{ne(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}ne(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",i=>{const s=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var a;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),r.onProgress=o=>{var l;(l=e.onProgress)==null||l.call(e,{loaded:o.loaded,total:o.total})}),s.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},s.reject),s.promise}),t.on("GetRangeReader",(i,s)=>{ne(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){s.close();return}ne(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new _3(i,this))}),t.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new Xg(i.message,i.code);break;case"InvalidPDFException":s=new IS(i.message);break;case"MissingPDFException":s=new Pr(i.message);break;case"UnexpectedResponseException":s=new qf(i.message,i.status);break;case"UnknownErrorException":s=new Zg(i.message,i.details);break;default:Dt("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",i=>{if(S(this,li,Promise.withResolvers()),e.onPassword){const s=r=>{r instanceof Error?h(this,li).reject(r):h(this,li).resolve({password:r})};try{e.onPassword(s,i.code)}catch(r){h(this,li).reject(r)}}else h(this,li).reject(new Xg(i.message,i.code));return h(this,li).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{this.destroyed||h(this,oi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in r){const g=r.error;bt(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const c=u&&(a=globalThis.FontInspector)!=null&&a.enabled?(g,y)=>globalThis.FontInspector.fontAdded(g,y):null,d=new kF(r,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:p}=r;ne(p,"The imageRef must be defined.");for(const g of h(this,oi).values())for(const[,y]of g.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,r,a])=>{var o;if(this.destroyed)return;const l=h(this,oi).get(s);if(!l.objs.has(i)){if(l._intentStates.size===0){(o=a==null?void 0:a.bitmap)==null||o.close();return}switch(r){case"Image":l.objs.resolve(i,a),(a==null?void 0:a.dataLen)>Y5&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t;this.annotationStorage.size<=0&&bt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((t=this._fullReader)==null?void 0:t.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=h(this,sl).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&h(this,rl).set(r.refStr,t);const a=new C3(e,r,this,this._params.pdfBug);return h(this,oi).set(e,a),a});return h(this,sl).set(e,s),s}getPageIndex(t){return hb(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return x(this,aa,al).call(this,"GetFieldObjects")}hasJSActions(){return x(this,aa,al).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return x(this,aa,al).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return x(this,aa,al).call(this,"GetOptionalContentConfig").then(e=>new qF(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,os).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new $F(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return h(this,os).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,oi).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,os).clear(),this.filterFactory.destroy(!0),qd.cleanup()}}cachedPageNumber(t){if(!hb(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,rl).get(e)??null}}os=new WeakMap,oi=new WeakMap,sl=new WeakMap,rl=new WeakMap,li=new WeakMap,aa=new WeakSet,al=function(n,t=null){const e=h(this,os).get(n);if(e)return e;const i=this.messageHandler.sendWithPromise(n,t);return h(this,os).set(n,i),i};const wu=Symbol("INITIAL_DATA");var Dn,bu,i0;class T2{constructor(){v(this,bu),v(this,Dn,Object.create(null))}get(t,e=null){if(e){const s=x(this,bu,i0).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=h(this,Dn)[t];if(!i||i.data===wu)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=h(this,Dn)[t];return!!e&&e.data!==wu}resolve(t,e=null){const i=x(this,bu,i0).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in h(this,Dn)){const{data:i}=h(this,Dn)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}S(this,Dn,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Dn)){const{data:e}=h(this,Dn)[t];e!==wu&&(yield[t,e])}}}Dn=new WeakMap,bu=new WeakSet,i0=function(n){var t;return(t=h(this,Dn))[n]||(t[n]={...Promise.withResolvers(),data:wu})};var Ws;class P3{constructor(t){v(this,Ws,null),S(this,Ws,t),this.onContinue=null}get promise(){return h(this,Ws).capability.promise}cancel(t=0){h(this,Ws).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,Ws).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,Ws);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ws=new WeakMap;var Ia;const M2=class ol{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:p=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new P3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var i,s;if(this.cancelled)return;if(this._canvas){if(h(ol,Ia).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(ol,Ia).add(this._canvas)}this._pdfBug&&(i=globalThis.StepperManager)!=null&&i.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:a,transform:o,background:l}=this.params;this.gfx=new du(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(s=this.graphicsReadyCallback)==null||s.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),h(ol,Ia).delete(this._canvas),this.callback(t||new Sy(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(ol,Ia).delete(this._canvas),this.callback())))}};Ia=new WeakMap,v(M2,Ia,new WeakSet);let R3=M2;const L3="4.3.136",I3="0cec64437";function cb(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function To(n){return Math.max(0,Math.min(255,255*n))}class ub{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=To(t),[t,t,t]}static G_HTML([t]){const e=cb(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(To)}static RGB_HTML(t){return`#${t.map(cb).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[To(1-Math.min(1,t+s)),To(1-Math.min(1,i+s)),To(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,r=1-e,a=1-i,o=Math.min(s,r,a);return["CMYK",s,r,a,o]}}class P2{static setupStorage(t,e,i,s,r){const a=s.getValue(e,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?t.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",o=>{s.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(e,{value:u})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:r}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&t.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",u);break;case"style":Object.assign(t.style,u);break;case"textContent":t.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,u)}o&&r.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,e,i)}static render(t){var e,i;const s=t.annotationStorage,r=t.linkService,a=t.xfaHtml,o=t.intent||"display",l=document.createElement(a.name);a.attributes&&this.setAttributes({html:l,element:a,intent:o,linkService:r});const u=o!=="richText",c=t.div;if(c.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=g}u&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(a.children.length===0){if(a.value){const g=document.createTextNode(a.value);l.append(g),u&&vh.shouldBuildText(a.name)&&d.push(g)}return{textDivs:d}}const p=[[a,-1,l]];for(;p.length>0;){const[g,y,b]=p.at(-1);if(y+1===g.children.length){p.pop();continue}const A=g.children[++p.at(-1)[1]];if(A===null)continue;const{name:E}=A;if(E==="#text"){const C=document.createTextNode(A.value);d.push(C),b.append(C);continue}const k=(e=A==null?void 0:A.attributes)!=null&&e.xmlns?document.createElementNS(A.attributes.xmlns,E):document.createElement(E);if(b.append(k),A.attributes&&this.setAttributes({html:k,element:A,storage:s,intent:o,linkService:r}),((i=A.children)==null?void 0:i.length)>0)p.push([A,-1,k]);else if(A.value){const C=document.createTextNode(A.value);u&&vh.shouldBuildText(E)&&d.push(C),k.append(C)}}for(const g of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Th=1e3,D3=9,kr=new WeakSet;function Di(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class O3{static create(t){switch(t.data.annotationType){case te.LINK:return new D2(t);case te.TEXT:return new N3(t);case te.WIDGET:switch(t.data.fieldType){case"Tx":return new j3(t);case"Btn":return t.data.radioButton?new O2(t):t.data.checkBox?new W3(t):new V3(t);case"Ch":return new U3(t);case"Sig":return new B3(t)}return new Lr(t);case te.POPUP:return new o0(t);case te.FREETEXT:return new j2(t);case te.LINE:return new z3(t);case te.SQUARE:return new $3(t);case te.CIRCLE:return new G3(t);case te.POLYLINE:return new B2(t);case te.CARET:return new K3(t);case te.INK:return new W2(t);case te.POLYGON:return new q3(t);case te.HIGHLIGHT:return new Y3(t);case te.UNDERLINE:return new X3(t);case te.SQUIGGLY:return new Z3(t);case te.STRIKEOUT:return new Q3(t);case te.STAMP:return new V2(t);case te.FILEATTACHMENT:return new J3(t);default:return new ie(t)}}}var Vs,ll,hl,Au,s0;const F3=class R2{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){v(this,Au),v(this,Vs,null),v(this,ll,!1),v(this,hl,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get hasPopupData(){return R2._hasPopupData(this.data)}updateEdited(t){var e;if(!this.container)return;h(this,Vs)||S(this,Vs,{rect:this.data.rect.slice(0)});const{rect:i}=t;i&&x(this,Au,s0).call(this,i),(e=h(this,hl))==null||e.popup.updateEdited(t)}resetEdited(){var t;h(this,Vs)&&(x(this,Au,s0).call(this,h(this,Vs).rect),(t=h(this,hl))==null||t.popup.resetEdited(),S(this,Vs,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof Lr||(r.tabIndex=Th);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,e.popupRef&&r.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof o0){const{rotation:b}=e;return!e.hasOwnCanvas&&b!==0&&this.setRotation(b,r),r}const{width:o,height:l}=Di(e.rect);if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const b=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(b>0||A>0){const k=`calc(${b}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;a.borderRadius=k}else if(this instanceof O2){const k=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=k}switch(e.borderStyle.style){case yo.SOLID:a.borderStyle="solid";break;case yo.DASHED:a.borderStyle="dashed";break;case yo.BEVELED:bt("Unimplemented border style: beveled");break;case yo.INSET:bt("Unimplemented border style: inset");break;case yo.UNDERLINE:a.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(S(this,ll,!0),a.borderColor=Q.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):a.borderWidth=0}const u=Q.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:c,pageHeight:d,pageX:p,pageY:g}=s.rawDims;a.left=`${100*(u[0]-p)/c}%`,a.top=`${100*(u[1]-g)/d}%`;const{rotation:y}=e;return e.hasOwnCanvas||y===0?(a.width=`${100*o/c}%`,a.height=`${100*l/d}%`):this.setRotation(y,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:a}=Di(this.data.rect);let o,l;t%180===0?(o=100*r/i,l=100*a/s):(o=100*a/i,l=100*r/s),e.style.width=`${o}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const r=s.detail[e],a=r[0],o=r.slice(1);s.target.style[i]=ub[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:ub[`${a}_rgb`](o)})};return Ct(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||i[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,r]of Object.entries(e)){const a=i[s];if(a){const o={detail:{[s]:r},target:t};a(o),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,r]=this.data.rect;if(t.length===1){const[,{x:b,y:A},{x:E,y:k}]=t[0];if(s===b&&r===A&&e===E&&i===k)return}const{style:a}=this.container;let o;if(h(this,ll)){const{borderColor:b,borderWidth:A}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=s-e,u=r-i,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const p=c.createElement("defs");d.append(p);const g=c.createElement("clipPath"),y=`clippath_${this.data.id}`;g.setAttribute("id",y),g.setAttribute("clipPathUnits","objectBoundingBox"),p.append(g);for(const[,{x:b,y:A},{x:E,y:k}]of t){const C=c.createElement("rect"),P=(E-e)/l,R=(r-A)/u,O=(b-E)/l,D=(A-k)/u;C.setAttribute("x",P),C.setAttribute("y",R),C.setAttribute("width",O),C.setAttribute("height",D),g.append(C),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${R}" width="${O}" height="${D}"/>`)}h(this,ll)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const i=S(this,hl,new o0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){Dt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:o}of s){if(r===-1||a===e)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!kr.has(u)){bt(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&kr.has(s)&&i.push({id:a,exportValue:r,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Vs=new WeakMap,ll=new WeakMap,hl=new WeakMap,Au=new WeakSet,s0=function(n){const{container:{style:t},data:{rect:e,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:o}}}}=this;e==null||e.splice(0,4,...n);const{width:l,height:u}=Di(n);t.left=`${100*(n[0]-a)/s}%`,t.top=`${100*(r-n[3]+o)/r}%`,i===0?(t.width=`${100*l/s}%`,t.height=`${100*u/r}%`):this.setRotation(i)};let ie=F3;var ls,ur,r0,L2,a0,I2;class D2 extends ie{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!(e!=null&&e.ignoreBorder),createQuadrilaterals:!0}),v(this,ls),v(this,r0),v(this,a0),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(x(this,r0,L2).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(x(this,a0,I2).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&x(this,ls,ur).call(this)}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),x(this,ls,ur).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const r=i.get(s);r&&(t[r]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),x(this,ls,ur).call(this)}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),x(this,ls,ur).call(this),!this._fieldObjects){bt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var s;i==null||i();const{fields:r,refs:a,include:o}=e,l=[];if(r.length!==0||a.length!==0){const d=new Set(a);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:y}of g)d.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)d.has(g.id)===o&&l.push(g)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const u=this.annotationStorage,c=[];for(const d of l){const{id:p}=d;switch(c.push(p),d.type){case"text":{const y=d.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=d.defaultValue===d.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=d.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!kr.has(g)){bt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}ls=new WeakSet,ur=function(){this.container.setAttribute("data-internal-link","")},r0=new WeakSet,L2=function(n,t,e=null){n.href=this.linkService.getAnchorUrl(""),t.description&&(n.title=t.description),n.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(t.content,t.filename,e),!1},x(this,ls,ur).call(this)},a0=new WeakSet,I2=function(n,t){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(t),!1),x(this,ls,ur).call(this)};class N3 extends ie{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Lr extends ie{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ze.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,r){i.includes("mouse")?t.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(i,a=>{var o;if(i==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,e,i,s){var r,a,o;for(const[l,u]of i)(u==="Action"||(r=this.data.actions)!=null&&r[u])&&((u==="Focus"||u==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,u,s),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Q.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||D3,r=t.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(u/(Hp*s))||1,d=u/c;a=Math.min(s,l(d/Hp))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,l(u/Hp))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=Q.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class j3 extends Lr{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=i),r.setValue(a.id,{[s]:i})}render(){var t,e;const i=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=i.getValue(s,{value:this.data.fieldValue});let o=a.value||"";const l=i.getValue(s,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((t=this.data.textContent)==null?void 0:t.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),kr.add(r),r.setAttribute("data-element-id",s),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Th,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",p=>{i.setValue(s,{value:p.target.value}),this.setPropertyOnSiblings(r,"value",p.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";r.value=c.userValue=g,c.formattedValue=null});let d=p=>{const{formattedValue:g}=c;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",g=>{var y;if(c.focused)return;const{target:b}=g;c.userValue&&(b.value=c.userValue),c.lastCommittedValue=b.value,c.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const y={value(b){c.userValue=b.detail.value??"",i.setValue(s,{value:c.userValue.toString()}),b.target.value=c.userValue},formattedValue(b){const{formattedValue:A}=b.detail;c.formattedValue=A,A!=null&&b.target!==document.activeElement&&(b.target.value=A),i.setValue(s,{formattedValue:A})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var A;const{charLimit:E}=b.detail,{target:k}=b;if(E===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",E);let C=c.userValue;!C||C.length<=E||(C=C.slice(0,E),k.value=c.userValue=C,i.setValue(s,{value:C}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(y,g)}),r.addEventListener("keydown",g=>{var y;c.commitKey=1;let b=-1;if(g.key==="Escape"?b=0:g.key==="Enter"&&!this.data.multiLine?b=2:g.key==="Tab"&&(c.commitKey=3),b===-1)return;const{value:A}=g.target;c.lastCommittedValue!==A&&(c.lastCommittedValue=A,c.userValue=A,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:A,willCommit:!0,commitKey:b,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=d;d=null,r.addEventListener("blur",g=>{var y,b;if(!c.focused||!g.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(c.focused=!1);const{value:A}=g.target;c.userValue=A,c.lastCommittedValue!==A&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:A,willCommit:!0,commitKey:c.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),p(g)}),(e=this.data.actions)!=null&&e.Keystroke&&r.addEventListener("beforeinput",g=>{var y;c.lastCommittedValue=null;const{data:b,target:A}=g,{value:E,selectionStart:k,selectionEnd:C}=A;let P=k,R=C;switch(g.inputType){case"deleteWordBackward":{const O=E.substring(0,k).match(/\w*[^\w]*$/);O&&(P-=O[0].length);break}case"deleteWordForward":{const O=E.substring(k).match(/^[^\w]*\w*/);O&&(R+=O[0].length);break}case"deleteContentBackward":k===C&&(P-=1);break;case"deleteContentForward":k===C&&(R+=1);break}g.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:E,change:b||"",willCommit:!1,selStart:P,selEnd:R}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class B3 extends Lr{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class W3 extends Lr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return kr.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=Th,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const c=l&&u.exportValue===e.exportValue;u.domElement&&(u.domElement.checked=c),t.setValue(u.id,{value:c})}t.setValue(i,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class O2 extends Lr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,i))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(kr.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Th,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))t.setValue(u.id,{value:!1});t.setValue(i,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const c=a===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const p=c&&d.id===i;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class V3 extends D2{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class U3 extends Lr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");kr.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Th;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const p of s.options)p.selected=p.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,i.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),r=!1),s.append(d)}let a=null;if(r){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),s.prepend(c),a=()=>{c.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=c=>{const d=c?"value":"textContent",{options:p,multiple:g}=s;return g?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[d]):p.selectedIndex===-1?null:p[p.selectedIndex][d]};let l=o(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",c=>{const d={value(p){a==null||a();const g=p.detail.value,y=new Set(Array.isArray(g)?g:[g]);for(const b of s.options)b.selected=y.has(b.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(p){s.multiple=!0},remove(p){const g=s.options,y=p.detail.remove;g[y].selected=!1,s.remove(y),g.length>0&&Array.prototype.findIndex.call(g,b=>b.selected)===-1&&(g[0].selected=!0),t.setValue(e,{value:o(!0),items:u(p)}),l=o(!1)},clear(p){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(p){const{index:g,displayValue:y,exportValue:b}=p.detail.insert,A=s.children[g],E=document.createElement("option");E.textContent=y,E.value=b,A?A.before(E):s.append(E),t.setValue(e,{value:o(!0),items:u(p)}),l=o(!1)},items(p){const{items:g}=p.detail;for(;s.length!==0;)s.remove(0);for(const y of g){const{displayValue:b,exportValue:A}=y,E=document.createElement("option");E.textContent=b,E.value=A,s.append(E)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:o(!0),items:u(p)}),l=o(!1)},indices(p){const g=new Set(p.detail.indices);for(const y of p.target.options)y.selected=g.has(y.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(d,c)}),s.addEventListener("input",c=>{var d;const p=o(!0),g=o(!1);t.setValue(e,{value:p}),c.preventDefault(),(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):s.addEventListener("input",function(c){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class o0 extends ie{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:ie._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new H3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${OS}${i}`).join(",")),this.container}}var zl,l0,h0,$l,oa,Kt,es,la,Yd,Xd,Gl,Gi,On,hs,Zd,cs,xu,Us,ha,ql,Su,Eu,ng,c0,db,u0,F2,d0,N2,f0,fb,Kl,Qd,Yl,Jd,tf,p0;class H3{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:u,parentRect:c,open:d}){v(this,ql),v(this,Eu),v(this,c0),v(this,u0),v(this,d0),v(this,f0),v(this,Kl),v(this,Yl),v(this,tf),v(this,zl,x(this,d0,N2).bind(this)),v(this,l0,x(this,tf,p0).bind(this)),v(this,h0,x(this,Yl,Jd).bind(this)),v(this,$l,x(this,Kl,Qd).bind(this)),v(this,oa,null),v(this,Kt,null),v(this,es,null),v(this,la,null),v(this,Yd,null),v(this,Xd,null),v(this,Gl,null),v(this,Gi,!1),v(this,On,null),v(this,hs,null),v(this,Zd,null),v(this,cs,null),v(this,xu,null),v(this,Us,null),v(this,ha,!1);var p;S(this,Kt,t),S(this,xu,s),S(this,es,a),S(this,cs,o),S(this,Xd,l),S(this,oa,e),S(this,Zd,u),S(this,Gl,c),S(this,Yd,i),S(this,la,WS.toDateObject(r)),this.trigger=i.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",h(this,$l)),g.addEventListener("mouseenter",h(this,h0)),g.addEventListener("mouseleave",h(this,l0)),g.classList.add("popupTriggerArea");for(const g of i)(p=g.container)==null||p.addEventListener("keydown",h(this,zl));h(this,Kt).hidden=!0,d&&x(this,Kl,Qd).call(this)}render(){if(h(this,On))return;const t=S(this,On,document.createElement("div"));if(t.className="popup",h(this,oa)){const r=t.style.outlineColor=Q.makeHexColor(...h(this,oa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=Q.makeHexColor(...h(this,oa).map(a=>Math.floor(.7*(255-a)+a)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=h(this,xu),t.append(e),h(this,la)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:h(this,la).toLocaleDateString(),time:h(this,la).toLocaleTimeString()})),e.append(r)}const s=h(this,ql,Su);if(s)P2.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(h(this,es));t.append(r)}h(this,Kt).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const o=s[r];i.append(document.createTextNode(o)),r<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;h(this,Us)||S(this,Us,{contentsObj:h(this,es),richText:h(this,cs)}),t&&S(this,hs,null),e&&(S(this,cs,x(this,u0,F2).call(this,e)),S(this,es,null)),(i=h(this,On))==null||i.remove(),S(this,On,null)}resetEdited(){var t;h(this,Us)&&({contentsObj:wn(this,es)._,richText:wn(this,cs)._}=h(this,Us),S(this,Us,null),(t=h(this,On))==null||t.remove(),S(this,On,null),S(this,hs,null))}forceHide(){S(this,ha,this.isVisible),h(this,ha)&&(h(this,Kt).hidden=!0)}maybeShow(){h(this,ha)&&(h(this,On)||x(this,Yl,Jd).call(this),S(this,ha,!1),h(this,Kt).hidden=!1)}get isVisible(){return h(this,Kt).hidden===!1}}zl=new WeakMap,l0=new WeakMap,h0=new WeakMap,$l=new WeakMap,oa=new WeakMap,Kt=new WeakMap,es=new WeakMap,la=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,Gl=new WeakMap,Gi=new WeakMap,On=new WeakMap,hs=new WeakMap,Zd=new WeakMap,cs=new WeakMap,xu=new WeakMap,Us=new WeakMap,ha=new WeakMap,ql=new WeakSet,Su=function(){const n=h(this,cs),t=h(this,es);return n!=null&&n.str&&(!(t!=null&&t.str)||t.str===n.str)&&h(this,cs).html||null},Eu=new WeakSet,ng=function(){var n,t,e;return((e=(t=(n=h(this,ql,Su))==null?void 0:n.attributes)==null?void 0:t.style)==null?void 0:e.fontSize)||0},c0=new WeakSet,db=function(){var n,t,e;return((e=(t=(n=h(this,ql,Su))==null?void 0:n.attributes)==null?void 0:t.style)==null?void 0:e.color)||null},u0=new WeakSet,F2=function(n){const t=[],e={str:n,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:h(this,c0,db),fontSize:h(this,Eu,ng)?`calc(${h(this,Eu,ng)}px * var(--scale-factor))`:""}};for(const s of n.split(`
`))t.push({name:"span",value:s,attributes:i});return e},d0=new WeakSet,N2=function(n){n.altKey||n.shiftKey||n.ctrlKey||n.metaKey||(n.key==="Enter"||n.key==="Escape"&&h(this,Gi))&&x(this,Kl,Qd).call(this)},f0=new WeakSet,fb=function(){if(h(this,hs)!==null)return;const{page:{view:n},viewport:{rawDims:{pageWidth:t,pageHeight:e,pageX:i,pageY:s}}}=h(this,Xd);let r=!!h(this,Gl),a=r?h(this,Gl):h(this,Zd);for(const p of h(this,Yd))if(!a||Q.intersect(p.data.rect,a)!==null){a=p.data.rect,r=!0;break}const o=Q.normalizeRect([a[0],n[3]-a[1]+n[1],a[2],n[3]-a[3]+n[1]]),l=r?a[2]-a[0]+5:0,u=o[0]+l,c=o[1];S(this,hs,[100*(u-i)/t,100*(c-s)/e]);const{style:d}=h(this,Kt);d.left=`${h(this,hs)[0]}%`,d.top=`${h(this,hs)[1]}%`},Kl=new WeakSet,Qd=function(){S(this,Gi,!h(this,Gi)),h(this,Gi)?(x(this,Yl,Jd).call(this),h(this,Kt).addEventListener("click",h(this,$l)),h(this,Kt).addEventListener("keydown",h(this,zl))):(x(this,tf,p0).call(this),h(this,Kt).removeEventListener("click",h(this,$l)),h(this,Kt).removeEventListener("keydown",h(this,zl)))},Yl=new WeakSet,Jd=function(){h(this,On)||this.render(),this.isVisible?h(this,Gi)&&h(this,Kt).classList.add("focused"):(x(this,f0,fb).call(this),h(this,Kt).hidden=!1,h(this,Kt).style.zIndex=parseInt(h(this,Kt).style.zIndex)+1e3)},tf=new WeakSet,p0=function(){h(this,Kt).classList.remove("focused"),!(h(this,Gi)||!this.isVisible)&&(h(this,Kt).hidden=!0,h(this,Kt).style.zIndex=parseInt(h(this,Kt).style.zIndex)-1e3)};class j2 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=kt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var ku;class z3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),v(this,ku,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:i}=Di(t.rect),s=this.svgFactory.create(e,i,!0),r=S(this,ku,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,ku)}addHighlightArea(){this.container.classList.add("highlightArea")}}ku=new WeakMap;var _u;class $3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),v(this,_u,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:i}=Di(t.rect),s=this.svgFactory.create(e,i,!0),r=t.borderStyle.width,a=S(this,_u,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",e-r),a.setAttribute("height",i-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,_u)}addHighlightArea(){this.container.classList.add("highlightArea")}}_u=new WeakMap;var Cu;class G3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),v(this,Cu,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:i}=Di(t.rect),s=this.svgFactory.create(e,i,!0),r=t.borderStyle.width,a=S(this,Cu,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",e/2),a.setAttribute("cy",i/2),a.setAttribute("rx",e/2-r/2),a.setAttribute("ry",i/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Cu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cu=new WeakMap;var Tu;class B2 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),v(this,Tu,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:i}=Di(t.rect),s=this.svgFactory.create(e,i,!0);let r=[];for(const o of t.vertices){const l=o.x-t.rect[0],u=t.rect[3]-o.y;r.push(l+","+u)}r=r.join(" ");const a=S(this,Tu,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",r),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Tu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tu=new WeakMap;class q3 extends B2{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class K3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Mu;class W2 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),v(this,Mu,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=kt.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:i}=Di(t.rect),s=this.svgFactory.create(e,i,!0);for(const r of t.inkLists){let a=[];for(const l of r){const u=l.x-t.rect[0],c=t.rect[3]-l.y;a.push(`${u},${c}`)}a=a.join(" ");const o=this.svgFactory.createElement(this.svgElementName);h(this,Mu).push(o),o.setAttribute("points",a),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(o)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return h(this,Mu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mu=new WeakMap;class Y3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class X3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Z3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Q3 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class V2 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Pu,Ru,g0;class J3 extends ie{constructor(t){var e;super(t,{isRenderable:!0}),v(this,Ru),v(this,Pu,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(e=this.linkService.eventBus)==null||e.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",x(this,Ru,g0).bind(this)),S(this,Pu,i);const{isMac:s}=Ze.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(s?r.metaKey:r.ctrlKey)&&x(this,Ru,g0).call(this)}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return h(this,Pu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pu=new WeakMap,Ru=new WeakSet,g0=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var sc,Wr,Mo,ig,pb,rc,sg,gb;let tN=(gb=class{constructor({div:n,accessibilityManager:t,annotationCanvasMap:e,annotationEditorUIManager:i,page:s,viewport:r}){v(this,ig),v(this,rc),v(this,sc,null),v(this,Wr,null),v(this,Mo,new Map),this.div=n,S(this,sc,t),S(this,Wr,e),this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=i}async render(n){var t;const{annotations:e}=n,i=this.div;Er(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:n.renderForms!==!1,svgFactory:new xy,annotationStorage:n.annotationStorage||new Cy,enableScripting:n.enableScripting===!0,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const o=a.annotationType===te.POPUP;if(o){const c=s.get(a.id);if(!c)continue;r.elements=c}else{const{width:c,height:d}=Di(a.rect);if(c<=0||d<=0)continue}r.data=a;const l=O3.create(r);if(!l.isRenderable)continue;if(!o&&a.popupRef){const c=s.get(a.popupRef);c?c.push(l):s.set(a.popupRef,[l])}const u=l.render();a.hidden&&(u.style.visibility="hidden"),x(this,ig,pb).call(this,u,a.id),l.annotationEditorType>0&&(h(this,Mo).set(l.data.id,l),(t=this._annotationEditorUIManager)==null||t.renderAnnotationElement(l))}x(this,rc,sg).call(this)}update({viewport:n}){const t=this.div;this.viewport=n,Er(t,{rotation:n.rotation}),x(this,rc,sg).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Mo).values())}getEditableAnnotation(n){return h(this,Mo).get(n)}},sc=new WeakMap,Wr=new WeakMap,Mo=new WeakMap,ig=new WeakSet,pb=function(n,t){var e;const i=n.firstChild||n;i.id=`${OS}${t}`,this.div.append(n),(e=h(this,sc))==null||e.moveElementInDOM(this.div,n,i,!1)},rc=new WeakSet,sg=function(){if(!h(this,Wr))return;const n=this.div;for(const[t,e]of h(this,Wr)){const i=n.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;e.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(e):s.classList.contains("annotationContent")?s.after(e):s.before(e):i.append(e)}h(this,Wr).clear()},gb);const Lu=/\r\n?|\n/g;var Iu,Du,Ou,Fu,Nu,Un,mn,ju,vn,Xl,m0,U2,v0,H2,y0,z2,Zl,ef,Ql,nf,cl,Bu,w0,$2,sf,b0,A0,G2;const Rn=class ve extends Nt{constructor(t){super({...t,name:"freeTextEditor"}),v(this,m0),v(this,v0),v(this,y0),v(this,Zl),v(this,cl),v(this,w0),v(this,A0),v(this,Iu,this.editorDivBlur.bind(this)),v(this,Du,this.editorDivFocus.bind(this)),v(this,Ou,this.editorDivInput.bind(this)),v(this,Fu,this.editorDivKeydown.bind(this)),v(this,Nu,this.editorDivPaste.bind(this)),v(this,Un,void 0),v(this,mn,""),v(this,ju,`${this.id}-editor`),v(this,vn,void 0),v(this,Xl,null),S(this,Un,t.color||ve._defaultColor||Nt._defaultLineColor),S(this,vn,t.fontSize||ve._defaultFontSize)}static get _keyboardManager(){const t=ve.prototype,e=r=>r.isEmpty(),i=mh.TRANSLATE_SMALL,s=mh.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new _h([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static initialize(t,e){Nt.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case ut.FREETEXT_SIZE:ve._defaultFontSize=e;break;case ut.FREETEXT_COLOR:ve._defaultColor=e;break}}updateParams(t,e){switch(t){case ut.FREETEXT_SIZE:x(this,m0,U2).call(this,e);break;case ut.FREETEXT_COLOR:x(this,v0,H2).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[ut.FREETEXT_SIZE,ve._defaultFontSize],[ut.FREETEXT_COLOR,ve._defaultColor||Nt._defaultLineColor]]}get propertiesToUpdate(){return[[ut.FREETEXT_SIZE,h(this,vn)],[ut.FREETEXT_COLOR,h(this,Un)]]}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-ve._internalPadding*t,-(ve._internalPadding+h(this,vn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(kt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",h(this,Fu)),this.editorDiv.addEventListener("focus",h(this,Du)),this.editorDiv.addEventListener("blur",h(this,Iu)),this.editorDiv.addEventListener("input",h(this,Ou)),this.editorDiv.addEventListener("paste",h(this,Nu)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,ju)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",h(this,Fu)),this.editorDiv.removeEventListener("focus",h(this,Du)),this.editorDiv.removeEventListener("blur",h(this,Iu)),this.editorDiv.removeEventListener("input",h(this,Ou)),this.editorDiv.removeEventListener("paste",h(this,Nu)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=h(this,mn),e=S(this,mn,x(this,y0,z2).call(this).trimEnd());if(t===e)return;const i=s=>{if(S(this,mn,s),!s){this.remove();return}x(this,cl,Bu).call(this),this._uiManager.rebuild(this),x(this,Zl,ef).call(this)};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),x(this,Zl,ef).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ve._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,ju)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Nt._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var r;return(r=this.editorDiv)==null?void 0:r.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,vn)}px * var(--scale-factor))`,i.color=h(this,Un),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Id(this,this.div,["dblclick","keydown"]),this.width){const[s,r]=this.parentDimensions;if(this.annotationElementId){const{position:a}=h(this,Xl);let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[u,c]=this.pageDimensions,[d,p]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(a[0]-d)/u,y=e+this.height-(a[1]-p)/c;break;case 90:g=t+(a[0]-d)/u,y=e-(a[1]-p)/c,[o,l]=[l,-o];break;case 180:g=t-this.width+(a[0]-d)/u,y=e-(a[1]-p)/c,[o,l]=[-o,-l];break;case 270:g=t+(a[0]-d-this.height*c)/u,y=e+(a[1]-p-this.width*u)/c,[o,l]=[-l,o];break}this.setAt(g*s,y*r,o,l)}else this.setAt(t*s,e*r,this.width*s,this.height*r);x(this,cl,Bu).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var e,i,s;const r=t.clipboardData||window.clipboardData,{types:a}=r;if(a.length===1&&a[0]==="text/plain")return;t.preventDefault();const o=x(e=ve,sf,b0).call(e,r.getData("text")||"").replaceAll(Lu,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:c,startOffset:d}=u,p=[],g=[];if(c.nodeType===Node.TEXT_NODE){const A=c.parentElement;if(g.push(c.nodeValue.slice(d).replaceAll(Lu,"")),A!==this.editorDiv){let E=p;for(const k of this.editorDiv.childNodes){if(k===A){E=g;continue}E.push(x(i=ve,Ql,nf).call(i,k))}}p.push(c.nodeValue.slice(0,d).replaceAll(Lu,""))}else if(c===this.editorDiv){let A=p,E=0;for(const k of this.editorDiv.childNodes)E++===d&&(A=g),A.push(x(s=ve,Ql,nf).call(s,k))}S(this,mn,`${p.join(`
`)}${o}${g.join(`
`)}`),x(this,cl,Bu).call(this);const y=new Range;let b=p.reduce((A,E)=>A+E.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const E=A.nodeValue.length;if(b<=E){y.setStart(A,b),y.setEnd(A,b);break}b-=E}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static deserialize(t,e,i){var s;let r=null;if(t instanceof j2){const{data:{defaultAppearanceData:{fontSize:o,fontColor:l},rect:u,rotation:c,id:d},textContent:p,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;r=t={annotationType:kt.FREETEXT,color:Array.from(l),fontSize:o,value:p.join(`
`),position:g,pageIndex:y-1,rect:u.slice(0),rotation:c,id:d,deleted:!1}}const a=super.deserialize(t,e,i);return S(a,vn,t.fontSize),S(a,Un,Q.makeHexColor(...t.color)),S(a,mn,x(s=ve,sf,b0).call(s,t.value)),a.annotationElementId=t.id||null,S(a,Xl,r),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=ve._internalPadding*this.parentScale,i=this.getRect(e,e),s=Nt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Un)),r={annotationType:kt.FREETEXT,color:s,fontSize:h(this,vn),value:x(this,w0,$2).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?r:this.annotationElementId&&!x(this,A0,G2).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:i}=e;i.fontSize=`calc(${h(this,vn)}px * var(--scale-factor))`,i.color=h(this,Un),e.replaceChildren();for(const r of h(this,mn).split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),e.append(a)}const s=ve._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:h(this,mn)}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Iu=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Fu=new WeakMap,Nu=new WeakMap,Un=new WeakMap,mn=new WeakMap,ju=new WeakMap,vn=new WeakMap,Xl=new WeakMap,m0=new WeakSet,U2=function(n){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-h(this,vn))*this.parentScale),S(this,vn,i),x(this,Zl,ef).call(this)},e=h(this,vn);this.addCommands({cmd:t.bind(this,n),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},v0=new WeakSet,H2=function(n){const t=i=>{S(this,Un,this.editorDiv.style.color=i)},e=h(this,Un);this.addCommands({cmd:t.bind(this,n),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},y0=new WeakSet,z2=function(){var n;const t=[];this.editorDiv.normalize();for(const e of this.editorDiv.childNodes)t.push(x(n=Rn,Ql,nf).call(n,e));return t.join(`
`)},Zl=new WeakSet,ef=function(){const[n,t]=this.parentDimensions;let e;if(this.isAttachedToDOM)e=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,r=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),e=s.getBoundingClientRect(),s.remove(),s.style.display=r,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=e.width/n,this.height=e.height/t):(this.width=e.height/n,this.height=e.width/t),this.fixAndSetPosition()},Ql=new WeakSet,nf=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Lu,"")},cl=new WeakSet,Bu=function(){if(this.editorDiv.replaceChildren(),!!h(this,mn))for(const n of h(this,mn).split(`
`)){const t=document.createElement("div");t.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(t)}},w0=new WeakSet,$2=function(){return h(this,mn).replaceAll(""," ")},sf=new WeakSet,b0=function(n){return n.replaceAll(" ","")},A0=new WeakSet,G2=function(n){const{value:t,fontSize:e,color:i,pageIndex:s}=h(this,Xl);return this._hasBeenMoved||n.value!==t||n.fontSize!==e||n.color.some((r,a)=>r!==i[a])||n.pageIndex!==s},v(Rn,Ql),v(Rn,sf),pt(Rn,"_freeTextDefaultContent",""),pt(Rn,"_internalPadding",0),pt(Rn,"_defaultColor",null),pt(Rn,"_defaultFontSize",10),pt(Rn,"_type","freetext"),pt(Rn,"_editorType",kt.FREETEXT);let eN=Rn;var rf,Hs,Ln,x0,q2,ul,ac,S0,K2,E0,Y2,Wu,k0;class _0{constructor(t,e=0,i=0,s=!0){v(this,x0),v(this,ul),v(this,S0),v(this,E0),v(this,Wu),v(this,rf,void 0),v(this,Hs,[]),v(this,Ln,[]);let r=1/0,a=-1/0,o=1/0,l=-1/0;const u=10**-4;for(const{x:A,y:E,width:k,height:C}of t){const P=Math.floor((A-e)/u)*u,R=Math.ceil((A+k+e)/u)*u,O=Math.floor((E-e)/u)*u,D=Math.ceil((E+C+e)/u)*u,_=[P,O,D,!0],T=[R,O,D,!1];h(this,Hs).push(_,T),r=Math.min(r,P),a=Math.max(a,R),o=Math.min(o,O),l=Math.max(l,D)}const c=a-r+2*i,d=l-o+2*i,p=r-i,g=o-i,y=h(this,Hs).at(s?-1:-2),b=[y[0],y[2]];for(const A of h(this,Hs)){const[E,k,C]=A;A[0]=(E-p)/c,A[1]=(k-g)/d,A[2]=(C-g)/d}S(this,rf,{x:p,y:g,width:c,height:d,lastPoint:b})}getOutlines(){h(this,Hs).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of h(this,Hs))e[3]?(t.push(...x(this,Wu,k0).call(this,e)),x(this,S0,K2).call(this,e)):(x(this,E0,Y2).call(this,e),t.push(...x(this,Wu,k0).call(this,e)));return x(this,x0,q2).call(this,t)}}rf=new WeakMap,Hs=new WeakMap,Ln=new WeakMap,x0=new WeakSet,q2=function(n){const t=[],e=new Set;for(const r of n){const[a,o,l]=r;t.push([a,o,r],[a,l,r])}t.sort((r,a)=>r[1]-a[1]||r[0]-a[0]);for(let r=0,a=t.length;r<a;r+=2){const o=t[r][2],l=t[r+1][2];o.push(l),l.push(o),e.add(o),e.add(l)}const i=[];let s;for(;e.size>0;){const r=e.values().next().value;let[a,o,l,u,c]=r;e.delete(r);let d=a,p=o;for(s=[a,l],i.push(s);;){let g;if(e.has(u))g=u;else if(e.has(c))g=c;else break;e.delete(g),[a,o,l,u,c]=g,d!==a&&(s.push(d,p,a,p===o?o:l),d=a),p=p===o?l:o}s.push(d,p)}return new nN(i,h(this,rf))},ul=new WeakSet,ac=function(n){const t=h(this,Ln);let e=0,i=t.length-1;for(;e<=i;){const s=e+i>>1,r=t[s][0];if(r===n)return s;r<n?e=s+1:i=s-1}return i+1},S0=new WeakSet,K2=function([,n,t]){const e=x(this,ul,ac).call(this,n);h(this,Ln).splice(e,0,[n,t])},E0=new WeakSet,Y2=function([,n,t]){const e=x(this,ul,ac).call(this,n);for(let i=e;i<h(this,Ln).length;i++){const[s,r]=h(this,Ln)[i];if(s!==n)break;if(s===n&&r===t){h(this,Ln).splice(i,1);return}}for(let i=e-1;i>=0;i--){const[s,r]=h(this,Ln)[i];if(s!==n)break;if(s===n&&r===t){h(this,Ln).splice(i,1);return}}},Wu=new WeakSet,k0=function(n){const[t,e,i]=n,s=[[t,e,i]],r=x(this,ul,ac).call(this,i);for(let a=0;a<r;a++){const[o,l]=h(this,Ln)[a];for(let u=0,c=s.length;u<c;u++){const[,d,p]=s[u];if(!(l<=d||p<=o)){if(d>=o){if(p>l)s[u][1]=l;else{if(c===1)return[];s.splice(u,1),u--,c--}continue}s[u][2]=o,p>l&&s.push([t,l,p])}}}return s};class X2{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof R0}}var Vu,dl;class nN extends X2{constructor(t,e){super(),v(this,Vu,void 0),v(this,dl,void 0),S(this,dl,t),S(this,Vu,e)}toSVGPath(){const t=[];for(const e of h(this,dl)){let[i,s]=e;t.push(`M${i} ${s}`);for(let r=2;r<e.length;r+=2){const a=e[r],o=e[r+1];a===i?(t.push(`V${o}`),s=o):o===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,e,i,s],r){const a=[],o=i-t,l=s-e;for(const u of h(this,dl)){const c=new Array(u.length);for(let d=0;d<u.length;d+=2)c[d]=t+u[d]*o,c[d+1]=s-u[d+1]*l;a.push(c)}return a}get box(){return h(this,Vu)}}Vu=new WeakMap,dl=new WeakMap;var fi,qi,fl,pl,hi,Et,$a,Ga,Uu,Hu,gl,ml,zs,zu,rg,C0,$u,T0;const ca=class M0{constructor({x:t,y:e},i,s,r,a,o=0){v(this,$u),v(this,fi,void 0),v(this,qi,[]),v(this,fl,void 0),v(this,pl,void 0),v(this,hi,[]),v(this,Et,new Float64Array(18)),v(this,$a,void 0),v(this,Ga,void 0),v(this,Uu,void 0),v(this,Hu,void 0),v(this,gl,void 0),v(this,ml,void 0),v(this,zs,[]),S(this,fi,i),S(this,ml,r*s),S(this,pl,a),h(this,Et).set([NaN,NaN,NaN,NaN,t,e],6),S(this,fl,o),S(this,Hu,h(M0,zu)*s),S(this,Uu,h(M0,C0)*s),S(this,gl,s),h(this,zs).push(t,e)}get free(){return!0}isEmpty(){return isNaN(h(this,Et)[8])}add({x:t,y:e}){var i;S(this,$a,t),S(this,Ga,e);const[s,r,a,o]=h(this,fi);let[l,u,c,d]=h(this,Et).subarray(8,12);const p=t-c,g=e-d,y=Math.hypot(p,g);if(y<h(this,Uu))return!1;const b=y-h(this,Hu),A=b/y,E=A*p,k=A*g;let C=l,P=u;l=c,u=d,c+=E,d+=k,(i=h(this,zs))==null||i.push(t,e);const R=-k/b,O=E/b,D=R*h(this,ml),_=O*h(this,ml);return h(this,Et).set(h(this,Et).subarray(2,8),0),h(this,Et).set([c+D,d+_],4),h(this,Et).set(h(this,Et).subarray(14,18),12),h(this,Et).set([c-D,d-_],16),isNaN(h(this,Et)[6])?(h(this,hi).length===0&&(h(this,Et).set([l+D,u+_],2),h(this,hi).push(NaN,NaN,NaN,NaN,(l+D-s)/a,(u+_-r)/o),h(this,Et).set([l-D,u-_],14),h(this,qi).push(NaN,NaN,NaN,NaN,(l-D-s)/a,(u-_-r)/o)),h(this,Et).set([C,P,l,u,c,d],6),!this.isEmpty()):(h(this,Et).set([C,P,l,u,c,d],6),Math.abs(Math.atan2(P-u,C-l)-Math.atan2(k,E))<Math.PI/2?([l,u,c,d]=h(this,Et).subarray(2,6),h(this,hi).push(NaN,NaN,NaN,NaN,((l+c)/2-s)/a,((u+d)/2-r)/o),[l,u,C,P]=h(this,Et).subarray(14,18),h(this,qi).push(NaN,NaN,NaN,NaN,((C+l)/2-s)/a,((P+u)/2-r)/o),!0):([C,P,l,u,c,d]=h(this,Et).subarray(0,6),h(this,hi).push(((C+5*l)/6-s)/a,((P+5*u)/6-r)/o,((5*l+c)/6-s)/a,((5*u+d)/6-r)/o,((l+c)/2-s)/a,((u+d)/2-r)/o),[c,d,l,u,C,P]=h(this,Et).subarray(12,18),h(this,qi).push(((C+5*l)/6-s)/a,((P+5*u)/6-r)/o,((5*l+c)/6-s)/a,((5*u+d)/6-r)/o,((l+c)/2-s)/a,((u+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,hi),e=h(this,qi),i=h(this,Et).subarray(4,6),s=h(this,Et).subarray(16,18),[r,a,o,l]=h(this,fi),[u,c,d,p]=x(this,$u,T0).call(this);if(isNaN(h(this,Et)[6])&&!this.isEmpty())return`M${(h(this,Et)[2]-r)/o} ${(h(this,Et)[3]-a)/l} L${(h(this,Et)[4]-r)/o} ${(h(this,Et)[5]-a)/l} L${u} ${c} L${d} ${p} L${(h(this,Et)[16]-r)/o} ${(h(this,Et)[17]-a)/l} L${(h(this,Et)[14]-r)/o} ${(h(this,Et)[15]-a)/l} Z`;const g=[];g.push(`M${t[4]} ${t[5]}`);for(let y=6;y<t.length;y+=6)isNaN(t[y])?g.push(`L${t[y+4]} ${t[y+5]}`):g.push(`C${t[y]} ${t[y+1]} ${t[y+2]} ${t[y+3]} ${t[y+4]} ${t[y+5]}`);g.push(`L${(i[0]-r)/o} ${(i[1]-a)/l} L${u} ${c} L${d} ${p} L${(s[0]-r)/o} ${(s[1]-a)/l}`);for(let y=e.length-6;y>=6;y-=6)isNaN(e[y])?g.push(`L${e[y+4]} ${e[y+5]}`):g.push(`C${e[y]} ${e[y+1]} ${e[y+2]} ${e[y+3]} ${e[y+4]} ${e[y+5]}`);return g.push(`L${e[4]} ${e[5]} Z`),g.join(" ")}getOutlines(){var t;const e=h(this,hi),i=h(this,qi),s=h(this,Et),r=s.subarray(4,6),a=s.subarray(16,18),[o,l,u,c]=h(this,fi),d=new Float64Array((((t=h(this,zs))==null?void 0:t.length)??0)+2);for(let k=0,C=d.length-2;k<C;k+=2)d[k]=(h(this,zs)[k]-o)/u,d[k+1]=(h(this,zs)[k+1]-l)/c;d[d.length-2]=(h(this,$a)-o)/u,d[d.length-1]=(h(this,Ga)-l)/c;const[p,g,y,b]=x(this,$u,T0).call(this);if(isNaN(s[6])&&!this.isEmpty()){const k=new Float64Array(36);return k.set([NaN,NaN,NaN,NaN,(s[2]-o)/u,(s[3]-l)/c,NaN,NaN,NaN,NaN,(s[4]-o)/u,(s[5]-l)/c,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(s[16]-o)/u,(s[17]-l)/c,NaN,NaN,NaN,NaN,(s[14]-o)/u,(s[15]-l)/c],0),new R0(k,d,h(this,fi),h(this,gl),h(this,fl),h(this,pl))}const A=new Float64Array(h(this,hi).length+24+h(this,qi).length);let E=e.length;for(let k=0;k<E;k+=2){if(isNaN(e[k])){A[k]=A[k+1]=NaN;continue}A[k]=e[k],A[k+1]=e[k+1]}A.set([NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/c,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(a[0]-o)/u,(a[1]-l)/c],E),E+=24;for(let k=i.length-6;k>=6;k-=6)for(let C=0;C<6;C+=2){if(isNaN(i[k+C])){A[E]=A[E+1]=NaN,E+=2;continue}A[E]=i[k+C],A[E+1]=i[k+C+1],E+=2}return A.set([NaN,NaN,NaN,NaN,i[4],i[5]],E),new R0(A,d,h(this,fi),h(this,gl),h(this,fl),h(this,pl))}};fi=new WeakMap,qi=new WeakMap,fl=new WeakMap,pl=new WeakMap,hi=new WeakMap,Et=new WeakMap,$a=new WeakMap,Ga=new WeakMap,Uu=new WeakMap,Hu=new WeakMap,gl=new WeakMap,ml=new WeakMap,zs=new WeakMap,zu=new WeakMap,rg=new WeakMap,C0=new WeakMap,$u=new WeakSet,T0=function(){const n=h(this,Et).subarray(4,6),t=h(this,Et).subarray(16,18),[e,i,s,r]=h(this,fi);return[(h(this,$a)+(n[0]-t[0])/2-e)/s,(h(this,Ga)+(n[1]-t[1])/2-i)/r,(h(this,$a)+(t[0]-n[0])/2-e)/s,(h(this,Ga)+(t[1]-n[1])/2-i)/r]},v(ca,zu,8),v(ca,rg,2),v(ca,C0,h(ca,zu)+h(ca,rg));let Z2=ca;var vl,Da,us,Gu,un,qu,Qt,ua,yl,da,wl,P0,Q2;class R0 extends X2{constructor(t,e,i,s,r,a){super(),v(this,ua),v(this,da),v(this,P0),v(this,vl,void 0),v(this,Da,null),v(this,us,void 0),v(this,Gu,void 0),v(this,un,void 0),v(this,qu,void 0),v(this,Qt,void 0),S(this,Qt,t),S(this,un,e),S(this,vl,i),S(this,qu,s),S(this,us,r),S(this,Gu,a),x(this,P0,Q2).call(this,a);const{x:o,y:l,width:u,height:c}=h(this,Da);for(let d=0,p=t.length;d<p;d+=2)t[d]=(t[d]-o)/u,t[d+1]=(t[d+1]-l)/c;for(let d=0,p=e.length;d<p;d+=2)e[d]=(e[d]-o)/u,e[d+1]=(e[d+1]-l)/c}toSVGPath(){const t=[`M${h(this,Qt)[4]} ${h(this,Qt)[5]}`];for(let e=6,i=h(this,Qt).length;e<i;e+=6){if(isNaN(h(this,Qt)[e])){t.push(`L${h(this,Qt)[e+4]} ${h(this,Qt)[e+5]}`);continue}t.push(`C${h(this,Qt)[e]} ${h(this,Qt)[e+1]} ${h(this,Qt)[e+2]} ${h(this,Qt)[e+3]} ${h(this,Qt)[e+4]} ${h(this,Qt)[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,s],r){const a=i-t,o=s-e;let l,u;switch(r){case 0:l=x(this,ua,yl).call(this,h(this,Qt),t,s,a,-o),u=x(this,ua,yl).call(this,h(this,un),t,s,a,-o);break;case 90:l=x(this,da,wl).call(this,h(this,Qt),t,e,a,o),u=x(this,da,wl).call(this,h(this,un),t,e,a,o);break;case 180:l=x(this,ua,yl).call(this,h(this,Qt),i,e,-a,o),u=x(this,ua,yl).call(this,h(this,un),i,e,-a,o);break;case 270:l=x(this,da,wl).call(this,h(this,Qt),i,s,-a,-o),u=x(this,da,wl).call(this,h(this,un),i,s,-a,-o);break}return{outline:Array.from(l),points:[Array.from(u)]}}get box(){return h(this,Da)}getNewOutline(t,e){const{x:i,y:s,width:r,height:a}=h(this,Da),[o,l,u,c]=h(this,vl),d=r*u,p=a*c,g=i*u+o,y=s*c+l,b=new Z2({x:h(this,un)[0]*d+g,y:h(this,un)[1]*p+y},h(this,vl),h(this,qu),t,h(this,Gu),e??h(this,us));for(let A=2;A<h(this,un).length;A+=2)b.add({x:h(this,un)[A]*d+g,y:h(this,un)[A+1]*p+y});return b.getOutlines()}}vl=new WeakMap,Da=new WeakMap,us=new WeakMap,Gu=new WeakMap,un=new WeakMap,qu=new WeakMap,Qt=new WeakMap,ua=new WeakSet,yl=function(n,t,e,i,s){const r=new Float64Array(n.length);for(let a=0,o=n.length;a<o;a+=2)r[a]=t+n[a]*i,r[a+1]=e+n[a+1]*s;return r},da=new WeakSet,wl=function(n,t,e,i,s){const r=new Float64Array(n.length);for(let a=0,o=n.length;a<o;a+=2)r[a]=t+n[a+1]*i,r[a+1]=e+n[a]*s;return r},P0=new WeakSet,Q2=function(n){const t=h(this,Qt);let e=t[4],i=t[5],s=e,r=i,a=e,o=i,l=e,u=i;const c=n?Math.max:Math.min;for(let b=6,A=t.length;b<A;b+=6){if(isNaN(t[b]))s=Math.min(s,t[b+4]),r=Math.min(r,t[b+5]),a=Math.max(a,t[b+4]),o=Math.max(o,t[b+5]),u<t[b+5]?(l=t[b+4],u=t[b+5]):u===t[b+5]&&(l=c(l,t[b+4]));else{const E=Q.bezierBoundingBox(e,i,...t.slice(b,b+6));s=Math.min(s,E[0]),r=Math.min(r,E[1]),a=Math.max(a,E[2]),o=Math.max(o,E[3]),u<E[3]?(l=E[2],u=E[3]):u===E[3]&&(l=c(l,E[2]))}e=t[b+4],i=t[b+5]}const d=s-h(this,us),p=r-h(this,us),g=a-s+2*h(this,us),y=o-r+2*h(this,us);S(this,Da,{x:d,y:p,width:g,height:y,lastPoint:[l,u]})};var af,of,Fn,fa,Jl,ce,lf,bl,Ku,hf,ir,th,cf,L0,uf,I0,D0,J2,Ki,$s,O0,tE,pi,ns;const eE=class Gs{constructor({editor:t=null,uiManager:e=null}){v(this,cf),v(this,uf),v(this,D0),v(this,Ki),v(this,O0),v(this,pi),v(this,af,x(this,D0,J2).bind(this)),v(this,of,x(this,O0,tE).bind(this)),v(this,Fn,null),v(this,fa,null),v(this,Jl,void 0),v(this,ce,null),v(this,lf,!1),v(this,bl,!1),v(this,Ku,null),v(this,hf,void 0),v(this,ir,null),v(this,th,void 0);var i;t?(S(this,bl,!1),S(this,th,ut.HIGHLIGHT_COLOR),S(this,Ku,t)):(S(this,bl,!0),S(this,th,ut.HIGHLIGHT_DEFAULT_COLOR)),S(this,ir,(t==null?void 0:t._uiManager)||e),S(this,hf,h(this,ir)._eventBus),S(this,Jl,(t==null?void 0:t.color)||((i=h(this,ir))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ct(this,"_keyboardManager",new _h([[["Escape","mac+Escape"],Gs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Gs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Gs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Gs.prototype._moveToPrevious],[["Home","mac+Home"],Gs.prototype._moveToBeginning],[["End","mac+End"],Gs.prototype._moveToEnd]]))}renderButton(){const t=S(this,Fn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0),t.addEventListener("click",x(this,Ki,$s).bind(this)),t.addEventListener("keydown",h(this,af));const e=S(this,fa,document.createElement("span"));return e.className="swatch",e.setAttribute("aria-hidden",!0),e.style.backgroundColor=h(this,Jl),t.append(e),t}renderMainDropdown(){const t=S(this,ce,x(this,cf,L0).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Fn)){x(this,Ki,$s).call(this,t);return}const e=t.target.getAttribute("data-color");e&&x(this,uf,I0).call(this,e,t)}_moveToNext(t){var e,i;if(!h(this,pi,ns)){x(this,Ki,$s).call(this,t);return}if(t.target===h(this,Fn)){(e=h(this,ce).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=h(this,ce))==null?void 0:e.firstChild)||t.target===h(this,Fn)){h(this,pi,ns)&&this._hideDropdownFromKeyboard();return}h(this,pi,ns)||x(this,Ki,$s).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!h(this,pi,ns)){x(this,Ki,$s).call(this,t);return}(e=h(this,ce).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,pi,ns)){x(this,Ki,$s).call(this,t);return}(e=h(this,ce).lastChild)==null||e.focus()}hideDropdown(){var t;(t=h(this,ce))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",h(this,of))}_hideDropdownFromKeyboard(){var t;if(!h(this,bl)){if(!h(this,pi,ns)){(t=h(this,Ku))==null||t.unselect();return}this.hideDropdown(),h(this,Fn).focus({preventScroll:!0,focusVisible:h(this,lf)})}}updateColor(t){if(h(this,fa)&&(h(this,fa).style.backgroundColor=t),!h(this,ce))return;const e=h(this,ir).highlightColors.values();for(const i of h(this,ce).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Fn))==null||t.remove(),S(this,Fn,null),S(this,fa,null),(e=h(this,ce))==null||e.remove(),S(this,ce,null)}};af=new WeakMap,of=new WeakMap,Fn=new WeakMap,fa=new WeakMap,Jl=new WeakMap,ce=new WeakMap,lf=new WeakMap,bl=new WeakMap,Ku=new WeakMap,hf=new WeakMap,ir=new WeakMap,th=new WeakMap,cf=new WeakSet,L0=function(){const n=document.createElement("div");n.addEventListener("contextmenu",Xe),n.className="dropdown",n.role="listbox",n.setAttribute("aria-multiselectable",!1),n.setAttribute("aria-orientation","vertical"),n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,e]of h(this,ir).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",e),i.title=t,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=e,i.setAttribute("aria-selected",e===h(this,Jl)),i.addEventListener("click",x(this,uf,I0).bind(this,e)),n.append(i)}return n.addEventListener("keydown",h(this,af)),n},uf=new WeakSet,I0=function(n,t){t.stopPropagation(),h(this,hf).dispatch("switchannotationeditorparams",{source:this,type:h(this,th),value:n})},D0=new WeakSet,J2=function(n){eE._keyboardManager.exec(this,n)},Ki=new WeakSet,$s=function(n){if(h(this,pi,ns)){this.hideDropdown();return}if(S(this,lf,n.detail===0),window.addEventListener("pointerdown",h(this,of)),h(this,ce)){h(this,ce).classList.remove("hidden");return}const t=S(this,ce,x(this,cf,L0).call(this));h(this,Fn).append(t)},O0=new WeakSet,tE=function(n){var t;(t=h(this,ce))!=null&&t.contains(n.target)||this.hideDropdown()},pi=new WeakSet,ns=function(){return h(this,ce)&&!h(this,ce).classList.contains("hidden")};let nE=eE;var eh,df,dr,Oa,nh,Sn,ff,pf,qa,Nn,$e,yn,F0,ih,Fa,ue,Al,wi,Yu,Xu,N0,gf,j0,B0,iE,W0,sE,V0,mb,Zu,U0,pa,xl,fr,Ka,H0,rE,Sl,Qu,Na,sh,z0,aE,$0,oE,G0,lE,q0,hE;const xe=class Se extends Nt{constructor(t){super({...t,name:"highlightEditor"}),v(this,Xu),v(this,gf),v(this,B0),v(this,W0),v(this,V0),v(this,Zu),v(this,pa),v(this,H0),v(this,Sl),v(this,Na),v(this,z0),v(this,$0),v(this,eh,null),v(this,df,0),v(this,dr,void 0),v(this,Oa,null),v(this,nh,null),v(this,Sn,null),v(this,ff,null),v(this,pf,0),v(this,qa,null),v(this,Nn,null),v(this,$e,null),v(this,yn,!1),v(this,F0,x(this,H0,rE).bind(this)),v(this,ih,null),v(this,Fa,void 0),v(this,ue,null),v(this,Al,""),v(this,wi,void 0),v(this,Yu,""),this.color=t.color||Se._defaultColor,S(this,wi,t.thickness||Se._defaultThickness),S(this,Fa,t.opacity||Se._defaultOpacity),S(this,dr,t.boxes||null),S(this,Yu,t.methodOfCreation||""),S(this,Al,t.text||""),this._isDraggable=!1,t.highlightId>-1?(S(this,yn,!0),x(this,gf,j0).call(this,t),x(this,pa,xl).call(this)):(S(this,eh,t.anchorNode),S(this,df,t.anchorOffset),S(this,ff,t.focusNode),S(this,pf,t.focusOffset),x(this,Xu,N0).call(this),x(this,pa,xl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Se.prototype;return Ct(this,"_keyboardManager",new _h([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,yn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,wi),methodOfCreation:h(this,Yu)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var i;Nt.initialize(t,e),Se._defaultColor||(Se._defaultColor=((i=e.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case ut.HIGHLIGHT_DEFAULT_COLOR:Se._defaultColor=e;break;case ut.HIGHLIGHT_THICKNESS:Se._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return h(this,ih)}updateParams(t,e){switch(t){case ut.HIGHLIGHT_COLOR:x(this,B0,iE).call(this,e);break;case ut.HIGHLIGHT_THICKNESS:x(this,W0,sE).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[ut.HIGHLIGHT_DEFAULT_COLOR,Se._defaultColor],[ut.HIGHLIGHT_THICKNESS,Se._defaultThickness]]}get propertiesToUpdate(){return[[ut.HIGHLIGHT_COLOR,this.color||Se._defaultColor],[ut.HIGHLIGHT_THICKNESS,h(this,wi)||Se._defaultThickness],[ut.HIGHLIGHT_FREE,h(this,yn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(S(this,nh,new nE({editor:this})),t.addColorPicker(h(this,nh))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(x(this,Na,sh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,x(this,Na,sh).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){x(this,Zu,U0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(x(this,pa,xl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var e;let i=!1;this.parent&&!t?x(this,Zu,U0).call(this):t&&(x(this,pa,xl).call(this,t),i=!this.parent&&((e=this.div)==null?void 0:e.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var e,i,s;const{drawLayer:r}=this.parent;let a;h(this,yn)?(t=(t-this.rotation+360)%360,a=x(e=Se,fr,Ka).call(e,h(this,Nn).box,t)):a=x(i=Se,fr,Ka).call(i,this,t),r.rotate(h(this,$e),t),r.rotate(h(this,ue),t),r.updateBox(h(this,$e),a),r.updateBox(h(this,ue),x(s=Se,fr,Ka).call(s,h(this,Sn).box,t))}render(){if(this.div)return this.div;const t=super.render();h(this,Al)&&(t.setAttribute("aria-label",h(this,Al)),t.setAttribute("role","mark")),h(this,yn)?t.classList.add("free"):this.div.addEventListener("keydown",h(this,F0));const e=S(this,qa,document.createElement("div"));t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=h(this,Oa);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Id(this,h(this,qa),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(h(this,ue),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(h(this,ue),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:x(this,Sl,Qu).call(this,!0);break;case 1:case 3:x(this,Sl,Qu).call(this,!1);break}}select(){var t,e;super.select(),h(this,ue)&&((t=this.parent)==null||t.drawLayer.removeClass(h(this,ue),"hovered"),(e=this.parent)==null||e.drawLayer.addClass(h(this,ue),"selected"))}unselect(){var t;super.unselect(),h(this,ue)&&((t=this.parent)==null||t.drawLayer.removeClass(h(this,ue),"selected"),h(this,yn)||x(this,Sl,Qu).call(this,!1))}get _mustFixPosition(){return!h(this,yn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(h(this,$e),t),this.parent.drawLayer.show(h(this,ue),t))}static startHighlighting(t,e,{target:i,x:s,y:r}){const{x:a,y:o,width:l,height:u}=i.getBoundingClientRect(),c=y=>{x(this,G0,lE).call(this,t,y)},d={capture:!0,passive:!1},p=y=>{y.preventDefault(),y.stopPropagation()},g=y=>{i.removeEventListener("pointermove",c),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,d),window.removeEventListener("contextmenu",Xe),x(this,q0,hE).call(this,t,y)};window.addEventListener("blur",g),window.addEventListener("pointerup",g),window.addEventListener("pointerdown",p,d),window.addEventListener("contextmenu",Xe),i.addEventListener("pointermove",c),this._freeHighlight=new Z2({x:s,y:r},[a,o,l,u],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,e,i){var s;const r=super.deserialize(t,e,i),{rect:[a,o,l,u],color:c,quadPoints:d}=t;r.color=Q.makeHexColor(...c),S(r,Fa,t.opacity);const[p,g]=r.pageDimensions;r.width=(l-a)/p,r.height=(u-o)/g;const y=S(r,dr,[]);for(let b=0;b<d.length;b+=8)y.push({x:(d[4]-l)/p,y:(u-(1-d[b+5]))/g,width:(d[b+2]-d[b])/p,height:(d[b+5]-d[b+1])/g});return x(s=r,Xu,N0).call(s),r}serialize(t=!1){if(this.isEmpty()||t)return null;const e=this.getRect(0,0),i=Nt._colorManager.convert(this.color);return{annotationType:kt.HIGHLIGHT,color:i,opacity:h(this,Fa),thickness:h(this,wi),quadPoints:x(this,z0,aE).call(this),outlines:x(this,$0,oE).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:x(this,Na,sh).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};eh=new WeakMap,df=new WeakMap,dr=new WeakMap,Oa=new WeakMap,nh=new WeakMap,Sn=new WeakMap,ff=new WeakMap,pf=new WeakMap,qa=new WeakMap,Nn=new WeakMap,$e=new WeakMap,yn=new WeakMap,F0=new WeakMap,ih=new WeakMap,Fa=new WeakMap,ue=new WeakMap,Al=new WeakMap,wi=new WeakMap,Yu=new WeakMap,Xu=new WeakSet,N0=function(){const n=new _0(h(this,dr),.001);S(this,Nn,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Nn).box;const t=new _0(h(this,dr),.0025,.001,this._uiManager.direction==="ltr");S(this,Sn,t.getOutlines());const{lastPoint:e}=h(this,Sn).box;S(this,ih,[(e[0]-this.x)/this.width,(e[1]-this.y)/this.height])},gf=new WeakSet,j0=function({highlightOutlines:n,highlightId:t,clipPathId:e}){var i,s;if(S(this,Nn,n),S(this,Sn,n.getNewOutline(h(this,wi)/2+1.5,.0025)),t>=0)S(this,$e,t),S(this,Oa,e),this.parent.drawLayer.finalizeLine(t,n),S(this,ue,this.parent.drawLayer.highlightOutline(h(this,Sn)));else if(this.parent){const c=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,$e),n),this.parent.drawLayer.updateBox(h(this,$e),x(i=xe,fr,Ka).call(i,h(this,Nn).box,(c-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,ue),h(this,Sn)),this.parent.drawLayer.updateBox(h(this,ue),x(s=xe,fr,Ka).call(s,h(this,Sn).box,c))}const{x:r,y:a,width:o,height:l}=n.box;switch(this.rotation){case 0:this.x=r,this.y=a,this.width=o,this.height=l;break;case 90:{const[c,d]=this.parentDimensions;this.x=a,this.y=1-r,this.width=o*d/c,this.height=l*c/d;break}case 180:this.x=1-r,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[c,d]=this.parentDimensions;this.x=1-a,this.y=r,this.width=o*d/c,this.height=l*c/d;break}}const{lastPoint:u}=h(this,Sn).box;S(this,ih,[(u[0]-r)/o,(u[1]-a)/l])},B0=new WeakSet,iE=function(n){const t=i=>{var s,r;this.color=i,(s=this.parent)==null||s.drawLayer.changeColor(h(this,$e),i),(r=h(this,nh))==null||r.updateColor(i)},e=this.color;this.addCommands({cmd:t.bind(this,n),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},W0=new WeakSet,sE=function(n){const t=h(this,wi),e=i=>{S(this,wi,i),x(this,V0,mb).call(this,i)};this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},V0=new WeakSet,mb=function(n){if(!h(this,yn))return;x(this,gf,j0).call(this,{highlightOutlines:h(this,Nn).getNewOutline(n/2)}),this.fixAndSetPosition();const[t,e]=this.parentDimensions;this.setDims(this.width*t,this.height*e)},Zu=new WeakSet,U0=function(){h(this,$e)===null||!this.parent||(this.parent.drawLayer.remove(h(this,$e)),S(this,$e,null),this.parent.drawLayer.remove(h(this,ue)),S(this,ue,null))},pa=new WeakSet,xl=function(n=this.parent){h(this,$e)===null&&({id:wn(this,$e)._,clipPathId:wn(this,Oa)._}=n.drawLayer.highlight(h(this,Nn),this.color,h(this,Fa)),S(this,ue,n.drawLayer.highlightOutline(h(this,Sn))),h(this,qa)&&(h(this,qa).style.clipPath=h(this,Oa)))},fr=new WeakSet,Ka=function({x:n,y:t,width:e,height:i},s){switch(s){case 90:return{x:1-t-i,y:n,width:i,height:e};case 180:return{x:1-n-e,y:1-t-i,width:e,height:i};case 270:return{x:t,y:1-n-e,width:i,height:e}}return{x:n,y:t,width:e,height:i}},H0=new WeakSet,rE=function(n){xe._keyboardManager.exec(this,n)},Sl=new WeakSet,Qu=function(n){if(!h(this,eh))return;const t=window.getSelection();n?t.setPosition(h(this,eh),h(this,df)):t.setPosition(h(this,ff),h(this,pf))},Na=new WeakSet,sh=function(){return h(this,yn)?this.rotation:0},z0=new WeakSet,aE=function(){if(h(this,yn))return null;const[n,t]=this.pageDimensions,e=h(this,dr),i=new Array(e.length*8);let s=0;for(const{x:r,y:a,width:o,height:l}of e){const u=r*n,c=(1-a-l)*t;i[s]=i[s+4]=u,i[s+1]=i[s+3]=c,i[s+2]=i[s+6]=u+o*n,i[s+5]=i[s+7]=c+l*t,s+=8}return i},$0=new WeakSet,oE=function(n){return h(this,Nn).serialize(n,x(this,Na,sh).call(this))},G0=new WeakSet,lE=function(n,t){this._freeHighlight.add(t)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},q0=new WeakSet,hE=function(n,t){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},v(xe,fr),v(xe,G0),v(xe,q0),pt(xe,"_defaultColor",null),pt(xe,"_defaultOpacity",1),pt(xe,"_defaultThickness",12),pt(xe,"_l10nPromise"),pt(xe,"_type","highlight"),pt(xe,"_editorType",kt.HIGHLIGHT),pt(xe,"_freeHighlightId",-1),pt(xe,"_freeHighlight",null),pt(xe,"_freeHighlightClipId","");let vb=xe;var ja,Ba,Ju,td,ed,Ya,bi,Yi,kn,ga,Wa,Xa,Va,Ua,qs,K0,cE,Y0,uE,X0,dE,Z0,fE,nd,ag,Q0,pE,mf,J0,tv,yb,ev,wb,nv,bb,iv,Ab,sv,xb,ds,sr,id,rv,rh,vf,ah,yf,pr,Za,sd,av,El,oc,ov,gE,lc,og,lv,mE,hv,vE,wf,cv,kl,hc,Qa,oh;const He=class An extends Nt{constructor(t){super({...t,name:"inkEditor"}),v(this,K0),v(this,Y0),v(this,X0),v(this,Z0),v(this,nd),v(this,Q0),v(this,mf),v(this,tv),v(this,ev),v(this,nv),v(this,iv),v(this,sv),v(this,ds),v(this,id),v(this,rh),v(this,ah),v(this,pr),v(this,sd),v(this,El),v(this,hv),v(this,wf),v(this,kl),v(this,Qa),v(this,ja,0),v(this,Ba,0),v(this,Ju,this.canvasPointermove.bind(this)),v(this,td,this.canvasPointerleave.bind(this)),v(this,ed,this.canvasPointerup.bind(this)),v(this,Ya,this.canvasPointerdown.bind(this)),v(this,bi,null),v(this,Yi,new Path2D),v(this,kn,!1),v(this,ga,!1),v(this,Wa,!1),v(this,Xa,null),v(this,Va,0),v(this,Ua,0),v(this,qs,null),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){Nt.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case ut.INK_THICKNESS:An._defaultThickness=e;break;case ut.INK_COLOR:An._defaultColor=e;break;case ut.INK_OPACITY:An._defaultOpacity=e/100;break}}updateParams(t,e){switch(t){case ut.INK_THICKNESS:x(this,K0,cE).call(this,e);break;case ut.INK_COLOR:x(this,Y0,uE).call(this,e);break;case ut.INK_OPACITY:x(this,X0,dE).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[ut.INK_THICKNESS,An._defaultThickness],[ut.INK_COLOR,An._defaultColor||Nt._defaultLineColor],[ut.INK_OPACITY,Math.round(An._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ut.INK_THICKNESS,this.thickness||An._defaultThickness],[ut.INK_COLOR,this.color||An._defaultColor||Nt._defaultLineColor],[ut.INK_OPACITY,Math.round(100*(this.opacity??An._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(x(this,rh,vf).call(this),x(this,ah,yf).call(this)),this.isAttachedToDOM||(this.parent.add(this),x(this,pr,Za).call(this)),x(this,Qa,oh).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,bi)&&(clearTimeout(h(this,bi)),S(this,bi,null)),h(this,Xa).disconnect(),S(this,Xa,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,i=this.width*t,s=this.height*e;this.setDimensions(i,s)}enableEditMode(){h(this,kn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",h(this,Ya)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",h(this,Ya)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,kn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,kn,!0),this.div.classList.add("disabled"),x(this,Qa,oh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||h(this,kn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),x(this,Q0,pE).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),x(this,mf,J0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),x(this,id,rv).call(this,t)}canvasPointerleave(t){x(this,id,rv).call(this,t)}get isResizable(){return!this.isEmpty()&&h(this,kn)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,r,a]=x(this,Z0,fE).call(this);if(this.setAt(i,s,0,0),this.setDims(r,a),x(this,rh,vf).call(this),this.width){const[o,l]=this.parentDimensions;this.setAspectRatio(this.width*o,this.height*l),this.setAt(t*o,e*l,this.width*o,this.height*l),S(this,Wa,!0),x(this,pr,Za).call(this),this.setDims(this.width*o,this.height*l),x(this,ds,sr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return x(this,ah,yf).call(this),this.div}setDimensions(t,e){const i=Math.round(t),s=Math.round(e);if(h(this,Va)===i&&h(this,Ua)===s)return;S(this,Va,i),S(this,Ua,s),this.canvas.style.visibility="hidden";const[r,a]=this.parentDimensions;this.width=t/r,this.height=e/a,this.fixAndSetPosition(),h(this,kn)&&x(this,sd,av).call(this,t,e),x(this,pr,Za).call(this),x(this,ds,sr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,e,i){var s,r,a;if(t instanceof W2)return null;const o=super.deserialize(t,e,i);o.thickness=t.thickness,o.color=Q.makeHexColor(...t.color),o.opacity=t.opacity;const[l,u]=o.pageDimensions,c=o.width*l,d=o.height*u,p=o.parentScale,g=t.thickness/2;S(o,kn,!0),S(o,Va,Math.round(c)),S(o,Ua,Math.round(d));const{paths:y,rect:b,rotation:A}=t;for(let{bezier:k}of y){k=x(s=An,lv,mE).call(s,k,b,A);const C=[];o.paths.push(C);let P=p*(k[0]-g),R=p*(k[1]-g);for(let D=2,_=k.length;D<_;D+=6){const T=p*(k[D]-g),F=p*(k[D+1]-g),j=p*(k[D+2]-g),V=p*(k[D+3]-g),U=p*(k[D+4]-g),Y=p*(k[D+5]-g);C.push([[P,R],[T,F],[j,V],[U,Y]]),P=U,R=Y}const O=x(this,ov,gE).call(this,C);o.bezierPath2D.push(O)}const E=x(r=o,wf,cv).call(r);return S(o,Ba,Math.max(Nt.MIN_SIZE,E[2]-E[0])),S(o,ja,Math.max(Nt.MIN_SIZE,E[3]-E[1])),x(a=o,sd,av).call(a,c,d),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=Nt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:kt.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:x(this,hv,vE).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ja=new WeakMap,Ba=new WeakMap,Ju=new WeakMap,td=new WeakMap,ed=new WeakMap,Ya=new WeakMap,bi=new WeakMap,Yi=new WeakMap,kn=new WeakMap,ga=new WeakMap,Wa=new WeakMap,Xa=new WeakMap,Va=new WeakMap,Ua=new WeakMap,qs=new WeakMap,K0=new WeakSet,cE=function(n){const t=i=>{this.thickness=i,x(this,Qa,oh).call(this)},e=this.thickness;this.addCommands({cmd:t.bind(this,n),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Y0=new WeakSet,uE=function(n){const t=i=>{this.color=i,x(this,ds,sr).call(this)},e=this.color;this.addCommands({cmd:t.bind(this,n),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},X0=new WeakSet,dE=function(n){const t=i=>{this.opacity=i,x(this,ds,sr).call(this)};n/=100;const e=this.opacity;this.addCommands({cmd:t.bind(this,n),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Z0=new WeakSet,fE=function(){const{parentRotation:n,parentDimensions:[t,e]}=this;switch(n){case 90:return[0,e,e,t];case 180:return[t,e,t,e];case 270:return[t,0,e,t];default:return[0,0,t,e]}},nd=new WeakSet,ag=function(){const{ctx:n,color:t,opacity:e,thickness:i,parentScale:s,scaleFactor:r}=this;n.lineWidth=i*s/r,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${t}${yF(e)}`},Q0=new WeakSet,pE=function(n,t){this.canvas.addEventListener("contextmenu",Xe),this.canvas.addEventListener("pointerleave",h(this,td)),this.canvas.addEventListener("pointermove",h(this,Ju)),this.canvas.addEventListener("pointerup",h(this,ed)),this.canvas.removeEventListener("pointerdown",h(this,Ya)),this.isEditing=!0,h(this,Wa)||(S(this,Wa,!0),x(this,pr,Za).call(this),this.thickness||(this.thickness=He._defaultThickness),this.color||(this.color=He._defaultColor||Nt._defaultLineColor),this.opacity??(this.opacity=He._defaultOpacity)),this.currentPath.push([n,t]),S(this,ga,!1),x(this,nd,ag).call(this),S(this,qs,()=>{x(this,nv,bb).call(this),h(this,qs)&&window.requestAnimationFrame(h(this,qs))}),window.requestAnimationFrame(h(this,qs))},mf=new WeakSet,J0=function(n,t){const[e,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===e&&t===i)return;const s=this.currentPath;let r=h(this,Yi);if(s.push([n,t]),S(this,ga,!0),s.length<=2){r.moveTo(...s[0]),r.lineTo(n,t);return}s.length===3&&(S(this,Yi,r=new Path2D),r.moveTo(...s[0])),x(this,iv,Ab).call(this,r,...s.at(-3),...s.at(-2),n,t)},tv=new WeakSet,yb=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);h(this,Yi).lineTo(...n)},ev=new WeakSet,wb=function(n,t){S(this,qs,null),n=Math.min(Math.max(n,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),x(this,mf,J0).call(this,n,t),x(this,tv,yb).call(this);let e;if(this.currentPath.length!==1)e=x(this,sv,xb).call(this);else{const o=[n,t];e=[[o,o.slice(),o.slice(),o]]}const i=h(this,Yi),s=this.currentPath;this.currentPath=[],S(this,Yi,new Path2D);const r=()=>{this.allRawPaths.push(s),this.paths.push(e),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(x(this,rh,vf).call(this),x(this,ah,yf).call(this)),x(this,Qa,oh).call(this))};this.addCommands({cmd:r,undo:a,mustExec:!0})},nv=new WeakSet,bb=function(){if(!h(this,ga))return;S(this,ga,!1);const n=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),e=t.map(r=>r[0]),i=t.map(r=>r[1]);Math.min(...e)-n,Math.max(...e)+n,Math.min(...i)-n,Math.max(...i)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)s.stroke(r);s.stroke(h(this,Yi)),s.restore()},iv=new WeakSet,Ab=function(n,t,e,i,s,r,a){const o=(t+i)/2,l=(e+s)/2,u=(i+r)/2,c=(s+a)/2;n.bezierCurveTo(o+2*(i-o)/3,l+2*(s-l)/3,u+2*(i-u)/3,c+2*(s-c)/3,u,c)},sv=new WeakSet,xb=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const t=[];let e,[i,s]=n[0];for(e=1;e<n.length-2;e++){const[d,p]=n[e],[g,y]=n[e+1],b=(d+g)/2,A=(p+y)/2,E=[i+2*(d-i)/3,s+2*(p-s)/3],k=[b+2*(d-b)/3,A+2*(p-A)/3];t.push([[i,s],E,k,[b,A]]),[i,s]=[b,A]}const[r,a]=n[e],[o,l]=n[e+1],u=[i+2*(r-i)/3,s+2*(a-s)/3],c=[o+2*(r-o)/3,l+2*(a-l)/3];return t.push([[i,s],u,c,[o,l]]),t},ds=new WeakSet,sr=function(){if(this.isEmpty()){x(this,El,oc).call(this);return}x(this,nd,ag).call(this);const{canvas:n,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.width,n.height),x(this,El,oc).call(this);for(const e of this.bezierPath2D)t.stroke(e)},id=new WeakSet,rv=function(n){this.canvas.removeEventListener("pointerleave",h(this,td)),this.canvas.removeEventListener("pointermove",h(this,Ju)),this.canvas.removeEventListener("pointerup",h(this,ed)),this.canvas.addEventListener("pointerdown",h(this,Ya)),h(this,bi)&&clearTimeout(h(this,bi)),S(this,bi,setTimeout(()=>{S(this,bi,null),this.canvas.removeEventListener("contextmenu",Xe)},10)),x(this,ev,wb).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},rh=new WeakSet,vf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ah=new WeakSet,yf=function(){S(this,Xa,new ResizeObserver(n=>{const t=n[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),h(this,Xa).observe(this.div)},pr=new WeakSet,Za=function(){if(!h(this,Wa))return;const[n,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*t),x(this,El,oc).call(this)},sd=new WeakSet,av=function(n,t){const e=x(this,kl,hc).call(this),i=(n-e)/h(this,Ba),s=(t-e)/h(this,ja);this.scaleFactor=Math.min(i,s)},El=new WeakSet,oc=function(){const n=x(this,kl,hc).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},ov=new WeakSet,gE=function(n){const t=new Path2D;for(let e=0,i=n.length;e<i;e++){const[s,r,a,o]=n[e];e===0&&t.moveTo(...s),t.bezierCurveTo(r[0],r[1],a[0],a[1],o[0],o[1])}return t},lc=new WeakSet,og=function(n,t,e){const[i,s,r,a]=t;switch(e){case 0:for(let o=0,l=n.length;o<l;o+=2)n[o]+=i,n[o+1]=a-n[o+1];break;case 90:for(let o=0,l=n.length;o<l;o+=2){const u=n[o];n[o]=n[o+1]+i,n[o+1]=u+s}break;case 180:for(let o=0,l=n.length;o<l;o+=2)n[o]=r-n[o],n[o+1]+=s;break;case 270:for(let o=0,l=n.length;o<l;o+=2){const u=n[o];n[o]=r-n[o+1],n[o+1]=a-u}break;default:throw new Error("Invalid rotation")}return n},lv=new WeakSet,mE=function(n,t,e){const[i,s,r,a]=t;switch(e){case 0:for(let o=0,l=n.length;o<l;o+=2)n[o]-=i,n[o+1]=a-n[o+1];break;case 90:for(let o=0,l=n.length;o<l;o+=2){const u=n[o];n[o]=n[o+1]-s,n[o+1]=u-i}break;case 180:for(let o=0,l=n.length;o<l;o+=2)n[o]=r-n[o],n[o+1]-=s;break;case 270:for(let o=0,l=n.length;o<l;o+=2){const u=n[o];n[o]=a-n[o+1],n[o+1]=r-u}break;default:throw new Error("Invalid rotation")}return n},hv=new WeakSet,vE=function(n,t,e,i){var s,r;const a=[],o=this.thickness/2,l=n*t+o,u=n*e+o;for(const c of this.paths){const d=[],p=[];for(let g=0,y=c.length;g<y;g++){const[b,A,E,k]=c[g];if(b[0]===k[0]&&b[1]===k[1]&&y===1){const j=n*b[0]+l,V=n*b[1]+u;d.push(j,V),p.push(j,V);break}const C=n*b[0]+l,P=n*b[1]+u,R=n*A[0]+l,O=n*A[1]+u,D=n*E[0]+l,_=n*E[1]+u,T=n*k[0]+l,F=n*k[1]+u;g===0&&(d.push(C,P),p.push(C,P)),d.push(R,O,D,_,T,F),p.push(R,O),g===y-1&&p.push(T,F)}a.push({bezier:x(s=He,lc,og).call(s,d,i,this.rotation),points:x(r=He,lc,og).call(r,p,i,this.rotation)})}return a},wf=new WeakSet,cv=function(){let n=1/0,t=-1/0,e=1/0,i=-1/0;for(const s of this.paths)for(const[r,a,o,l]of s){const u=Q.bezierBoundingBox(...r,...a,...o,...l);n=Math.min(n,u[0]),e=Math.min(e,u[1]),t=Math.max(t,u[2]),i=Math.max(i,u[3])}return[n,e,t,i]},kl=new WeakSet,hc=function(){return h(this,kn)?Math.ceil(this.thickness*this.parentScale):0},Qa=new WeakSet,oh=function(n=!1){if(this.isEmpty())return;if(!h(this,kn)){x(this,ds,sr).call(this);return}const t=x(this,wf,cv).call(this),e=x(this,kl,hc).call(this);S(this,Ba,Math.max(Nt.MIN_SIZE,t[2]-t[0])),S(this,ja,Math.max(Nt.MIN_SIZE,t[3]-t[1]));const i=Math.ceil(e+h(this,Ba)*this.scaleFactor),s=Math.ceil(e+h(this,ja)*this.scaleFactor),[r,a]=this.parentDimensions;this.width=i/r,this.height=s/a,this.setAspectRatio(i,s);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],x(this,pr,Za).call(this),x(this,ds,sr).call(this),S(this,Va,i),S(this,Ua,s),this.setDims(i,s);const u=n?e/this.scaleFactor/2:0;this.translate(o-this.translationX-u,l-this.translationY-u)},v(He,ov),v(He,lc),v(He,lv),pt(He,"_defaultColor",null),pt(He,"_defaultOpacity",1),pt(He,"_defaultThickness",1),pt(He,"_type","ink"),pt(He,"_editorType",kt.INK);let iN=He;var ke,Ce,rr,ms,gr,_l,Ai,Ja,xi,Gn,rd,ma,Po,va,Ro,Cl,ad,bf,uv,dv,Sb,fv,Eb,od,lg,Tl,ld,pv,kb;const hd=class extends Nt{constructor(t){super({...t,name:"stampEditor"}),v(this,ma),v(this,va),v(this,Cl),v(this,bf),v(this,dv),v(this,fv),v(this,od),v(this,Tl),v(this,pv),v(this,ke,null),v(this,Ce,null),v(this,rr,null),v(this,ms,null),v(this,gr,null),v(this,_l,""),v(this,Ai,null),v(this,Ja,null),v(this,xi,null),v(this,Gn,!1),v(this,rd,!1),S(this,ms,t.bitmapUrl),S(this,gr,t.bitmapFile)}static initialize(t,e){Nt.initialize(t,e)}static get supportedTypes(){return Ct(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return Ct(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(kt.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,e;h(this,Ce)&&(S(this,ke,null),this._uiManager.imageManager.deleteId(h(this,Ce)),(t=h(this,Ai))==null||t.remove(),S(this,Ai,null),(e=h(this,Ja))==null||e.disconnect(),S(this,Ja,null),h(this,xi)&&(clearTimeout(h(this,xi)),S(this,xi,null))),super.remove()}rebuild(){if(!this.parent){h(this,Ce)&&x(this,Cl,ad).call(this);return}super.rebuild(),this.div!==null&&(h(this,Ce)&&h(this,Ai)===null&&x(this,Cl,ad).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,rr)||h(this,ke)||h(this,ms)||h(this,gr)||h(this,Ce))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),h(this,ke)?x(this,bf,uv).call(this):x(this,Cl,ad).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return h(this,Ai)}static deserialize(t,e,i){if(t instanceof V2)return null;const s=super.deserialize(t,e,i),{rect:r,bitmapUrl:a,bitmapId:o,isSvg:l,accessibilityData:u}=t;o&&i.imageManager.isValidId(o)?S(s,Ce,o):S(s,ms,a),S(s,Gn,l);const[c,d]=s.pageDimensions;return s.width=(r[2]-r[0])/c,s.height=(r[3]-r[1])/d,u&&(s.altTextData=u),s}serialize(t=!1,e=null){if(this.isEmpty())return null;const i={annotationType:kt.STAMP,bitmapId:h(this,Ce),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,Gn),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=x(this,Tl,ld).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:r}=this.altTextData;if(!s&&r&&(i.accessibilityData={type:"Figure",alt:r}),e===null)return i;e.stamps||(e.stamps=new Map);const a=h(this,Gn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(h(this,Ce)))e.stamps.set(h(this,Ce),{area:a,serialized:i}),i.bitmap=x(this,Tl,ld).call(this,!1);else if(h(this,Gn)){const o=e.stamps.get(h(this,Ce));a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=x(this,Tl,ld).call(this,!1))}return i}};ke=new WeakMap,Ce=new WeakMap,rr=new WeakMap,ms=new WeakMap,gr=new WeakMap,_l=new WeakMap,Ai=new WeakMap,Ja=new WeakMap,xi=new WeakMap,Gn=new WeakMap,rd=new WeakMap,ma=new WeakSet,Po=function(n,t=!1){if(!n){this.remove();return}S(this,ke,n.bitmap),t||(S(this,Ce,n.id),S(this,Gn,n.isSvg)),n.file&&S(this,_l,n.file.name),x(this,bf,uv).call(this)},va=new WeakSet,Ro=function(){S(this,rr,null),this._uiManager.enableWaiting(!1),h(this,Ai)&&this.div.focus()},Cl=new WeakSet,ad=function(){if(h(this,Ce)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Ce)).then(t=>x(this,ma,Po).call(this,t,!0)).finally(()=>x(this,va,Ro).call(this));return}if(h(this,ms)){const t=h(this,ms);S(this,ms,null),this._uiManager.enableWaiting(!0),S(this,rr,this._uiManager.imageManager.getFromUrl(t).then(e=>x(this,ma,Po).call(this,e)).finally(()=>x(this,va,Ro).call(this)));return}if(h(this,gr)){const t=h(this,gr);S(this,gr,null),this._uiManager.enableWaiting(!0),S(this,rr,this._uiManager.imageManager.getFromFile(t).then(e=>x(this,ma,Po).call(this,e)).finally(()=>x(this,va,Ro).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=hd.supportedTypesStr,S(this,rr,new Promise(t=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(n.files[0]);x(this,ma,Po).call(this,e)}t()}),n.addEventListener("cancel",()=>{this.remove(),t()})}).finally(()=>x(this,va,Ro).call(this))),n.click()},bf=new WeakSet,uv=function(){const{div:n}=this;let{width:t,height:e}=h(this,ke);const[i,s]=this.pageDimensions,r=.75;if(this.width)t=this.width*i,e=this.height*s;else if(t>r*i||e>r*s){const u=Math.min(r*i/t,r*s/e);t*=u,e*=u}const[a,o]=this.parentDimensions;this.setDims(t*a/i,e*o/s),this._uiManager.enableWaiting(!1);const l=S(this,Ai,document.createElement("canvas"));n.append(l),n.hidden=!1,x(this,od,lg).call(this,t,e),x(this,pv,kb).call(this),h(this,rd)||(this.parent.addUndoableEditor(this),S(this,rd,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,_l)&&l.setAttribute("aria-label",h(this,_l))},dv=new WeakSet,Sb=function(n,t){var e;const[i,s]=this.parentDimensions;this.width=n/i,this.height=t/s,this.setDims(n,t),(e=this._initialOptions)!=null&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,xi)!==null&&clearTimeout(h(this,xi)),S(this,xi,setTimeout(()=>{S(this,xi,null),x(this,od,lg).call(this,n,t)},200))},fv=new WeakSet,Eb=function(n,t){const{width:e,height:i}=h(this,ke);let s=e,r=i,a=h(this,ke);for(;s>2*n||r>2*t;){const o=s,l=r;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const u=new OffscreenCanvas(s,r);u.getContext("2d").drawImage(a,0,0,o,l,0,0,s,r),a=u.transferToImageBitmap()}return a},od=new WeakSet,lg=function(n,t){n=Math.ceil(n),t=Math.ceil(t);const e=h(this,Ai);if(!e||e.width===n&&e.height===t)return;e.width=n,e.height=t;const i=h(this,Gn)?h(this,ke):x(this,fv,Eb).call(this,n,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const r=new OffscreenCanvas(n,t).getContext("2d");r.drawImage(i,0,0,i.width,i.height,0,0,n,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:r.getImageData(0,0,n,t).data,width:n,height:t,channels:4}}).then(a=>{const o=(a==null?void 0:a.output)||"";this.parent&&o&&!this.hasAltText()&&(this.altTextData={altText:o,decorative:!1})})}const s=e.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(i,0,0,i.width,i.height,0,0,n,t)},Tl=new WeakSet,ld=function(n){if(n){if(h(this,Gn)){const e=this._uiManager.imageManager.getSvgUrl(h(this,Ce));if(e)return e}const t=document.createElement("canvas");return{width:t.width,height:t.height}=h(this,ke),t.getContext("2d").drawImage(h(this,ke),0,0),t.toDataURL()}if(h(this,Gn)){const[t,e]=this.pageDimensions,i=Math.round(this.width*t*ho.PDF_TO_CSS_UNITS),s=Math.round(this.height*e*ho.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(i,s);return r.getContext("2d").drawImage(h(this,ke),0,0,h(this,ke).width,h(this,ke).height,0,0,i,s),r.transferToImageBitmap()}return structuredClone(h(this,ke))},pv=new WeakSet,kb=function(){S(this,Ja,new ResizeObserver(n=>{const t=n[0].contentRect;t.width&&t.height&&x(this,dv,Sb).call(this,t.width,t.height)})),h(this,Ja).observe(this.div)},pt(hd,"_type","stamp"),pt(hd,"_editorType",kt.STAMP);let sN=hd;var ya,Ml,ci,wa,Xi,Zi,Qi,fn,Ks,lh,Pl,qe,at,mr,gv,yE,Af,mv,cd,vv,ud,yv,Rl,dd;const fd=class Ys{constructor({uiManager:t,pageIndex:e,div:i,accessibilityManager:s,annotationLayer:r,drawLayer:a,textLayer:o,viewport:l,l10n:u}){v(this,gv),v(this,Af),v(this,cd),v(this,ud),v(this,Rl),v(this,ya,void 0),v(this,Ml,!1),v(this,ci,null),v(this,wa,null),v(this,Xi,null),v(this,Zi,null),v(this,Qi,null),v(this,fn,new Map),v(this,Ks,!1),v(this,lh,!1),v(this,Pl,!1),v(this,qe,null),v(this,at,void 0);const c=[...h(Ys,mr).values()];if(!Ys._initialized){Ys._initialized=!0;for(const d of c)d.initialize(u,t)}t.registerEditorTypes(c),S(this,at,t),this.pageIndex=e,this.div=i,S(this,ya,s),S(this,ci,r),this.viewport=l,S(this,qe,o),this.drawLayer=a,h(this,at).addLayer(this)}get isEmpty(){return h(this,fn).size===0}get isInvisible(){return this.isEmpty&&h(this,at).getMode()===kt.NONE}updateToolbar(t){h(this,at).updateToolbar(t)}updateMode(t=h(this,at).getMode()){switch(x(this,Rl,dd).call(this),t){case kt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case kt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case kt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of h(Ys,mr).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,qe))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,at).getMode()===kt.INK){if(!t){for(const e of h(this,fn).values())if(e.isEmpty()){e.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(t){h(this,at).setEditingState(t)}addCommands(t){h(this,at).addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,ci))==null||e.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of h(this,fn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,at).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!h(this,ci))return;const e=h(this,ci).getEditableAnnotations();for(const i of e){if(i.hide(),h(this,at).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const s=this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var t;S(this,Pl,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const r of h(this,fn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else i.set(r.annotationElementId,r);(t=this.getEditableAnnotation(r.annotationElementId))==null||t.show(),r.remove()}if(h(this,ci)){const r=h(this,ci).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(h(this,at).isDeletedAnnotationElement(o))continue;let l=i.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(h(this,at).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}x(this,Rl,dd).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of h(Ys,mr).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,Pl,!1)}getEditableAnnotation(t){var e;return((e=h(this,ci))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,at).getActive()!==t&&h(this,at).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,(t=h(this,qe))!=null&&t.div&&!h(this,Zi)&&(S(this,Zi,x(this,gv,yE).bind(this)),h(this,qe).div.addEventListener("pointerdown",h(this,Zi)),h(this,qe).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,qe))!=null&&t.div&&h(this,Zi)&&(h(this,qe).div.removeEventListener("pointerdown",h(this,Zi)),S(this,Zi,null),h(this,qe).div.classList.remove("highlighting"))}enableClick(){h(this,Xi)||(S(this,Xi,this.pointerdown.bind(this)),S(this,wa,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",h(this,Xi)),this.div.addEventListener("pointerup",h(this,wa)))}disableClick(){h(this,Xi)&&(this.div.removeEventListener("pointerdown",h(this,Xi)),this.div.removeEventListener("pointerup",h(this,wa)),S(this,Xi,null),S(this,wa,null))}attach(t){h(this,fn).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,at).isDeletedAnnotationElement(e)&&h(this,at).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,fn).delete(t.id),(e=h(this,ya))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,Pl)&&t.annotationElementId&&h(this,at).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,at).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,lh)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,at).addDeletedAnnotationElement(t.annotationElementId),Nt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,at).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,at).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:i}=document;t.div.contains(i)&&!h(this,Qi)&&(t._focusEventsAllowed=!1,S(this,Qi,setTimeout(()=>{S(this,Qi,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0}),i.focus())},0))),t._structTreeParentId=(e=h(this,ya))==null?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return h(this,at).getId()}canCreateNewEmptyEditor(){var t;return(t=h(this,Af,mv))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,at).updateToolbar(t),h(this,at).updateMode(t);const{offsetX:i,offsetY:s}=x(this,ud,yv).call(this),r=this.getNextId(),a=x(this,cd,vv).call(this,{parent:this,id:r,x:i,y:s,uiManager:h(this,at),isCentered:!0,...e});a&&this.add(a)}deserialize(t){var e;return((e=h(Ys,mr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,at)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),r=x(this,cd,vv).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:h(this,at),isCentered:e,...i});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(x(this,ud,yv).call(this),!0)}setSelected(t){h(this,at).setSelected(t)}toggleSelected(t){h(this,at).toggleSelected(t)}isSelected(t){return h(this,at).isSelected(t)}unselect(t){h(this,at).unselect(t)}pointerup(t){const{isMac:e}=Ze.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Ks)){if(S(this,Ks,!1),!h(this,Ml)){S(this,Ml,!0);return}if(h(this,at).getMode()===kt.STAMP){h(this,at).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,at).getMode()===kt.HIGHLIGHT&&this.enableTextSelection(),h(this,Ks)){S(this,Ks,!1);return}const{isMac:e}=Ze.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;S(this,Ks,!0);const i=h(this,at).getActive();S(this,Ml,!i||i.isEmpty())}findNewParent(t,e,i){const s=h(this,at).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=h(this,at).getActive())==null?void 0:t.parent)===this&&(h(this,at).commitOrRemove(),h(this,at).setActiveEditor(null)),h(this,Qi)&&(clearTimeout(h(this,Qi)),S(this,Qi,null));for(const i of h(this,fn).values())(e=h(this,ya))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,h(this,fn).clear(),h(this,at).removeLayer(this)}render({viewport:t}){this.viewport=t,Er(this.div,t);for(const e of h(this,at).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,at).commitOrRemove(),x(this,Rl,dd).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Er(this.div,{rotation:i}),e!==i)for(const s of h(this,fn).values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,at).viewParameters.realScale}};ya=new WeakMap,Ml=new WeakMap,ci=new WeakMap,wa=new WeakMap,Xi=new WeakMap,Zi=new WeakMap,Qi=new WeakMap,fn=new WeakMap,Ks=new WeakMap,lh=new WeakMap,Pl=new WeakMap,qe=new WeakMap,at=new WeakMap,mr=new WeakMap,gv=new WeakSet,yE=function(n){if(h(this,at).unselectAll(),n.target===h(this,qe).div){const{isMac:t}=Ze.platform;if(n.button!==0||n.ctrlKey&&t)return;h(this,at).showAllEditors("highlight",!0,!0),h(this,qe).div.classList.add("free"),vb.startHighlighting(this,h(this,at).direction==="ltr",n),h(this,qe).div.addEventListener("pointerup",()=>{h(this,qe).div.classList.remove("free")},{once:!0}),n.preventDefault()}},Af=new WeakSet,mv=function(){return h(fd,mr).get(h(this,at).getMode())},cd=new WeakSet,vv=function(n){const t=h(this,Af,mv);return t?new t.prototype.constructor(n):null},ud=new WeakSet,yv=function(){const{x:n,y:t,width:e,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,n),r=Math.max(0,t),a=Math.min(window.innerWidth,n+e),o=Math.min(window.innerHeight,t+i),l=(s+a)/2-n,u=(r+o)/2-t,[c,d]=this.viewport.rotation%180===0?[l,u]:[u,l];return{offsetX:c,offsetY:d}},Rl=new WeakSet,dd=function(){S(this,lh,!0);for(const n of h(this,fn).values())n.isEmpty()&&n.remove();S(this,lh,!1)},pt(fd,"_initialized",!1),v(fd,mr,new Map([eN,iN,sN,vb].map(n=>[n._editorType,n])));let rN=fd;var gi,pd,le,Xs,gd,wv,md,bv,Av,wE;const ba=class xn{constructor({pageIndex:t}){v(this,md),v(this,Av),v(this,gi,null),v(this,pd,0),v(this,le,new Map),v(this,Xs,new Map),this.pageIndex=t}setParent(t){if(!h(this,gi)){S(this,gi,t);return}if(h(this,gi)!==t){if(h(this,le).size>0)for(const e of h(this,le).values())e.remove(),t.append(e);S(this,gi,t)}}static get _svgFactory(){return Ct(this,"_svgFactory",new xy)}highlight(t,e,i,s=!1){const r=wn(this,pd)._++,a=x(this,md,bv).call(this,t.box);a.classList.add("highlight"),t.free&&a.classList.add("free");const o=xn._svgFactory.createElement("defs");a.append(o);const l=xn._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",u),l.setAttribute("d",t.toSVGPath()),s&&h(this,Xs).set(r,l);const c=x(this,Av,wE).call(this,o,u),d=xn._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",e),a.setAttribute("fill-opacity",i),d.setAttribute("href",`#${u}`),h(this,le).set(r,a),{id:r,clipPathId:`url(#${c})`}}highlightOutline(t){const e=wn(this,pd)._++,i=x(this,md,bv).call(this,t.box);i.classList.add("highlightOutline");const s=xn._svgFactory.createElement("defs");i.append(s);const r=xn._svgFactory.createElement("path");s.append(r);const a=`path_p${this.pageIndex}_${e}`;r.setAttribute("id",a),r.setAttribute("d",t.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(t.free){i.classList.add("free");const c=xn._svgFactory.createElement("mask");s.append(c),o=`mask_p${this.pageIndex}_${e}`,c.setAttribute("id",o),c.setAttribute("maskUnits","objectBoundingBox");const d=xn._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const p=xn._svgFactory.createElement("use");c.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=xn._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return i.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),h(this,le).set(e,i),e}finalizeLine(t,e){const i=h(this,Xs).get(t);h(this,Xs).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,le).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),h(this,Xs).delete(t)}updatePath(t,e){h(this,Xs).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;x(i=xn,gd,wv).call(i,h(this,le).get(t),e)}show(t,e){h(this,le).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,le).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,le).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,le).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,le).get(t).classList.add(e)}removeClass(t,e){h(this,le).get(t).classList.remove(e)}remove(t){h(this,gi)!==null&&(h(this,le).get(t).remove(),h(this,le).delete(t))}destroy(){S(this,gi,null);for(const t of h(this,le).values())t.remove();h(this,le).clear()}};gi=new WeakMap,pd=new WeakMap,le=new WeakMap,Xs=new WeakMap,gd=new WeakSet,wv=function(n,{x:t=0,y:e=0,width:i=1,height:s=1}={}){const{style:r}=n;r.top=`${100*e}%`,r.left=`${100*t}%`,r.width=`${100*i}%`,r.height=`${100*s}%`},md=new WeakSet,bv=function(n){var t;const e=ba._svgFactory.create(1,1,!0);return h(this,gi).append(e),e.setAttribute("aria-hidden",!0),x(t=ba,gd,wv).call(t,e,n),e},Av=new WeakSet,wE=function(n,t){const e=ba._svgFactory.createElement("clipPath");n.append(e);const i=`clip_${t}`;e.setAttribute("id",i),e.setAttribute("clipPathUnits","objectBoundingBox");const s=ba._svgFactory.createElement("use");return e.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},v(ba,gd);let aN=ba;var oN=lt.AbortException,lN=lt.AnnotationEditorLayer,hN=lt.AnnotationEditorParamsType,cN=lt.AnnotationEditorType,uN=lt.AnnotationEditorUIManager,bE=lt.AnnotationLayer,AE=lt.AnnotationMode,dN=lt.CMapCompressionType,fN=lt.ColorPicker,pN=lt.DOMSVGFactory,gN=lt.DrawLayer,mN=lt.FeatureTest,Py=lt.GlobalWorkerOptions,vN=lt.ImageKind,yN=lt.InvalidPDFException,wN=lt.MissingPDFException,bN=lt.OPS,AN=lt.Outliner,xN=lt.PDFDataRangeTransport,SN=lt.PDFDateString,EN=lt.PDFWorker,kN=lt.PasswordResponses,_N=lt.PermissionFlag,CN=lt.PixelsPerInch,TN=lt.RenderingCancelledException,xE=lt.TextLayer,MN=lt.UnexpectedResponseException,PN=lt.Util,RN=lt.VerbosityLevel,LN=lt.XfaLayer,IN=lt.build,DN=lt.createValidAbsoluteUrl,ON=lt.fetchData,SE=lt.getDocument,FN=lt.getFilenameFromUrl,NN=lt.getPdfFilenameFromUrl,jN=lt.getXfaPageViewport,BN=lt.isDataScheme,WN=lt.isPdfFile,VN=lt.noContextMenu,UN=lt.normalizeUnicode,HN=lt.renderTextLayer,zN=lt.setLayerDimensions,$N=lt.shadow,GN=lt.updateTextLayer,EE=lt.version;const qN=Object.freeze(Object.defineProperty({__proto__:null,AbortException:oN,AnnotationEditorLayer:lN,AnnotationEditorParamsType:hN,AnnotationEditorType:cN,AnnotationEditorUIManager:uN,AnnotationLayer:bE,AnnotationMode:AE,CMapCompressionType:dN,ColorPicker:fN,DOMSVGFactory:pN,DrawLayer:gN,FeatureTest:mN,GlobalWorkerOptions:Py,ImageKind:vN,InvalidPDFException:yN,MissingPDFException:wN,OPS:bN,Outliner:AN,PDFDataRangeTransport:xN,PDFDateString:SN,PDFWorker:EN,PasswordResponses:kN,PermissionFlag:_N,PixelsPerInch:CN,RenderingCancelledException:TN,TextLayer:xE,UnexpectedResponseException:MN,Util:PN,VerbosityLevel:RN,XfaLayer:LN,build:IN,createValidAbsoluteUrl:DN,fetchData:ON,getDocument:SE,getFilenameFromUrl:FN,getPdfFilenameFromUrl:NN,getXfaPageViewport:jN,isDataScheme:BN,isPdfFile:WN,noContextMenu:VN,normalizeUnicode:UN,renderTextLayer:HN,setLayerDimensions:zN,shadow:$N,updateTextLayer:GN,version:EE},Symbol.toStringTag,{value:"Module"}));var oe=function(n,t,e){for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))},KN=["onCopy","onCut","onPaste"],YN=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],XN=["onFocus","onBlur"],ZN=["onInput","onInvalid","onReset","onSubmit"],QN=["onLoad","onError"],JN=["onKeyDown","onKeyPress","onKeyUp"],t6=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],e6=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],n6=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],i6=["onSelect"],s6=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],r6=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],a6=["onScroll"],o6=["onWheel"],l6=["onAnimationStart","onAnimationEnd","onAnimationIteration"],h6=["onTransitionEnd"],c6=["onToggle"],u6=["onChange"],d6=oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe(oe([],KN,!0),YN,!0),XN,!0),ZN,!0),QN,!0),JN,!0),t6,!0),e6,!0),n6,!0),i6,!0),s6,!0),r6,!0),a6,!0),o6,!0),l6,!0),h6,!0),u6,!0),c6);function kE(n,t){var e={};return d6.forEach(function(i){var s=n[i];s&&(t?e[i]=function(r){return s(r,t(i))}:e[i]=s)}),e}function Mh(n){var t=!1,e=new Promise(function(i,s){n.then(function(r){return!t&&i(r)}).catch(function(r){return!t&&s(r)})});return{promise:e,cancel:function(){t=!0}}}function _E(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=_E(n[t]))&&(i&&(i+=" "),i+=e);else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ep(){for(var n,t,e=0,i="";e<arguments.length;)(n=arguments[e++])&&(t=_E(n))&&(i&&(i+=" "),i+=t);return i}var f6=dt.env.NODE_ENV==="production",hg="Invariant failed";function Ft(n,t){if(!n){if(f6)throw new Error(hg);var e=typeof t=="function"?t():t,i=e?"".concat(hg,": ").concat(e):hg;throw new Error(i)}}var p6=dt.env.NODE_ENV!=="production",CE=function(){};if(p6){var g6=function(n,t){var e=arguments.length;t=new Array(e>1?e-1:0);for(var i=1;i<e;i++)t[i-1]=arguments[i];var s=0,r="Warning: "+n.replace(/%s/g,function(){return t[s++]});typeof console<"u"&&console.error(r);try{throw new Error(r)}catch{}};CE=function(n,t,e){var i=arguments.length;e=new Array(i>2?i-2:0);for(var s=2;s<i;s++)e[s-2]=arguments[s];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");n||g6.apply(null,[t].concat(e))}}var m6=CE;const Re=ux(m6);var _b=Object.prototype.hasOwnProperty;function Cb(n,t,e){for(e of n.keys())if(to(e,t))return e}function to(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&to(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=Cb(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=Cb(t,s),!s)||!to(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(_b.call(n,e)&&++i&&!_b.call(t,e)||!(e in t)||!to(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}const TE=I.createContext(null);function eo({children:n,type:t}){return N.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const v6="noopener noreferrer nofollow";class y6{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ft(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(t){Ft(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Ft(this.pdfDocument,"PDF document not loaded."),Ft(t,"Destination is not specified."),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Ft(Array.isArray(e),`"${e}" is not a valid destination array.`);const i=e[0];new Promise(s=>{Ft(this.pdfDocument,"PDF document not loaded."),i instanceof Object?this.pdfDocument.getPageIndex(i).then(r=>{s(r)}).catch(()=>{Ft(!1,`"${i}" is not a valid page reference.`)}):typeof i=="number"?s(i):Ft(!1,`"${i}" is not a valid destination reference.`)}).then(s=>{const r=s+1;Ft(this.pdfViewer,"PDF viewer is not initialized."),Ft(r>=1&&r<=this.pagesCount,`"${r}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Ft(this.pdfViewer,"PDF viewer is not initialized."),Ft(t>=1&&t<=this.pagesCount,`"${t}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||v6,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Tb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},np=typeof document<"u",ME=np&&window.location.protocol==="file:";function w6(n){return typeof n<"u"}function Ps(n){return w6(n)&&n!==null}function b6(n){return typeof n=="string"}function A6(n){return n instanceof ArrayBuffer}function x6(n){return Ft(np,"isBlob can only be used in a browser environment"),n instanceof Blob}function xv(n){return b6(n)&&/^data:/.test(n)}function Mb(n){Ft(xv(n),"Invalid data URI.");const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function S6(){return np&&window.devicePixelRatio||1}const PE="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Pb(){Re(!ME,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${PE}`)}function E6(){Re(!ME,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${PE}`)}function _r(n){n&&n.cancel&&n.cancel()}function Sv(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function k6(n){return n.name==="RenderingCancelledException"}function _6(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function C6(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function co(){return I.useReducer(C6,{value:void 0,error:void 0})}var T6=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function o(c){try{u(i.next(c))}catch(d){a(d)}}function l(c){try{u(i.throw(c))}catch(d){a(d)}}function u(c){c.done?r(c.value):s(c.value).then(o,l)}u((i=i.apply(n,[])).next())})},Rb=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const{PDFDataRangeTransport:M6}=qN,P6=(n,t)=>{switch(t){case Tb.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case Tb.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function Lb(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const R6=I.forwardRef(function(n,t){var{children:e,className:i,error:s="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:a,file:o,inputRef:l,imageResourcesPath:u,loading:c="Loading PDF",noData:d="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:y,onLoadSuccess:b,onPassword:A=P6,onSourceError:E,onSourceSuccess:k,options:C,renderMode:P,rotate:R}=n,O=Rb(n,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[D,_]=co(),{value:T,error:F}=D,[j,V]=co(),{value:U,error:Y}=j,G=I.useRef(new y6),H=I.useRef([]),B=I.useRef(void 0),it=I.useRef(void 0);o&&o!==B.current&&Lb(o)&&(Re(!to(o,B.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),B.current=o),C&&C!==it.current&&(Re(!to(C,it.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),it.current=C);const q=I.useRef({scrollPageIntoView:ot=>{const{dest:X,pageNumber:St,pageIndex:Rt=St-1}=ot;if(p){p({dest:X,pageIndex:Rt,pageNumber:St});return}const zt=H.current[Rt];if(zt){zt.scrollIntoView();return}Re(!1,`An internal link leading to page ${St} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});I.useImperativeHandle(t,()=>({linkService:G,pages:H,viewer:q}),[]);function At(){k&&k()}function gt(){F&&(Re(!1,F.toString()),E&&E(F))}function z(){_({type:"RESET"})}I.useEffect(z,[o,_]);const nt=I.useCallback(()=>T6(this,void 0,void 0,function*(){if(!o)return null;if(typeof o=="string")return xv(o)?{data:Mb(o)}:(Pb(),{url:o});if(o instanceof M6)return{range:o};if(A6(o))return{data:o};if(np&&x6(o))return{data:yield _6(o)};if(Ft(typeof o=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),Ft(Lb(o),"Invalid parameter object: need either .data, .range or .url"),"url"in o&&typeof o.url=="string"){if(xv(o.url)){const{url:ot}=o,X=Rb(o,["url"]),St=Mb(ot);return Object.assign({data:St},X)}Pb()}return o}),[o]);I.useEffect(()=>{const ot=Mh(nt());return ot.promise.then(X=>{_({type:"RESOLVE",value:X})}).catch(X=>{_({type:"REJECT",error:X})}),()=>{_r(ot)}},[nt,_]),I.useEffect(()=>{if(!(typeof T>"u")){if(T===!1){gt();return}At()}},[T]);function tt(){U&&(b&&b(U),H.current=new Array(U.numPages),G.current.setDocument(U))}function J(){Y&&(Re(!1,Y.toString()),g&&g(Y))}function st(){V({type:"RESET"})}I.useEffect(st,[V,T]);function et(){if(!T)return;const ot=Object.assign(Object.assign({},T),C),X=SE(ot);y&&(X.onProgress=y),A&&(X.onPassword=A);const St=X;return St.promise.then(Rt=>{V({type:"RESOLVE",value:Rt})}).catch(Rt=>{St.destroyed||V({type:"REJECT",error:Rt})}),()=>{St.destroy()}}I.useEffect(et,[C,V,T]),I.useEffect(()=>{if(!(typeof U>"u")){if(U===!1){J();return}tt()}},[U]);function wt(){G.current.setViewer(q.current),G.current.setExternalLinkRel(r),G.current.setExternalLinkTarget(a)}I.useEffect(wt,[r,a]);function K(ot,X){H.current[ot]=X}function Z(ot){delete H.current[ot]}const ft=I.useMemo(()=>({imageResourcesPath:u,linkService:G.current,onItemClick:p,pdf:U,registerPage:K,renderMode:P,rotate:R,unregisterPage:Z}),[u,p,U,P,R]),mt=I.useMemo(()=>kE(O,()=>U),[O,U]);function ht(){return N.jsx(TE.Provider,{value:ft,children:e})}function _t(){return o?U==null?N.jsx(eo,{type:"loading",children:typeof c=="function"?c():c}):U===!1?N.jsx(eo,{type:"error",children:typeof s=="function"?s():s}):ht():N.jsx(eo,{type:"no-data",children:typeof d=="function"?d():d})}return N.jsx("div",Object.assign({className:ep("react-pdf__Document",i),ref:l,style:{"--scale-factor":"1"}},mt,{children:_t()}))});function RE(){return I.useContext(TE)}function LE(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(s){e.forEach(function(r){typeof r=="function"?r(s):r&&(r.current=s)})}}const IE=I.createContext(null),DE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},L6=/^H(\d+)$/;function I6(n){return n in DE}function ip(n){return"children"in n}function OE(n){return ip(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function D6(n){const t={};if(ip(n)){const{role:e}=n,i=e.match(L6);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(I6(e)){const s=DE[e];s&&(t.role=s)}}return t}function FE(n){const t={};if(ip(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),OE(n)){const[e]=n.children;if(e){const i=FE(e);return Object.assign(Object.assign({},t),i)}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function O6(n){return n?Object.assign(Object.assign({},D6(n)),FE(n)):null}function NE({className:n,node:t}){const e=I.useMemo(()=>O6(t),[t]),i=I.useMemo(()=>!ip(t)||OE(t)?null:t.children.map((s,r)=>N.jsx(NE,{node:s},r)),[t]);return N.jsx("span",Object.assign({className:n},e,{children:i}))}function sp(){return I.useContext(IE)}function F6(){const n=sp();Ft(n,"Unable to find Page context.");const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=co(),{value:r,error:a}=i,{customTextRenderer:o,page:l}=n;function u(){r&&e&&e(r)}function c(){a&&(Re(!1,a.toString()),t&&t(a))}function d(){s({type:"RESET"})}I.useEffect(d,[s,l]);function p(){if(o||!l)return;const g=Mh(l.getStructTree()),y=g;return g.promise.then(b=>{s({type:"RESOLVE",value:b})}).catch(b=>{s({type:"REJECT",error:b})}),()=>_r(y)}return I.useEffect(p,[o,l,s]),I.useEffect(()=>{if(r!==void 0){if(r===!1){c();return}u()}},[r]),r?N.jsx(NE,{className:"react-pdf__Page__structTree structTree",node:r}):null}const Ib=AE;function N6(n){const t=sp();Ft(t,"Unable to find Page context.");const e=Object.assign(Object.assign({},t),n),{_className:i,canvasBackground:s,devicePixelRatio:r=S6(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:c,rotate:d,scale:p}=e,{canvasRef:g}=n;Ft(l,"Attempted to render page canvas, but no page was specified.");const y=I.useRef(null);function b(){l&&o&&o(Sv(l,p))}function A(R){k6(R)||(Re(!1,R.toString()),a&&a(R))}const E=I.useMemo(()=>l.getViewport({scale:p*r,rotation:d}),[r,l,d,p]),k=I.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);function C(){if(!l)return;l.cleanup();const{current:R}=y;if(!R)return;R.width=E.width,R.height=E.height,R.style.width=`${Math.floor(k.width)}px`,R.style.height=`${Math.floor(k.height)}px`,R.style.visibility="hidden";const O={annotationMode:u?Ib.ENABLE_FORMS:Ib.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:E};s&&(O.background=s);const D=l.render(O),_=D;return D.promise.then(()=>{R.style.visibility="",b()}).catch(A),()=>_r(_)}I.useEffect(C,[s,y,r,l,u,E,k]);const P=I.useCallback(()=>{const{current:R}=y;R&&(R.width=0,R.height=0)},[y]);return I.useEffect(()=>P,[P]),N.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:LE(g,y),style:{display:"block",userSelect:"none"},children:c?N.jsx(F6,{}):null})}function j6(n){return"str"in n}function B6(){const n=sp();Ft(n,"Unable to find Page context.");const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:o,pageNumber:l,rotate:u,scale:c}=n;Ft(a,"Attempted to load page text content, but no page was specified.");const[d,p]=co(),{value:g,error:y}=d,b=I.useRef(null),A=I.useRef(void 0);Re(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){g&&i&&i(g)}function k(){y&&(Re(!1,y.toString()),e&&e(y))}function C(){p({type:"RESET"})}I.useEffect(C,[a,p]);function P(){if(!a)return;const j=Mh(a.getTextContent()),V=j;return j.promise.then(U=>{p({type:"RESOLVE",value:U})}).catch(U=>{p({type:"REJECT",error:U})}),()=>_r(V)}I.useEffect(P,[a,p]),I.useEffect(()=>{if(g!==void 0){if(g===!1){k();return}E()}},[g]);const R=I.useCallback(()=>{r&&r()},[r]),O=I.useCallback(j=>{Re(!1,j.toString()),s&&s(j)},[s]);function D(){const j=A.current;j&&j.classList.add("active")}function _(){const j=A.current;j&&j.classList.remove("active")}const T=I.useMemo(()=>a.getViewport({scale:c,rotation:u}),[a,u,c]);function F(){if(!a||!g)return;const{current:j}=b;if(!j)return;j.innerHTML="";const V=a.streamTextContent({includeMarkedContent:!0}),U={container:j,textContentSource:V,viewport:T},Y=new xE(U),G=Y;return Y.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",j.append(H),A.current=H;const B=j.querySelectorAll('[role="presentation"]');if(t){let it=0;g.items.forEach((q,At)=>{if(!j6(q))return;const gt=B[it];if(!gt)return;const z=t(Object.assign({pageIndex:o,pageNumber:l,itemIndex:At},q));gt.innerHTML=z,it+=q.str&&q.hasEOL?2:1})}R()}).catch(O),()=>_r(G)}return I.useLayoutEffect(F,[t,O,R,a,o,l,g,T]),N.jsx("div",{className:ep("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:D,ref:b})}function W6(){const n=RE(),t=sp();Ft(t,"Unable to find Page context.");const e=Object.assign(Object.assign({},n),t),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:c,renderForms:d,rotate:p,scale:g=1}=e;Ft(c,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),Ft(u,"Attempted to load page annotations, but no page was specified."),Ft(s,"Attempted to load page annotations, but no linkService was specified.");const[y,b]=co(),{value:A,error:E}=y,k=I.useRef(null);Re(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){A&&a&&a(A)}function P(){E&&(Re(!1,E.toString()),r&&r(E))}function R(){b({type:"RESET"})}I.useEffect(R,[b,u]);function O(){if(!u)return;const j=Mh(u.getAnnotations()),V=j;return j.promise.then(U=>{b({type:"RESOLVE",value:U})}).catch(U=>{b({type:"REJECT",error:U})}),()=>{_r(V)}}I.useEffect(O,[b,u,d]),I.useEffect(()=>{if(A!==void 0){if(A===!1){P();return}C()}},[A]);function D(){l&&l()}function _(j){Re(!1,`${j}`),o&&o(j)}const T=I.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);function F(){if(!c||!u||!s||!A)return;const{current:j}=k;if(!j)return;const V=T.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:j,l10n:null,page:u,viewport:V},Y={annotations:A,annotationStorage:c.annotationStorage,div:j,imageResourcesPath:i,linkService:s,page:u,renderForms:d,viewport:V};j.innerHTML="";try{new bE(U).render(Y),D()}catch(G){_(G)}return()=>{}}return I.useEffect(F,[A,i,s,u,d,T]),N.jsx("div",{className:ep("react-pdf__Page__annotations","annotationLayer"),ref:k})}var V6=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const Db=1;function U6(n){const t=RE(),e=Object.assign(Object.assign({},t),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:u,customTextRenderer:c,devicePixelRatio:d,error:p="Failed to load the page.",height:g,inputRef:y,loading:b="Loading page",noData:A="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:k,onGetStructTreeError:C,onGetStructTreeSuccess:P,onGetTextError:R,onGetTextSuccess:O,onLoadError:D,onLoadSuccess:_,onRenderAnnotationLayerError:T,onRenderAnnotationLayerSuccess:F,onRenderError:j,onRenderSuccess:V,onRenderTextLayerError:U,onRenderTextLayerSuccess:Y,pageIndex:G,pageNumber:H,pdf:B,registerPage:it,renderAnnotationLayer:q=!0,renderForms:At=!1,renderMode:gt="canvas",renderTextLayer:z=!0,rotate:nt,scale:tt=Db,unregisterPage:J,width:st}=e,et=V6(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[wt,K]=co(),{value:Z,error:ft}=wt,mt=I.useRef(null);Ft(B,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const ht=Ps(H)?H-1:G??null,_t=H??(Ps(G)?G+1:null),ot=nt??(Z?Z.rotate:null),X=I.useMemo(()=>{if(!Z)return null;let f=1;const m=tt??Db;if(st||g){const w=Z.getViewport({scale:1,rotation:ot});st?f=st/w.width:g&&(f=g/w.height)}return m*f},[g,Z,ot,tt,st]);function St(){return()=>{Ps(ht)&&s&&J&&J(ht)}}I.useEffect(St,[s,B,ht,J]);function Rt(){if(_){if(!Z||!X)return;_(Sv(Z,X))}if(s&&it){if(!Ps(ht)||!mt.current)return;it(ht,mt.current)}}function zt(){ft&&(Re(!1,ft.toString()),D&&D(ft))}function re(){K({type:"RESET"})}I.useEffect(re,[K,B,ht]);function $t(){if(!B||!_t)return;const f=Mh(B.getPage(_t)),m=f;return f.promise.then(w=>{K({type:"RESOLVE",value:w})}).catch(w=>{K({type:"REJECT",error:w})}),()=>_r(m)}I.useEffect($t,[K,B,ht,_t,it]),I.useEffect(()=>{if(Z!==void 0){if(Z===!1){zt();return}Rt()}},[Z,X]);const Mt=I.useMemo(()=>Z&&Ps(ht)&&_t&&Ps(ot)&&Ps(X)?{_className:i,canvasBackground:r,customTextRenderer:c,devicePixelRatio:d,onGetAnnotationsError:E,onGetAnnotationsSuccess:k,onGetStructTreeError:C,onGetStructTreeSuccess:P,onGetTextError:R,onGetTextSuccess:O,onRenderAnnotationLayerError:T,onRenderAnnotationLayerSuccess:F,onRenderError:j,onRenderSuccess:V,onRenderTextLayerError:U,onRenderTextLayerSuccess:Y,page:Z,pageIndex:ht,pageNumber:_t,renderForms:At,renderTextLayer:z,rotate:ot,scale:X}:null,[i,r,c,d,E,k,C,P,R,O,T,F,j,V,U,Y,Z,ht,_t,At,z,ot,X]),Pt=I.useMemo(()=>kE(et,()=>Z&&(X?Sv(Z,X):void 0)),[et,Z,X]),Gt=`${ht}@${X}/${ot}`;function ct(){switch(gt){case"custom":return Ft(u,'renderMode was set to "custom", but no customRenderer was passed.'),N.jsx(u,{},`${Gt}_custom`);case"none":return null;case"canvas":default:return N.jsx(N6,{canvasRef:a},`${Gt}_canvas`)}}function Fe(){return z?N.jsx(B6,{},`${Gt}_text`):null}function Ne(){return q?N.jsx(W6,{},`${Gt}_annotations`):null}function ae(){return N.jsxs(IE.Provider,{value:Mt,children:[ct(),Fe(),Ne(),o]})}function rn(){return _t?B===null||Z===void 0||Z===null?N.jsx(eo,{type:"loading",children:typeof b=="function"?b():b}):B===!1||Z===!1?N.jsx(eo,{type:"error",children:typeof p=="function"?p():p}):ae():N.jsx(eo,{type:"no-data",children:typeof A=="function"?A():A})}return N.jsx("div",Object.assign({className:ep(i,l),"data-page-number":_t,ref:LE(y,mt),style:{"--scale-factor":`${X}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Pt,{children:rn()}))}E6();Py.workerSrc="pdf.worker.mjs";const jE="SET_ZOOM_LEVEL",cg=n=>({type:jE,value:n}),BE="SET_PDF_PAGINATED",H6=n=>({type:BE,value:n}),WE="SET_NUM_PAGES",Ob=n=>({type:WE,value:n}),VE="SET_CURRENT_PAGE",Fb=n=>({type:VE,value:n}),fs={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},z6=(n=fs,t)=>{switch(t.type){case jE:{const{value:e}=t;return{...n,zoomLevel:e}}case BE:{const{value:e}=t;return{...n,paginated:e}}case WE:{const{value:e}=t;return{...n,numPages:e}}case VE:{const{value:e}=t;return{...n,currentPage:e}}default:return n}},go=I.createContext({state:fs,dispatch:()=>null}),$6=({children:n,mainState:t})=>{var e,i,s,r,a,o,l;const[u,c]=I.useReducer(z6,{...fs,defaultZoomLevel:((i=(e=t.config)==null?void 0:e.pdfZoom)==null?void 0:i.defaultZoom)??fs.defaultZoomLevel,zoomLevel:((r=(s=t.config)==null?void 0:s.pdfZoom)==null?void 0:r.defaultZoom)??fs.zoomLevel,zoomJump:((o=(a=t.config)==null?void 0:a.pdfZoom)==null?void 0:o.zoomJump)??fs.zoomJump,paginated:(l=t.config)!=null&&l.pdfVerticalScrollByDefault?!1:fs.paginated,mainState:t});return N.jsx(go.Provider,{value:{state:u,dispatch:c},children:n})},UE=({pageNum:n})=>{const{state:{mainState:t,paginated:e,zoomLevel:i,numPages:s,currentPage:r}}=I.useContext(go),{t:a}=Mr(),o=(t==null?void 0:t.rendererRect)||null,l=n??r;return N.jsxs(G6,{id:"pdf-page-wrapper",$lastPage:l>=s,children:[!e&&N.jsx(q6,{id:"pdf-page-info",children:a("pdfPluginPageNumber",{currentPage:l,allPagesCount:s})}),N.jsx(U6,{pageNumber:l||r,scale:i,height:((o==null?void 0:o.height)??100)-100,width:((o==null?void 0:o.width)??100)-100,loading:a("pdfPluginLoading")})]})},G6=yt.div`
  margin: ${n=>n.$lastPage?"20px 0":void 0};
`,q6=yt.div`
  padding: 0 0 10px 10px;
  color: ${n=>n.theme.textTertiary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,K6=()=>{const{state:{numPages:n}}=I.useContext(go),t=[];for(let e=0;e<n;e++)t.push(N.jsx(UE,{pageNum:e+1},e+1));return N.jsx(N.Fragment,{children:t})},Y6=()=>{const{state:{mainState:n,paginated:t},dispatch:e}=I.useContext(go),{t:i}=Mr(),s=(n==null?void 0:n.currentDocument)||null;return I.useEffect(()=>{e(Ob(fs.numPages))},[s]),!s||s.fileData===void 0?null:N.jsx(X6,{file:s.fileData,onLoadSuccess:({numPages:r})=>e(Ob(r)),loading:N.jsx("span",{children:i("pdfPluginLoading")}),children:t?N.jsx(UE,{}):N.jsx(K6,{})})},X6=yt(R6)`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`,Z6=n=>N.jsx(HE,{...n,reverse:!0}),Q6=n=>N.jsx(HE,{...n}),HE=n=>{const{color:t,size:e,reverse:i}=n;return N.jsx("svg",{width:e||"100%",height:e||"100%",style:{transform:`${i?"rotate(180deg)":""}`},viewBox:"0 0 12 12",version:"1.1",children:N.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:N.jsx("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)",children:N.jsx("g",{id:"AV",transform:"translate(100.000000, 852.000000)",children:N.jsx("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)",children:N.jsxs("g",{children:[N.jsx("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),N.jsx("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:t||"#aaa"})]})})})})})})},J6=n=>{const{color:t,size:e,reverse:i}=n;return N.jsxs("svg",{width:e||"100%",height:e||"100%",style:{transform:`${i?"rotate(180deg)":""}`},id:"Layer_1",viewBox:"0 0 24 24",children:[N.jsx("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:t||"#aaa"}),N.jsx("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:t||"#aaa"})]})},tj=n=>N.jsx(zE,{...n}),ej=n=>N.jsx(zE,{...n,reverse:!0}),zE=n=>{const{color:t,size:e,reverse:i}=n;return N.jsx("svg",{width:e||"100%",height:e||"100%",viewBox:"0 0 32 32",version:"1.1",children:N.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:N.jsx("g",{id:"search-plus-icon",fill:t||"#aaa",children:N.jsx("path",{id:"search-plus",d:i?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"})})})})},nj=n=>{const{color:t,size:e}=n;return N.jsx("svg",{width:e||"100%",height:e||"100%",viewBox:"0 0 24 24",children:N.jsx("path",{fill:t||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"})})},ij=n=>{const{color:t,size:e,reverse:i}=n;return N.jsx("svg",{width:e||"100%",height:e||"100%",style:{transform:`${i?"rotate(90deg)":""}`},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve",children:N.jsx("path",{fill:t||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`})})},sj=()=>{const{state:{currentPage:n,numPages:t},dispatch:e}=I.useContext(go),{t:i}=Mr();return N.jsxs(rj,{id:"pdf-pagination",children:[N.jsx($E,{id:"pdf-pagination-prev",onClick:()=>e(Fb(n-1)),disabled:n===1,children:N.jsx(Z6,{color:"#000",size:"50%"})}),N.jsx(oj,{id:"pdf-pagination-info",children:i("pdfPluginPageNumber",{currentPage:n,allPagesCount:t})}),N.jsx(aj,{id:"pdf-pagination-next",onClick:()=>e(Fb(n+1)),disabled:n>=t,children:N.jsx(Q6,{color:"#000",size:"50%"})})]})},rj=yt.div`
  display: flex;
  align-items: center;
`,$E=yt(Wf)`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,aj=yt($E)`
  margin: 0 20px 0 5px;
`,oj=yt.div`
  color: ${n=>n.theme.textPrimary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,lj=()=>{const{t:n}=Mr(),{state:{mainState:t,paginated:e,zoomLevel:i,numPages:s,zoomJump:r,defaultZoomLevel:a},dispatch:o}=I.useContext(go),l=(t==null?void 0:t.currentDocument)||null;return N.jsxs(hj,{id:"pdf-controls",children:[e&&s>1&&N.jsx(sj,{}),(l==null?void 0:l.fileData)&&N.jsx(cj,{id:"pdf-download",href:l==null?void 0:l.fileData,download:(l==null?void 0:l.fileName)||(l==null?void 0:l.uri),title:n("downloadButtonLabel"),children:N.jsx(J6,{color:"#000",size:"75%"})}),N.jsx(cc,{id:"pdf-zoom-out",onMouseDown:()=>o(cg(i-r)),children:N.jsx(ej,{color:"#000",size:"80%"})}),N.jsx(cc,{id:"pdf-zoom-in",onMouseDown:()=>o(cg(i+r)),children:N.jsx(tj,{color:"#000",size:"80%"})}),N.jsx(cc,{id:"pdf-zoom-reset",onMouseDown:()=>o(cg(a)),disabled:i===a,children:N.jsx(nj,{color:"#000",size:"70%"})}),s>1&&N.jsx(cc,{id:"pdf-toggle-pagination",onMouseDown:()=>o(H6(!e)),children:N.jsx(ij,{color:"#000",size:"70%",reverse:e})})]})},hj=yt.div`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: ${n=>n.theme.tertiary};
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`,cc=yt(Wf)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,cj=yt(kS)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`;Py.workerSrc=new URL(`https://unpkg.com/pdfjs-dist@${EE}/build/pdf.worker.min.mjs`).toString();const Ry=({mainState:n})=>N.jsx($6,{mainState:n,children:N.jsxs(uj,{id:"pdf-renderer","data-testid":"pdf-renderer",children:[N.jsx(lj,{}),N.jsx(Y6,{})]})});Ry.fileTypes=["pdf","application/pdf"];Ry.weight=0;const uj=yt.div`
  display: flex;
  flex-direction: column;
  flex: 1;

  /* width */
  &::-webkit-scrollbar {
    ${n=>n.theme.disableThemeScrollbar?"":"width: 10px"};
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: ${n=>n.theme.secondary}; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: ${n=>n.theme.tertiary};
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: ${n=>n.theme.primary};
  }
`,dj=yt(Ii)`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`,Ly=n=>N.jsx(dj,{...n});Ly.fileTypes=["png","image/png"];Ly.weight=0;let ki,en,xf=[];const fj=()=>{var n=Ye(2,0);if(n===18761)en=!0;else if(n===19789)en=!1;else throw TypeError("Invalid byte order value.");return en},pj=()=>{if(Ye(2,2)!==42)throw RangeError("You forgot your towel!");return!0},gj=n=>{var t={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},e;return n in t?e=t[n]:e="Tag"+n,e},mj=n=>{var t={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},e;return n in t&&(e=t[n]),e},vj=n=>{var t;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(n)!==-1?t=1:["SHORT","SSHORT"].indexOf(n)!==-1?t=2:["LONG","SLONG","FLOAT"].indexOf(n)!==-1?t=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(n)!==-1&&(t=8),t},yj=(n,t,e)=>{e=e||0;var i=Math.floor(e/8),s=t+i,r=e+n,a=32-n;if(r<=0)throw RangeError("No bits requested");if(r<=8)var o=24+e,l=ki.getUint8(s,en);else if(r<=16)var o=16+e,l=ki.getUint16(s,en);else if(r<=32)var o=e,l=ki.getUint32(s,en);else throw RangeError("Too many bits requested");var u={bits:l<<o>>>a,byteOffset:s+Math.floor(r/8),bitOffset:r%8};return u},Ye=(n,t)=>{if(n<=0)throw RangeError("No bytes requested");if(n<=1)return ki.getUint8(t,en);if(n<=2)return ki.getUint16(t,en);if(n<=3)return ki.getUint32(t,en)>>>8;if(n<=4)return ki.getUint32(t,en);throw RangeError("Too many bytes requested")},wj=(n,t,e,i)=>{var s=[],r=vj(t),a=r*e;if(a<=4){if(en===!1)var o=i>>>(4-r)*8;else var o=i;s.push(o)}else for(var l=0;l<e;l++){var u=r*l;if(r>=8)if(["RATIONAL","SRATIONAL"].indexOf(t)!==-1)s.push(Ye(4,i+u)),s.push(Ye(4,i+u+4));else throw TypeError("Can't handle this field type or size");else s.push(Ye(r,i+u))}return t==="ASCII"&&s.forEach(function(c,d,p){p[d]=String.fromCharCode(c)}),s},Rs=(n,t)=>{var e=Math.pow(2,8-t);return Math.floor(n*e+(e-1))},Nb=(n,t,e,i)=>(typeof i>"u"&&(i=1),"rgba("+n+", "+t+", "+e+", "+i+")"),GE=n=>{for(var t=Ye(2,n),e=[],i=n+2,s=0;s<t;i+=12,s++){var r=Ye(2,i),a=Ye(2,i+2),o=Ye(4,i+4),l=Ye(4,i+8),u=gj(r),c=mj(a),d=wj(u,c,o,l);e[u]={type:c,values:d}}xf.push(e);var p=Ye(4,i);return p===0?xf:GE(p)},bj=(n,t)=>{let e=t||document.createElement("canvas");if(n&&(ki=new DataView(n),en=fj(),!!pj())){var i=Ye(4,4);xf=GE(i);var s=xf[0],r=s.ImageWidth.values[0],a=s.ImageLength.values[0];e.width=r,e.height=a;var o=[],l=s.Compression?s.Compression.values[0]:1,u=s.SamplesPerPixel.values[0],c=[],d=0,p=!1;if(s.BitsPerSample.values.forEach(function(Gt,ct,Fe){c[ct]={bitsPerSample:Gt,hasBytesPerSample:!1,bytesPerSample:void 0},Gt%8===0&&(c[ct].hasBytesPerSample=!0,c[ct].bytesPerSample=Gt/8),d+=Gt},void 0),d%8===0){p=!0;var g=d/8}var y=s.StripOffsets.values,b=y.length;if(s.StripByteCounts)var A=s.StripByteCounts.values;else if(b===1)var A=[Math.ceil(r*a*d/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var E=0;E<b;E++){var k=y[E];o[E]=[];for(var C=A[E],P=0,R=0,O=1,D=!0,_=[],T=0,F=0,j=0;P<C;P+=O)switch(l){case 1:for(var V=0,_=[];V<u;V++)if(c[V].hasBytesPerSample){var U=c[V].bytesPerSample*V;_.push(Ye(c[V].bytesPerSample,k+P+U))}else{var Y=yj(c[V].bitsPerSample,k+P,R);throw _.push(Y.bits),P=Y.byteOffset-k,R=Y.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(o[E].push(_),p)O=g;else throw O=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(D){D=!1;var G=1,H=1,B=ki.getInt8(k+P,en);B>=0&&B<=127?G=B+1:B>=-127&&B<=-1?H=-B+1:D=!0}else{for(var it=Ye(1,k+P),V=0;V<H;V++){if(c[F].hasBytesPerSample)j=j<<8*T|it,T++,T===c[F].bytesPerSample&&(_.push(j),j=T=0,F++);else throw RangeError("Cannot handle sub-byte bits per sample");F===u&&(o[E].push(_),_=[],F=0)}G--,G===0&&(D=!0)}O=1;break}}if(e.getContext){var q=e.getContext("2d");if(q.fillStyle=Nb(255,255,255,0),s.RowsPerStrip)var At=s.RowsPerStrip.values[0];else var At=a;var gt=o.length,z=a%At,nt=z===0?At:z,tt=At,J=0,st=s.PhotometricInterpretation.values[0],et=[],wt=0;if(s.ExtraSamples&&(et=s.ExtraSamples.values,wt=et.length),s.ColorMap)var K=s.ColorMap.values,Z=Math.pow(2,c[0].bitsPerSample);for(var E=0;E<gt;E++){E+1===gt&&(tt=nt);for(var ft=o[E].length,mt=J*E,ht=0,_t=0;_t<ft;ht++)for(var ot=0;ot<r;ot++,_t++){var X=o[E][_t],St=0,Rt=0,zt=0,re=1;if(wt>0){for(var $t=0;$t<wt;$t++)if(et[$t]===1||et[$t]===2){re=X[3+$t]/256;break}}switch(st){case 0:if(c[0].hasBytesPerSample)var Mt=Math.pow(16,c[0].bytesPerSample*2);X.forEach(function(ct,Fe,Ne){Ne[Fe]=Mt-ct});case 1:St=Rt=zt=Rs(X[0],c[0].bitsPerSample);break;case 2:St=Rs(X[0],c[0].bitsPerSample),Rt=Rs(X[1],c[1].bitsPerSample),zt=Rs(X[2],c[2].bitsPerSample);break;case 3:if(K===void 0)throw Error("Palette image missing color map");var Pt=X[0];St=Rs(K[Pt],16),Rt=Rs(K[Z+Pt],16),zt=Rs(K[2*Z+Pt],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",st)}q.fillStyle=Nb(St,Rt,zt,re),q.fillRect(ot,mt+ht,1,1)}J=tt}}return e}},rp=n=>{const{mainState:{currentDocument:t}}=n,{t:e}=Mr(),[i,s]=I.useState(!1),[r,a]=I.useState(!1);return I.useEffect(()=>{if(!t||i)return;const o=document.getElementById("tiff-img");try{o&&bj(t.fileData,o),s(!0)}catch{a(!0)}},[t,i]),r?N.jsx(Ii,{...n,children:N.jsx("div",{children:e("brokenFile")})}):N.jsx(Ii,{...n,children:N.jsx(Aj,{id:"tiff-img"})})};rp.fileTypes=["tif","tiff","image/tif","image/tiff"];rp.weight=0;rp.fileLoader=a5;const Aj=yt.canvas`
  max-width: 95%;
  max-height: 95%;
`,ap=({mainState:{currentDocument:n}})=>N.jsx(xj,{id:"txt-renderer",children:n==null?void 0:n.fileData});ap.fileTypes=["txt","text/plain"];ap.weight=0;ap.fileLoader=PS;const xj=yt.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`;var qE={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(n,t){(function(e,i){n.exports=i()})(Do,function e(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s=!i.document&&!!i.postMessage,r=i.IS_PAPA_WORKER||!1,a={},o=0,l={parse:function(_,T){var F=(T=T||{}).dynamicTyping||!1;if(D(F)&&(T.dynamicTypingFunction=F,F={}),T.dynamicTyping=F,T.transform=!!D(T.transform)&&T.transform,T.worker&&l.WORKERS_SUPPORTED){var j=function(){if(!l.WORKERS_SUPPORTED)return!1;var U=(G=i.URL||i.webkitURL||null,H=e.toString(),l.BLOB_URL||(l.BLOB_URL=G.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))),Y=new i.Worker(U),G,H;return Y.onmessage=k,Y.id=o++,a[Y.id]=Y}();return j.userStep=T.step,j.userChunk=T.chunk,j.userComplete=T.complete,j.userError=T.error,T.step=D(T.step),T.chunk=D(T.chunk),T.complete=D(T.complete),T.error=D(T.error),delete T.worker,void j.postMessage({input:_,config:T,workerId:j.id})}var V=null;return l.NODE_STREAM_INPUT,typeof _=="string"?(_=function(U){return U.charCodeAt(0)===65279?U.slice(1):U}(_),V=T.download?new d(T):new g(T)):_.readable===!0&&D(_.read)&&D(_.on)?V=new y(T):(i.File&&_ instanceof File||_ instanceof Object)&&(V=new p(T)),V.stream(_)},unparse:function(_,T){var F=!1,j=!0,V=",",U=`\r
`,Y='"',G=Y+Y,H=!1,B=null,it=!1;(function(){if(typeof T=="object"){if(typeof T.delimiter!="string"||l.BAD_DELIMITERS.filter(function(z){return T.delimiter.indexOf(z)!==-1}).length||(V=T.delimiter),(typeof T.quotes=="boolean"||typeof T.quotes=="function"||Array.isArray(T.quotes))&&(F=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(H=T.skipEmptyLines),typeof T.newline=="string"&&(U=T.newline),typeof T.quoteChar=="string"&&(Y=T.quoteChar),typeof T.header=="boolean"&&(j=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");B=T.columns}T.escapeChar!==void 0&&(G=T.escapeChar+Y),(typeof T.escapeFormulae=="boolean"||T.escapeFormulae instanceof RegExp)&&(it=T.escapeFormulae instanceof RegExp?T.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var q=new RegExp(A(Y),"g");if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return At(null,_,H);if(typeof _[0]=="object")return At(B||Object.keys(_[0]),_,H)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||B),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),At(_.fields||[],_.data||[],H);throw new Error("Unable to serialize unrecognized input");function At(z,nt,tt){var J="";typeof z=="string"&&(z=JSON.parse(z)),typeof nt=="string"&&(nt=JSON.parse(nt));var st=Array.isArray(z)&&0<z.length,et=!Array.isArray(nt[0]);if(st&&j){for(var wt=0;wt<z.length;wt++)0<wt&&(J+=V),J+=gt(z[wt],wt);0<nt.length&&(J+=U)}for(var K=0;K<nt.length;K++){var Z=st?z.length:nt[K].length,ft=!1,mt=st?Object.keys(nt[K]).length===0:nt[K].length===0;if(tt&&!st&&(ft=tt==="greedy"?nt[K].join("").trim()==="":nt[K].length===1&&nt[K][0].length===0),tt==="greedy"&&st){for(var ht=[],_t=0;_t<Z;_t++){var ot=et?z[_t]:_t;ht.push(nt[K][ot])}ft=ht.join("").trim()===""}if(!ft){for(var X=0;X<Z;X++){0<X&&!mt&&(J+=V);var St=st&&et?z[X]:X;J+=gt(nt[K][St],X)}K<nt.length-1&&(!tt||0<Z&&!mt)&&(J+=U)}}return J}function gt(z,nt){if(z==null)return"";if(z.constructor===Date)return JSON.stringify(z).slice(1,25);var tt=!1;it&&typeof z=="string"&&it.test(z)&&(z="'"+z,tt=!0);var J=z.toString().replace(q,G);return(tt=tt||F===!0||typeof F=="function"&&F(z,nt)||Array.isArray(F)&&F[nt]||function(st,et){for(var wt=0;wt<et.length;wt++)if(-1<st.indexOf(et[wt]))return!0;return!1}(J,l.BAD_DELIMITERS)||-1<J.indexOf(V)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?Y+J+Y:J}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!i.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=E,l.ParserHandle=b,l.NetworkStreamer=d,l.FileStreamer=p,l.StringStreamer=g,l.ReadableStreamStreamer=y,i.jQuery){var u=i.jQuery;u.fn.parse=function(_){var T=_.config||{},F=[];return this.each(function(U){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var Y=0;Y<this.files.length;Y++)F.push({file:this.files[Y],inputElem:this,instanceConfig:u.extend({},T)})}),j(),this;function j(){if(F.length!==0){var U,Y,G,H,B=F[0];if(D(_.before)){var it=_.before(B.file,B.inputElem);if(typeof it=="object"){if(it.action==="abort")return U="AbortError",Y=B.file,G=B.inputElem,H=it.reason,void(D(_.error)&&_.error({name:U},Y,G,H));if(it.action==="skip")return void V();typeof it.config=="object"&&(B.instanceConfig=u.extend(B.instanceConfig,it.config))}else if(it==="skip")return void V()}var q=B.instanceConfig.complete;B.instanceConfig.complete=function(At){D(q)&&q(At,B.file,B.inputElem),V()},l.parse(B.file,B.instanceConfig)}else D(_.complete)&&_.complete()}function V(){F.splice(0,1),j()}}}function c(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var F=R(T);F.chunkSize=parseInt(F.chunkSize),T.step||T.chunk||(F.chunkSize=null),this._handle=new b(F),(this._handle.streamer=this)._config=F}).call(this,_),this.parseChunk=function(T,F){if(this.isFirstChunk&&D(this._config.beforeFirstChunk)){var j=this._config.beforeFirstChunk(T);j!==void 0&&(T=j)}this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+T;this._partialLine="";var U=this._handle.parse(V,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Y=U.meta.cursor;this._finished||(this._partialLine=V.substring(Y-this._baseIndex),this._baseIndex=Y),U&&U.data&&(this._rowCount+=U.data.length);var G=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)i.postMessage({results:U,workerId:l.WORKER_ID,finished:G});else if(D(this._config.chunk)&&!F){if(this._config.chunk(U,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);U=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(U.data),this._completeResults.errors=this._completeResults.errors.concat(U.errors),this._completeResults.meta=U.meta),this._completed||!G||!D(this._config.complete)||U&&U.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),G||U&&U.meta.paused||this._nextChunk(),U}this._halted=!0},this._sendError=function(T){D(this._config.error)?this._config.error(T):r&&this._config.error&&i.postMessage({workerId:l.WORKER_ID,error:T,finished:!1})}}function d(_){var T;(_=_||{}).chunkSize||(_.chunkSize=l.RemoteChunkSize),c.call(this,_),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),s||(T.onload=O(this._chunkLoaded,this),T.onerror=O(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var F=this._config.downloadRequestHeaders;for(var j in F)T.setRequestHeader(j,F[j])}if(this._config.chunkSize){var V=this._start+this._config.chunkSize-1;T.setRequestHeader("Range","bytes="+this._start+"-"+V)}try{T.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}s&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:T.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(F){var j=F.getResponseHeader("Content-Range");return j===null?-1:parseInt(j.substring(j.lastIndexOf("/")+1))}(T),this.parseChunk(T.responseText)))},this._chunkError=function(F){var j=T.statusText||F;this._sendError(new Error(j))}}function p(_){var T,F;(_=_||{}).chunkSize||(_.chunkSize=l.LocalChunkSize),c.call(this,_);var j=typeof FileReader<"u";this.stream=function(V){this._input=V,F=V.slice||V.webkitSlice||V.mozSlice,j?((T=new FileReader).onload=O(this._chunkLoaded,this),T.onerror=O(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input;if(this._config.chunkSize){var U=Math.min(this._start+this._config.chunkSize,this._input.size);V=F.call(V,this._start,U)}var Y=T.readAsText(V,this._config.encoding);j||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(T.error)}}function g(_){var T;c.call(this,_=_||{}),this.stream=function(F){return T=F,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var F,j=this._config.chunkSize;return j?(F=T.substring(0,j),T=T.substring(j)):(F=T,T=""),this._finished=!T,this.parseChunk(F)}}}function y(_){c.call(this,_=_||{});var T=[],F=!0,j=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):F=!0},this._streamData=O(function(V){try{T.push(typeof V=="string"?V:V.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(U){this._streamError(U)}},this),this._streamError=O(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=O(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(_){var T,F,j,V=Math.pow(2,53),U=-V,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,B=0,it=0,q=!1,At=!1,gt=[],z={data:[],errors:[],meta:{}};if(D(_.step)){var nt=_.step;_.step=function(K){if(z=K,st())J();else{if(J(),z.data.length===0)return;B+=K.data.length,_.preview&&B>_.preview?F.abort():(z.data=z.data[0],nt(z,H))}}}function tt(K){return _.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function J(){return z&&j&&(wt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),j=!1),_.skipEmptyLines&&(z.data=z.data.filter(function(K){return!tt(K)})),st()&&function(){if(!z)return;function K(ft,mt){D(_.transformHeader)&&(ft=_.transformHeader(ft,mt)),gt.push(ft)}if(Array.isArray(z.data[0])){for(var Z=0;st()&&Z<z.data.length;Z++)z.data[Z].forEach(K);z.data.splice(0,1)}else z.data.forEach(K)}(),function(){if(!z||!_.header&&!_.dynamicTyping&&!_.transform)return z;function K(ft,mt){var ht,_t=_.header?{}:[];for(ht=0;ht<ft.length;ht++){var ot=ht,X=ft[ht];_.header&&(ot=ht>=gt.length?"__parsed_extra":gt[ht]),_.transform&&(X=_.transform(X,ot)),X=et(ot,X),ot==="__parsed_extra"?(_t[ot]=_t[ot]||[],_t[ot].push(X)):_t[ot]=X}return _.header&&(ht>gt.length?wt("FieldMismatch","TooManyFields","Too many fields: expected "+gt.length+" fields but parsed "+ht,it+mt):ht<gt.length&&wt("FieldMismatch","TooFewFields","Too few fields: expected "+gt.length+" fields but parsed "+ht,it+mt)),_t}var Z=1;return!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(K),Z=z.data.length):z.data=K(z.data,0),_.header&&z.meta&&(z.meta.fields=gt),it+=Z,z}()}function st(){return _.header&&gt.length===0}function et(K,Z){return ft=K,_.dynamicTypingFunction&&_.dynamicTyping[ft]===void 0&&(_.dynamicTyping[ft]=_.dynamicTypingFunction(ft)),(_.dynamicTyping[ft]||_.dynamicTyping)===!0?Z==="true"||Z==="TRUE"||Z!=="false"&&Z!=="FALSE"&&(function(mt){if(Y.test(mt)){var ht=parseFloat(mt);if(U<ht&&ht<V)return!0}return!1}(Z)?parseFloat(Z):G.test(Z)?new Date(Z):Z===""?null:Z):Z;var ft}function wt(K,Z,ft,mt){var ht={type:K,code:Z,message:ft};mt!==void 0&&(ht.row=mt),z.errors.push(ht)}this.parse=function(K,Z,ft){var mt=_.quoteChar||'"';if(_.newline||(_.newline=function(ot,X){ot=ot.substring(0,1048576);var St=new RegExp(A(X)+"([^]*?)"+A(X),"gm"),Rt=(ot=ot.replace(St,"")).split("\r"),zt=ot.split(`
`),re=1<zt.length&&zt[0].length<Rt[0].length;if(Rt.length===1||re)return`
`;for(var $t=0,Mt=0;Mt<Rt.length;Mt++)Rt[Mt][0]===`
`&&$t++;return $t>=Rt.length/2?`\r
`:"\r"}(K,mt)),j=!1,_.delimiter)D(_.delimiter)&&(_.delimiter=_.delimiter(K),z.meta.delimiter=_.delimiter);else{var ht=function(ot,X,St,Rt,zt){var re,$t,Mt,Pt;zt=zt||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Gt=0;Gt<zt.length;Gt++){var ct=zt[Gt],Fe=0,Ne=0,ae=0;Mt=void 0;for(var rn=new E({comments:Rt,delimiter:ct,newline:X,preview:10}).parse(ot),f=0;f<rn.data.length;f++)if(St&&tt(rn.data[f]))ae++;else{var m=rn.data[f].length;Ne+=m,Mt!==void 0?0<m&&(Fe+=Math.abs(m-Mt),Mt=m):Mt=m}0<rn.data.length&&(Ne/=rn.data.length-ae),($t===void 0||Fe<=$t)&&(Pt===void 0||Pt<Ne)&&1.99<Ne&&($t=Fe,re=ct,Pt=Ne)}return{successful:!!(_.delimiter=re),bestDelimiter:re}}(K,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);ht.successful?_.delimiter=ht.bestDelimiter:(j=!0,_.delimiter=l.DefaultDelimiter),z.meta.delimiter=_.delimiter}var _t=R(_);return _.preview&&_.header&&_t.preview++,T=K,F=new E(_t),z=F.parse(T,Z,ft),J(),q?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,F.abort(),T=D(_.chunk)?"":T.substring(F.getCharIndex())},this.resume=function(){H.streamer._halted?(q=!1,H.streamer.parseChunk(T,!0)):setTimeout(H.resume,3)},this.aborted=function(){return At},this.abort=function(){At=!0,F.abort(),z.meta.aborted=!0,D(_.complete)&&_.complete(z),T=""}}function A(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(_){var T,F=(_=_||{}).delimiter,j=_.newline,V=_.comments,U=_.step,Y=_.preview,G=_.fastMode,H=T=_.quoteChar===void 0||_.quoteChar===null?'"':_.quoteChar;if(_.escapeChar!==void 0&&(H=_.escapeChar),(typeof F!="string"||-1<l.BAD_DELIMITERS.indexOf(F))&&(F=","),V===F)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<l.BAD_DELIMITERS.indexOf(V))&&(V=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var B=0,it=!1;this.parse=function(q,At,gt){if(typeof q!="string")throw new Error("Input must be a string");var z=q.length,nt=F.length,tt=j.length,J=V.length,st=D(U),et=[],wt=[],K=[],Z=B=0;if(!q)return w();if(_.header&&!At){var ft=q.split(j)[0].split(F),mt=[],ht={},_t=!1;for(var ot in ft){var X=ft[ot];D(_.transformHeader)&&(X=_.transformHeader(X,ot));var St=X,Rt=ht[X]||0;for(0<Rt&&(_t=!0,St=X+"_"+Rt),ht[X]=Rt+1;mt.includes(St);)St=St+"_"+Rt;mt.push(St)}if(_t){var zt=q.split(j);zt[0]=mt.join(F),q=zt.join(j)}}if(G||G!==!1&&q.indexOf(T)===-1){for(var re=q.split(j),$t=0;$t<re.length;$t++){if(K=re[$t],B+=K.length,$t!==re.length-1)B+=j.length;else if(gt)return w();if(!V||K.substring(0,J)!==V){if(st){if(et=[],ae(K.split(F)),M(),it)return w()}else ae(K.split(F));if(Y&&Y<=$t)return et=et.slice(0,Y),w(!0)}}return w()}for(var Mt=q.indexOf(F,B),Pt=q.indexOf(j,B),Gt=new RegExp(A(H)+A(T),"g"),ct=q.indexOf(T,B);;)if(q[B]!==T)if(V&&K.length===0&&q.substring(B,B+J)===V){if(Pt===-1)return w();B=Pt+tt,Pt=q.indexOf(j,B),Mt=q.indexOf(F,B)}else if(Mt!==-1&&(Mt<Pt||Pt===-1))K.push(q.substring(B,Mt)),B=Mt+nt,Mt=q.indexOf(F,B);else{if(Pt===-1)break;if(K.push(q.substring(B,Pt)),m(Pt+tt),st&&(M(),it))return w();if(Y&&et.length>=Y)return w(!0)}else for(ct=B,B++;;){if((ct=q.indexOf(T,ct+1))===-1)return gt||wt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:et.length,index:B}),f();if(ct===z-1)return f(q.substring(B,ct).replace(Gt,T));if(T!==H||q[ct+1]!==H){if(T===H||ct===0||q[ct-1]!==H){Mt!==-1&&Mt<ct+1&&(Mt=q.indexOf(F,ct+1)),Pt!==-1&&Pt<ct+1&&(Pt=q.indexOf(j,ct+1));var Fe=rn(Pt===-1?Mt:Math.min(Mt,Pt));if(q.substr(ct+1+Fe,nt)===F){K.push(q.substring(B,ct).replace(Gt,T)),q[B=ct+1+Fe+nt]!==T&&(ct=q.indexOf(T,B)),Mt=q.indexOf(F,B),Pt=q.indexOf(j,B);break}var Ne=rn(Pt);if(q.substring(ct+1+Ne,ct+1+Ne+tt)===j){if(K.push(q.substring(B,ct).replace(Gt,T)),m(ct+1+Ne+tt),Mt=q.indexOf(F,B),ct=q.indexOf(T,B),st&&(M(),it))return w();if(Y&&et.length>=Y)return w(!0);break}wt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:et.length,index:B}),ct++}}else ct++}return f();function ae(L){et.push(L),Z=B}function rn(L){var W=0;if(L!==-1){var $=q.substring(ct+1,L);$&&$.trim()===""&&(W=$.length)}return W}function f(L){return gt||(L===void 0&&(L=q.substring(B)),K.push(L),B=z,ae(K),st&&M()),w()}function m(L){B=L,ae(K),K=[],Pt=q.indexOf(j,B)}function w(L){return{data:et,errors:wt,meta:{delimiter:F,linebreak:j,aborted:it,truncated:!!L,cursor:Z+(At||0)}}}function M(){U(w()),et=[],wt=[]}},this.abort=function(){it=!0},this.getCharIndex=function(){return B}}function k(_){var T=_.data,F=a[T.workerId],j=!1;if(T.error)F.userError(T.error,T.file);else if(T.results&&T.results.data){var V={abort:function(){j=!0,C(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(D(F.userStep)){for(var U=0;U<T.results.data.length&&(F.userStep({data:T.results.data[U],errors:T.results.errors,meta:T.results.meta},V),!j);U++);delete T.results}else D(F.userChunk)&&(F.userChunk(T.results,V,T.file),delete T.results)}T.finished&&!j&&C(T.workerId,T.results)}function C(_,T){var F=a[_];D(F.userComplete)&&F.userComplete(T),F.terminate(),delete a[_]}function P(){throw new Error("Not implemented.")}function R(_){if(typeof _!="object"||_===null)return _;var T=Array.isArray(_)?[]:{};for(var F in _)T[F]=R(_[F]);return T}function O(_,T){return function(){_.apply(T,arguments)}}function D(_){return typeof _=="function"}return r&&(i.onmessage=function(_){var T=_.data;if(l.WORKER_ID===void 0&&T&&(l.WORKER_ID=T.workerId),typeof T.input=="string")i.postMessage({workerId:l.WORKER_ID,results:l.parse(T.input,T.config),finished:!0});else if(i.File&&T.input instanceof File||T.input instanceof Object){var F=l.parse(T.input,T.config);F&&i.postMessage({workerId:l.WORKER_ID,results:F,finished:!0})}}),(d.prototype=Object.create(c.prototype)).constructor=d,(p.prototype=Object.create(c.prototype)).constructor=p,(g.prototype=Object.create(g.prototype)).constructor=g,(y.prototype=Object.create(c.prototype)).constructor=y,l})})(qE);var Sj=qE.exports;const Ej=ux(Sj),op=({mainState:{currentDocument:n,config:t}})=>{const[e,i]=I.useState([]);return I.useEffect(()=>{var s;if(n!=null&&n.fileData){const r=Ej.parse(n.fileData,{delimiter:(t==null?void 0:t.csvDelimiter)??","});!((s=r.errors)!=null&&s.length)&&r.data&&i(r.data)}},[n,t==null?void 0:t.csvDelimiter]),e.length?N.jsx(kj,{children:N.jsxs(_j,{children:[N.jsx("thead",{children:N.jsx("tr",{children:e[0].map(s=>N.jsx("th",{children:s},s))})}),N.jsx("tbody",{children:e.slice(1,e.length).map(s=>N.jsx("tr",{children:s.map(r=>N.jsx("td",{children:r},r))},s.join("")))})]})}):null};op.fileTypes=["csv","text/csv"];op.weight=0;op.fileLoader=PS;const kj=yt.div`
  width: 100%;
`,_j=yt.table`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`,Iy=n=>N.jsx(Ii,{...n});Iy.fileTypes=["gif","image/gif"];Iy.weight=0;const Dy=({mainState:{currentDocument:n}})=>n?N.jsx(Cj,{id:"video-renderer",children:N.jsx(Tj,{controls:!0,src:n.uri})}):null;Dy.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];Dy.weight=0;const Cj=yt.div`
  width: 100%;
`,Tj=yt.video`
  width: 100%;
  height: 100%;
  border: 0;
`,Oy=n=>N.jsx(Ii,{...n});Oy.fileTypes=["webp","image/webp"];Oy.weight=0;const Mj=[vy,Vf,yy,Uf,Ry,Ly,rp,ap,op,Iy,Dy,Oy],Pj=I.forwardRef((n,t)=>{const{documents:e,theme:i}=n;if(!e)throw new Error("Please provide an array of documents to DocViewer!");return N.jsx(PO,{ref:t,pluginRenderers:Mj,...n,children:N.jsx(pD,{theme:i?{...jw,...i}:jw,children:N.jsxs(Rj,{id:"react-doc-viewer","data-testid":"react-doc-viewer",className:n.className,style:n.style,children:[N.jsx(s5,{}),N.jsx(d5,{})]})})})}),_B=I.memo(Pj),Rj=yt.div`
  display: flex;
  flex-direction: column;
  background: #ffffff;
  width: 100%;
  height: 100%;
`;export{bB as A,fB as B,iB as C,sB as D,cB as E,nB as F,mB as G,Dj as H,oB as I,Oj as J,_B as K,Yj as L,Bj as M,Mj as N,uB as O,ux as P,Do as Q,dt as R,qg as S,$j as T,AB as U,xB as V,tB as a,Jj as b,eB as c,Nj as d,Ij as e,Xj as f,Zj as g,Uj as h,Hj as i,zj as j,Kj as k,dB as l,wB as m,Fj as n,lB as o,jj as p,Gj as q,pB as r,hB as s,aB as t,rB as u,Qj as v,qj as w,Wj as x,gB as y,Vj as z};
